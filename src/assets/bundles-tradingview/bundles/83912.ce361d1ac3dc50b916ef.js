"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[83912],{583912:(e,t,i)=>{i.d(t,{linking:()=>b});var n=i(12481),r=i(650151),s=i(129025),o=(i(77122),i(223699)),a=i(444331),l=i(201089),u=i(62802),c=i(588948),h=i(776734),d=i(707621),m=i(912445);const _=(0,l.getLogger)("Linking");class p{constructor(e,t,i){this.watchedSymbol=new s.WatchedValue,this.seriesShortSymbol=new s.WatchedValue,this.proSymbol=new s.WatchedValue,this.ensuredProSymbol=new s.WatchedValue,this.watchedInterval=new s.WatchedValue,this.watchedIntraday=new s.WatchedValue,this.watchedSeconds=new s.WatchedValue,this.watchedTicks=new s.WatchedValue,this.watchedDataFrequencyResolution=new s.WatchedValue,this.watchedRange=new s.WatchedValue,this.watchedSupportedResolutions=new s.WatchedValue,this.watchedSupportedChartStyles=new s.WatchedValue,this.symbolNamesList=new s.WatchedValue,this._chartWidgetCollection=null,this._chartWidgetBindingState=0,this._activeChartWidget=null,this._linkingGroupCharts=null,this._boundChartWidget=null,this._watchedSymbolListenerBound=this._watchedSymbolListener.bind(this),this._watchedIntervalListenerBound=this._watchedIntervalListener.bind(this),this._muted=!1,this.updateBoundChartWidget=()=>{const e=this._chartToBind();e!==this._boundChartWidget&&(null===e?this.unbindFromChartWidget():this.bindToChartWidget(e))},this._updateAllGroupChartWidgets=()=>{var e;null===(e=this._destroySymbolIntervalPropertySubscriptions)||void 0===e||e.call(this);const t=(0,r.ensureNotNull)(this._linkingGroupCharts).value(),i=[],n=[];for(const e of t){const t=e.symbolWV().spawn(),r=e.resolutionWV().spawn();t.subscribe(this._updateSymbolByProperty.bind(this,e)),r.subscribe(this._updateIntervalByProperty.bind(this,e)),i.push(t),n.push(r)}this._destroySymbolIntervalPropertySubscriptions=()=>{i.forEach((e=>e.destroy())),n.forEach((e=>e.destroy())),this._destroySymbolIntervalPropertySubscriptions=void 0};const s=this.watchedSymbol.value();t.length>1&&this._needApplySymbol(s)&&!this._muted&&this._setGroupSymbol(s);const o=this.watchedInterval.value();t.length>1&&this._needApplyInterval(o)&&!this._muted&&this._setGroupInterval(o),this.updateBoundChartWidget()},this._groupIndex=e;const n=(e,t)=>{e.subscribe((e=>{i()===this&&t.setValue(e)}),{callWithLast:!0})};n(this.watchedSymbol,t.watchedSymbol),n(this.seriesShortSymbol,t.seriesShortSymbol),n(this.proSymbol,t.proSymbol),n(this.ensuredProSymbol,t.ensuredProSymbol),n(this.watchedInterval,t.watchedInterval),n(this.watchedIntraday,t.watchedIntraday),n(this.watchedSeconds,t.watchedSeconds),n(this.watchedTicks,t.watchedTicks),n(this.watchedDataFrequencyResolution,t.watchedDataFrequencyResolution),n(this.watchedRange,t.watchedRange),n(this.watchedSupportedResolutions,t.watchedSupportedResolutions),n(this.watchedSupportedChartStyles,t.watchedSupportedChartStyles),n(this.symbolNamesList,t.symbolNamesList),this.watchedSymbol.subscribe((e=>{this._boundChartWidget&&this._boundChartWidget.hasModel()&&this._mainSeries().symbolSameAsCurrent(e)||this.proSymbol.setValue(e)}),{callWithLast:!0
})}mute(e){this._muted=e}bindToChartWidgetCollection(e){this.unbindFromChartWidgetCollection(),this._chartWidgetCollection=e,this._activeChartWidget=e.activeChartWidget.spawn(),this._activeChartWidget.subscribe(this.updateBoundChartWidget),this._linkingGroupCharts=e.linkingGroupsCharts(this._groupIndex).spawn(),this._linkingGroupCharts.subscribe(this._updateAllGroupChartWidgets),this.updateBoundChartWidget(),this._updateAllGroupChartWidgets()}unbindFromChartWidgetCollection(){var e,t,i;this.unbindFromChartWidget(),this._chartWidgetCollection=null,null===(e=this._activeChartWidget)||void 0===e||e.destroy(),this._activeChartWidget=null,null===(t=this._linkingGroupCharts)||void 0===t||t.destroy(),this._linkingGroupCharts=null,null===(i=this._destroySymbolIntervalPropertySubscriptions)||void 0===i||i.call(this)}bindToChartWidget(e){if(this.unbindFromChartWidget(),this._boundChartWidget=e,e.hasModel())return void this._onChartModelCreated(e.model());e.modelCreated().subscribe(this,this._onChartModelCreated,!0),this._chartWidgetBindingState=1;const t=e.properties().childs().mainSeriesProperties.childs();this.watchedSymbol.setValue(t.symbol.value()),this.watchedInterval.setValue(t.interval.value()),this._boundChartWidget.linkingGroupIndex().subscribe(this.updateBoundChartWidget)}unbindFromChartWidget(){const e=this._boundChartWidget;if(null!==e){switch(this._chartWidgetBindingState){case 1:e.modelCreated().unsubscribeAll(this);break;case 2:this.watchedSymbol.unsubscribe(this._watchedSymbolListenerBound);const t=this._mainSeries().dataEvents();t.symbolResolved().unsubscribeAll(this),t.symbolError().unsubscribeAll(this),this.watchedInterval.unsubscribe(this._watchedIntervalListenerBound),delete this.watchedSymbol.writeLock}e.linkingGroupIndex().unsubscribe(this.updateBoundChartWidget),this._boundChartWidget=null,this._chartWidgetBindingState=0}}boundChartWidget(){return this._boundChartWidget}_mainSeries(){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");return this._boundChartWidget.model().mainSeries()}_watchedSymbolListener(e){this._needApplySymbol(e)&&!this._muted&&(this._setGroupSymbol(e),this._sendSnowplowAnalytics())}_updateSymbolByProperty(e,t){const i=this._symbolLock();i&&this._needApplySymbol(t)&&!this._muted&&this._setGroupSymbol(t),(i||e===this._boundChartWidget)&&this.watchedSymbol.setValue(t)}_watchedIntervalListener(e){const t=o.Interval.normalize(e);t&&this._needApplyInterval(t)&&!this._muted&&this._setGroupInterval(t)}_updateIntervalByProperty(e,t){const i=this._intervalLock(),n=o.Interval.normalize(t);i&&n&&this._needApplyInterval(n)&&!this._muted&&this._setGroupInterval(n),(i||e===this._boundChartWidget)&&this.watchedInterval.setValue(null!=n?n:t)}_sendSnowplowAnalytics(){if(window.user.do_not_track)return;const e=this._mainSeries(),t=()=>{e.dataEvents().symbolResolved().unsubscribe(this,i)},i=i=>{(0,h.getTracker)().then((e=>{if(null===e)return;const t=(0,r.ensureNotNull)(this._chartWidgetCollection),n=t.layout.value(),s=t.metaInfo.uid.value()||""
;e.trackChartSymbols(i.pro_name,i.type,n,s)})),e.dataEvents().symbolError().unsubscribe(this,t)};e.dataEvents().symbolResolved().subscribe(this,i,!0),e.dataEvents().symbolError().subscribe(this,t,!0)}_updateSeriesSymbolInfo(){this.seriesShortSymbol.setValue((0,r.ensureNotNull)(this._boundChartWidget).getSymbol(!0));const e=this._mainSeries().symbolInfo();if(e){const t=e.pro_name||!1;this.proSymbol.setValue(t||this.watchedSymbol.value()),this.ensuredProSymbol.setValue(this.proSymbol.value()),e.aliases&&this.symbolNamesList.setValue(e.aliases);let i=(0,d.allChartStyles)();(0,a.isCloseBasedSymbol)(e)&&(i=i.filter((e=>(0,a.isSingleValueBasedStyle)(e)))),this.watchedSupportedChartStyles.setValue(i),this.watchedIntraday.setValue(!!e.has_intraday),this.watchedSeconds.setValue(!!e.has_seconds),this.watchedTicks.setValue(!(0,a.isCloseBasedSymbol)(e)&&!!e["is-tickbars-available"]),this.watchedRange.setValue(!(0,a.isCloseBasedSymbol)(e));const n=e.data_frequency?e.data_frequency:void 0;this.watchedDataFrequencyResolution.setValue(n)}else this.watchedIntraday.setValue(!1),this.watchedSeconds.setValue(!1),this.watchedTicks.setValue(!1),this.watchedRange.setValue(!1),this._mainSeries().isFailed()&&this.ensuredProSymbol.setValue(this.proSymbol.value())}_onChartModelCreated(e){if(!this._boundChartWidget)throw new Error("ChartWidget is undefined");this._chartWidgetBindingState=2,this.watchedSymbol.setValue(this._boundChartWidget.symbolWV().value()),this.watchedSymbol.subscribe(this._watchedSymbolListenerBound);const t=e.mainSeries().dataEvents();t.symbolResolved().subscribe(this,this._updateSeriesSymbolInfo),t.symbolError().subscribe(this,this._updateSeriesSymbolInfo),this._updateSeriesSymbolInfo(),this.watchedInterval.setValue(this._boundChartWidget.resolutionWV().value()),this.watchedInterval.subscribe(this._watchedIntervalListenerBound),this._boundChartWidget.readOnly()&&(this.watchedSymbol.writeLock=!0)}_chartToBind(){var e;const t=this._chartWidgetCollection;return null===t?null:t.activeChartWidget.value().linkingGroupIndex().value()===this._groupIndex?t.activeChartWidget.value():null!==this._boundChartWidget&&this._boundChartWidget.linkingGroupIndex().value()===this._groupIndex?this._boundChartWidget:null!==(e=t.getAll().find((e=>e.linkingGroupIndex().value()===this._groupIndex)))&&void 0!==e?e:null}_symbolLock(){var e;return!!(null===(e=this._chartWidgetCollection)||void 0===e?void 0:e.lock.symbol.value())}_intervalLock(){var e;return!!(null===(e=this._chartWidgetCollection)||void 0===e?void 0:e.lock.interval.value())}_chartsForLock(e){return(0===e?this._symbolLock():this._intervalLock())?(0,r.ensureNotNull)(this._linkingGroupCharts).value():this._boundChartWidget?[this._boundChartWidget]:[]}_setGroupSymbol(e){this.mute(!0),this._symbolLock()?(0,r.ensureNotNull)(this._chartWidgetCollection).setSymbol(e,this._groupIndex):(0,r.ensureNotNull)(this._boundChartWidget).setSymbol(e),this.mute(!1)}_needApplySymbol(e){
const t=this._chartsForLock(0),i=t.find((t=>t.hasModel()&&t.model().mainSeries().symbolInfo()&&t.model().mainSeries().symbolSameAsResolved(e)));if(i){const e=i.model().mainSeries();if(t.every((t=>e.symbolSameAsResolved(t.symbolWV().value()))))return!1}return t.some((t=>t.symbolWV().value()!==e))}_setGroupInterval(e){this.mute(!0),this._intervalLock()?(0,r.ensureNotNull)(this._chartWidgetCollection).setResolution(e,this._groupIndex):(0,r.ensureNotNull)(this._boundChartWidget).setResolution(e),this.mute(!1)}_needApplyInterval(e){return this._chartsForLock(1).some((t=>!o.Interval.isEqual(t.resolutionWV().value(),e)))}}const b=new class{constructor(){this._watchedSymbol=new s.WatchedValue,this._seriesShortSymbol=new s.WatchedValue,this._proSymbol=new s.WatchedValue,this._ensuredProSymbol=new s.WatchedValue,this._watchedInterval=new s.WatchedValue,this._watchedIntraday=new s.WatchedValue,this._watchedSeconds=new s.WatchedValue,this._watchedTicks=new s.WatchedValue,this._watchedDataFrequencyResolution=new s.WatchedValue,this._watchedRange=new s.WatchedValue,this._watchedSupportedResolutions=new s.WatchedValue,this._watchedSupportedChartStyles=new s.WatchedValue([]),this._symbolNamesList=new s.WatchedValue,this._chartWidgetCollection=null,this._onSymbolLinkBound=this._onSymbolLink.bind(this),this._searchCharts=null,this._searchChartsLoadDebounced=null,this._selfEmit=!1,this._preventFeedBySymbol=!1,this._feedBySymbolDebounceCounter=0,this._linkingGroups=new Map,this._activeLinkingGroup=new s.WatchedValue,this._activeLinkingGroupIndex=null,this._updateLinkingGroups=()=>{(0,r.ensureNotNull)(this._chartWidgetCollection).allLinkingGroups().value().forEach((e=>this._linkingGroup(e))),this._linkingGroups.forEach((e=>e.updateBoundChartWidget()))},this._activeLinkingGroup.setValue(this._linkingGroup(null));const e=(e,t)=>{e.subscribe((e=>t().setValue(e)),{callWithLast:!0})};e(this._watchedSymbol,(()=>this._activeLinkingGroup.value().watchedSymbol)),e(this._seriesShortSymbol,(()=>this._activeLinkingGroup.value().seriesShortSymbol)),e(this._proSymbol,(()=>this._activeLinkingGroup.value().proSymbol)),e(this._ensuredProSymbol,(()=>this._activeLinkingGroup.value().ensuredProSymbol)),e(this._watchedInterval,(()=>this._activeLinkingGroup.value().watchedInterval)),e(this._watchedIntraday,(()=>this._activeLinkingGroup.value().watchedIntraday)),e(this._watchedSeconds,(()=>this._activeLinkingGroup.value().watchedSeconds)),e(this._watchedTicks,(()=>this._activeLinkingGroup.value().watchedTicks)),e(this._watchedDataFrequencyResolution,(()=>this._activeLinkingGroup.value().watchedDataFrequencyResolution)),e(this._watchedRange,(()=>this._activeLinkingGroup.value().watchedRange)),e(this._watchedSupportedResolutions,(()=>this._activeLinkingGroup.value().watchedSupportedResolutions)),e(this._watchedSupportedChartStyles,(()=>this._activeLinkingGroup.value().watchedSupportedChartStyles)),e(this._symbolNamesList,(()=>this._activeLinkingGroup.value().symbolNamesList));const t=e=>{this._watchedSymbol.setValue(e.watchedSymbol.value()),
this._seriesShortSymbol.setValue(e.seriesShortSymbol.value()),this._proSymbol.setValue(e.proSymbol.value()),this._ensuredProSymbol.setValue(e.ensuredProSymbol.value()),this._watchedInterval.setValue(e.watchedInterval.value()),this._watchedIntraday.setValue(e.watchedIntraday.value()),this._watchedSeconds.setValue(e.watchedSeconds.value()),this._watchedTicks.setValue(e.watchedTicks.value()),this._watchedDataFrequencyResolution.setValue(e.watchedDataFrequencyResolution.value()),this._watchedRange.setValue(e.watchedRange.value()),this._watchedSupportedResolutions.setValue(e.watchedSupportedResolutions.value()),this._watchedSupportedChartStyles.setValue(e.watchedSupportedChartStyles.value()),this._symbolNamesList.setValue(e.symbolNamesList.value())};this._activeLinkingGroup.subscribe(t),t(this._activeLinkingGroup.value()),(0,m.setMuteLinkingGroup)(((e,t)=>{this._linkingGroup(e).mute(t)}))}get symbol(){return this._watchedSymbol}get proSymbol(){return this._proSymbol.readonly()}get ensuredProSymbol(){return this._ensuredProSymbol.readonly()}get symbolNamesList(){return this._symbolNamesList.readonly()}get seriesShortSymbol(){return this._seriesShortSymbol.readonly()}get interval(){return this._watchedInterval}get intraday(){return this._watchedIntraday.readonly()}get seconds(){return this._watchedSeconds.readonly()}get ticks(){return this._watchedTicks.readonly()}get range(){return this._watchedRange.readonly()}get supportedResolutions(){return this._watchedSupportedResolutions.readonly()}get supportedChartStyles(){return this._watchedSupportedChartStyles.readonly()}get preventFeedBySymbol(){return this._preventFeedBySymbol}get dataFrequencyResolution(){return this._watchedDataFrequencyResolution.readonly()}activeLinkingGroup(){return this._activeLinkingGroup.readonly()}getChartWidget(){return this.activeLinkingGroup().value().boundChartWidget()}bindToChartWidgetCollection(e){var t;null===(t=this._chartWidgetCollection)||void 0===t||t.onAboutToBeDestroyed.unsubscribeAll(this),this._unbindFromChartWidgetCollection(),this._chartWidgetCollection=e,this._chartWidgetCollection.onAboutToBeDestroyed.subscribe(this,this._unbindFromChartWidgetCollection),this._chartWidgetCollection.allLinkingGroups().subscribe(this._updateLinkingGroups),this._updateLinkingGroups(),this._activeLinkingGroupIndex=e.activeLinkingGroup().spawn(),this._activeLinkingGroupIndex.subscribe((e=>{this._activeLinkingGroup.setValue(this._linkingGroup(e))}),{callWithLast:!0}),this._linkingGroups.forEach((t=>t.bindToChartWidgetCollection(e)))}bindToSearchCharts(e){this.unbindFromSearchCharts(),this._searchCharts=e,e.onSearchBySymbol.subscribe(this,this._onSearchBySymbol),e.loadingSymbol.subscribe((e=>{!1===e&&(this._feedBySymbolDebounceCounter=0)})),this._watchedSymbol.subscribe(this._onSymbolLinkBound)}unbindFromSearchCharts(){this._searchCharts&&(this._searchCharts.onSearchBySymbol.unsubscribe(this,this._onSearchBySymbol),this._watchedSymbol.unsubscribe(this._onSymbolLinkBound),this._searchCharts=null)}setPreventFeedBySymbol(e){this._preventFeedBySymbol=e}
setSymbolAndLogInitiator(e,t,i){(this.symbol.value()!==e||i)&&(_.logInfo(`Change linking symbol to ${e}, initiator: ${t}`),this.symbol.setValue(e,i))}_onSearchBySymbol(e){if(!e.resolved_symbol)throw new Error("no resolved_symbol");this._selfEmit=!0,this._watchedSymbol.setValue(e.resolved_symbol),this._selfEmit=!1}_onSymbolLink(e){if(!this._selfEmit){if(!this._searchCharts){const e="No search charts defined";throw _.logError(e),new Error(e)}this._preventFeedBySymbol||this._loadSearchCharts(e)}}_loadSearchCharts(e){if(!this._searchCharts){const e="No search charts defined";throw _.logError(e),new Error(e)}if(this._searchChartsLoadDebounced)return void(this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced(e)));const t=e=>this._searchCharts?(!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,n.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchChartsLoadDebounced=null,this._searchCharts.feedBySymbol.call(this._searchCharts,e)):()=>{};!0===this._searchCharts.loadingSymbol.value()?this._feedBySymbolDebounceCounter<100&&(this._feedBySymbolDebounceCounter++,this._searchChartsLoadDebounced=(0,n.default)(t,2e3),this._searchChartsLoadDebounced(e)):this._searchCharts.feedBySymbol(e)}_linkingGroup(e){let t=this._linkingGroups.get(e);if(void 0===t){const i={watchedSymbol:this._watchedSymbol,seriesShortSymbol:this._seriesShortSymbol,proSymbol:this._proSymbol,ensuredProSymbol:this._ensuredProSymbol,watchedInterval:this._watchedInterval,watchedIntraday:this._watchedIntraday,watchedSeconds:this._watchedSeconds,watchedTicks:this._watchedTicks,watchedDataFrequencyResolution:this._watchedDataFrequencyResolution,watchedRange:this._watchedRange,watchedSupportedResolutions:this._watchedSupportedResolutions,watchedSupportedChartStyles:this._watchedSupportedChartStyles,symbolNamesList:this._symbolNamesList};t=new p(e,i,(()=>this._activeLinkingGroup.value())),this._linkingGroups.set(e,t),this._chartWidgetCollection&&t.bindToChartWidgetCollection(this._chartWidgetCollection)}return t}_unbindFromChartWidgetCollection(){var e;null!==this._chartWidgetCollection&&(null===(e=this._activeLinkingGroupIndex)||void 0===e||e.destroy(),this._activeLinkingGroupIndex=null,this._linkingGroups.forEach((e=>e.unbindFromChartWidgetCollection())),this._chartWidgetCollection.allLinkingGroups().unsubscribe(this._updateLinkingGroups),this._chartWidgetCollection=null)}};{const e=(0,c.getFreshInitData)().symbolInfo,t=e?e.pro_symbol:u.getValue("editchart.model.symbol",window.DEFAULT_SYMBOL);b.setSymbolAndLogInitiator(t,"initial data")}window.TradingViewApi||(window.TradingViewApi={linking:b})},912445:(e,t,i)=>{let n;function r(e,t){null==n||n(e,t)}function s(e){n=e}i.d(t,{muteLinkingGroup:()=>r,setMuteLinkingGroup:()=>s})},66732:(e,t,i)=>{i.d(t,{combine:()=>o,combineWithFilteredUpdate:()=>s});var n=i(129025);function r(e,t,...i){
const r=(...t)=>e(...t.map((e=>e.value()))),s=new n.WatchedValue(r(...i)),o=()=>{t(...i.map((e=>e.value())))&&s.setValue(r(...i))},a=i.map((e=>e.spawn()));for(const e of a)e.subscribe(o);return s.readonly().spawn((()=>{a.forEach((e=>e.destroy())),i.forEach((e=>e.release()))}))}function s(e,t,...i){return r(e,t,...i)}function o(e,...t){return r(e,(()=>!0),...t)}},667353:(e,t,i)=>{i.d(t,{numOfDecimalPlaces:()=>r});var n=i(960521);function r(e){return(new n.Big(e).toFixed().split(".")[1]||"").length}},181728:(e,t,i)=>{function n(e,t){return!!(null==t?void 0:t.includes("cfd"))&&["commodity","futures","index","stock","fund"].includes(e)}function r(e,t){return"futures"===e&&void 0!==t&&!t.includes("cfd")}function s(e,t){return"stock"===e&&void 0!==t&&!t.includes("cfd")}function o(e,t){return void 0!==t&&("index"===e&&!t.includes("cfd")||"fundamental"===e&&t.includes("crypto"))}function a(e){return void 0!==e&&e.includes("crypto")}i.d(t,{isCFDSymbol:()=>n,isCryptoSymbol:()=>a,isFuturesSymbol:()=>r,isIndexSymbol:()=>o,isStockSymbol:()=>s})},217504:(e,t,i)=>{i.d(t,{getMinTick:()=>u,getMinTickData:()=>l,makePriceIndexToPriceConverter:()=>m,makePriceToPriceIndexConverter:()=>d,makeVariableMinTickData:()=>h});var n=i(960521),r=i(150335),s=i(389137),o=i(667353);function a(e){return e?(0,n.Big)(e.minMove).div(e.priceScale).toNumber():NaN}function l(e){const{minTick:t,price:i,variableMinTickData:n,shouldCheckForEquality:s}=e,o=(0,r.isNumber)(t)?c(t):t;return void 0===n?o:function(e,t,i=!1){for(let n=0;n<t.length;n++){if(e<t[n].price)return t[n].minTick;if(i&&e===t[n].price)return t[n].minTick}return t[t.length-1].minTick}(i,n,s)}function u(e){return a(l(e))}function c(e){const t=(0,o.numOfDecimalPlaces)(e),i=Math.pow(10,t);return{priceScale:i,minMove:(0,n.Big)(e).mul(i).toNumber()}}function h(e,t){var i,o,l,u,h;const d=[{minTick:(0,r.isNumber)(e)?c(e):e,price:1/0,maxIndex:1/0}];try{const e=t.split(" ").map(((e,t)=>(0,s.isEven)(t)?function(e){const t=Number(e);if(Number.isFinite(t))return c(t);{const t=e.split("/");if(t.length<2||t.length>3)throw new Error(`Unexpected mintick: ${e}`);const i=Number(t[1]),n=Number(t[0]);if(!Number.isFinite(i)||!Number.isFinite(n))throw new Error(`Unexpected mintick: ${e}`);const r=3===t.length?Number(t[2]):void 0;if(void 0!==r&&!Number.isFinite(r))throw new Error(`Unexpected mintick: ${e}`);const s={priceScale:i,minMove:n};return void 0!==r&&(s.minMove2=r),s}}(e):function(e){const t=Number(e);if(Number.isNaN(t))throw new Error(`Unexpected price limit: ${e}`);return t}(e)));if((0,s.isEven)(e.length))throw new Error("Theme must not be event number of elements");const r=[];for(let t=0;t<e.length;t+=2){const s=null!==(i=e[t+1])&&void 0!==i?i:1/0,c=null!==(l=null===(o=r[r.length-1])||void 0===o?void 0:o.price)&&void 0!==l?l:0,d=null!==(h=null===(u=r[r.length-1])||void 0===u?void 0:u.maxIndex)&&void 0!==h?h:0,m=s===1/0?1/0:new n.Big(s).minus(c).div(a(e[t])).plus(d).toNumber();r.push({minTick:e[t],price:s,maxIndex:m})}return r}catch(e){return d}}function d(e,t){return i=>{var r,s,o,l
;if(!Number.isFinite(i))return NaN;if(void 0===t)return new n.Big(i).div(e).round().toNumber();for(let e=0;e<t.length;e++){const{price:u,minTick:c}=t[e],h=null!==(s=null===(r=t[e-1])||void 0===r?void 0:r.price)&&void 0!==s?s:0,d=null!==(l=null===(o=t[e-1])||void 0===o?void 0:o.maxIndex)&&void 0!==l?l:0;if(i<u)return new n.Big(i).minus(h).div(a(c)).plus(d).round().toNumber()}return NaN}}function m(e,t){return i=>{var r,s,o,l;if(!Number.isFinite(i))return NaN;if(void 0===t)return(0,n.Big)(i).mul(e).toNumber();for(let e=0;e<t.length;e++){const{maxIndex:u,minTick:c}=t[e],h=null!==(s=null===(r=t[e-1])||void 0===r?void 0:r.price)&&void 0!==s?s:0,d=null!==(l=null===(o=t[e-1])||void 0===o?void 0:o.maxIndex)&&void 0!==l?l:0;if(i<u)return new n.Big(i).minus(d).mul(a(c)).plus(h).toNumber()}return NaN}}},707621:(e,t,i)=>{i.d(t,{allChartStyles:()=>s});var n=i(77122),r=i(125226);function s(){return function(){const e=[0,1,9,13,2,14,15,3,16,10];return e.push(12),(0,r.isFeatureEnabled)("footprint_chart")&&e.push(17),e}().concat(function(){const e=[8];return n.enabled("japanese_chart_styles")&&(e.push(4,7,5,6),e.push(11)),e}())}},702053:(e,t,i)=>{i.d(t,{formatterOptions:()=>r,numberToStringWithLeadingZero:()=>s});var n=i(389137);const r={decimalSign:".",decimalSignFractional:"'"};function s(e,t){if(!(0,n.isNumber)(e))return"n/a";if(!(0,n.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>24)throw new TypeError("invalid length");if(0===t)return e.toString();return("0000000000000000"+e.toString()).slice(-t)}},182436:(e,t,i)=>{i.d(t,{NumericFormatter:()=>s});var n=i(960521),r=i(702053);class s{constructor(e){this._precision=e}format(e){return(void 0!==this._precision?e.toFixed(this._precision):s.formatNoE(e)).replace(".",r.formatterOptions.decimalSign)}parse(e){const t=e.replace(r.formatterOptions.decimalSign,".");let i=parseFloat(t);return this._precision&&(i=+i.toFixed(this._precision)),i}static formatNoE(e){if(!Number.isFinite(e))return String(e);const t=new n.Big(e);return t.lt(1)?t.toFixed():t.toString()}}},541346:(e,t,i)=>{i.d(t,{PercentageFormatter:()=>s});var n=i(402084),r=i(31341);class s extends n.PriceFormatter{constructor(e){super(e),this.type="percentage"}state(){const e=n.PriceFormatter.prototype.state.call(this);return e.percent=!0,e}parse(e){return e=e.replace("%",""),super.parse(e)}format(e,t,i,n,s=!0){const o=super.format(e,t,i,n,!1)+"%";return s?(0,r.forceLTRStr)(o):o}static serialize(e){return e.state()}static deserialize(e){return new s(e.priceScale)}}},402084:(e,t,i)=>{i.d(t,{PriceFormatter:()=>w,isFormatterHasForexAdditionalPrecision:()=>f});var n=i(389137),r=i(960521),s=i(201089),o=i(650151),a=i(444372),l=i(217504),u=i(31341);const c=new RegExp(/^(-?)[0-9]+$/);function h(e,t,i,n){let r=0;if(e>0&&t>0){let t=e;for(i&&n&&(t/=n);t>1;)t/=10,r++}return r}function d(e,t,i){const n=(0,o.ensureNotNull)((0,l.getMinTickData)({price:i,minTick:null,variableMinTickData:t,shouldCheckForEquality:!0})),{priceScale:r,minMove:s,minMove2:a}=n;return{priceScale:r,minMove:s,fractionalLength:h(r,s,e,a)}}class m{
constructor(e,t,n,r,s,o){this._formatterErrors={custom:a.t(null,void 0,i(332061)),fraction:a.t(null,void 0,i(142015)),secondFraction:a.t(null,void 0,i(643247))},this._priceScale=e,this._minMove=t,this._minMove2=n,this._ignoreMinMove=s,this._variableMinTickData=void 0===r?void 0:(0,l.makeVariableMinTickData)({priceScale:e,minMove:t,minMove2:n},r),this._fractionalLength=o}formatImpl(e,t,i,n=!0,r=!0,s=!1,o){let a="";e<0?a=!1===n?"":"−":e&&!0===t&&(a="+");const l=a+this._formatUnsigned(Math.abs(e),i,s,o);return r?(0,u.forceLTRStr)(l):l}parse(e){return"+"===(e=(e=(0,u.stripLTRMarks)(e)).replace("−","-"))[0]&&(e=e.substring(1)),this._parseUnsigned(e)}_removeEndingZeros(e,t){for(let i=0;i<t&&"0"===e[e.length-1];i++)e=e.substring(0,e.length-1);return e}}var _=i(702053);const p=new Map;const b=new Map;const S=(0,s.getLogger)("Chart.DecimalPriceFormatter");class v extends m{constructor(e,t,i,n,r,s){super(e,t,i,n,r,s),void 0!==i&&10!==i&&0!==i&&1!==i&&S.logDebug("invalid minmove2")}hasForexAdditionalPrecision(){return 10===this._minMove2}_parseUnsigned(e){return this._parseAsDecimal(e)}_formatUnsigned(e,t,i,n){const r={price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,fractionalLength:this._fractionalLength,tailSize:t,cutFractionalByPrecision:i};return void 0!==this._variableMinTickData&&(Object.assign(r,d(!1,this._variableMinTickData,null!=n?n:r.price)),this._ignoreMinMove&&(r.minMove=1)),this._formatAsDecimal(r)}_formatAsExponential(e){const t=Math.floor(.75*Math.log10(this._priceScale)),i=e*Math.pow(10,t),n=`e-${t}`,r=Math.log10(this._priceScale)-t;return`${i.toFixed(r).replace(".",_.formatterOptions.decimalSign)}${n}`}_formatAsDecimal(e){const{price:t,priceScale:i,minMove:n,fractionalLength:s=0,tailSize:o=0,cutFractionalByPrecision:a}=e;if(i>1e15)return this._formatAsExponential(t);const l=Math.pow(10,o)*i/(a?1:n),u=1/l;let c;if(l>1)c=Math.floor(t);else{const e=Math.floor(Math.round(t/u)*u);c=0===Math.round((t-e)/u)?e:e+u}let h="";if(l>1){let e=a?new r.Big(t).mul(l).round(void 0,0).minus(new r.Big(c).mul(l)).toNumber():parseFloat((Math.round(t*l)-c*l).toFixed(s));e>=l&&(e-=l,c+=1);const i=a?new r.Big(e).round(s,0).toNumber():parseFloat(e.toFixed(s))*n;h=_.formatterOptions.decimalSign+(0,_.numberToStringWithLeadingZero)(i,s+o),h=this._removeEndingZeros(h,o)}return c.toString()+h}_parseAsDecimal(e){if(e.includes("e")){if(function(e){let t=p.get(e);return t||(t=new RegExp("^(-?)[0-9]+\\"+e+"[0-9]*e(-?)[0-9]+$"),p.set(e,t)),t}(_.formatterOptions.decimalSign).exec(e)){const t=parseFloat(e.replace(_.formatterOptions.decimalSign,"."));return{value:t,res:!0,suggest:this.formatImpl(t)}}return{error:this._formatterErrors.custom,res:!1}}let t=c.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=function(e){let t=b.get(e);return t||(t=new RegExp("^(-?)[0-9]+\\"+_.formatterOptions.decimalSign+"[0-9]*$"),b.set(e,t)),t}(_.formatterOptions.decimalSign).exec(e),t){const t=parseFloat(e.replace(_.formatterOptions.decimalSign,"."));return{value:t,res:!0,suggest:this.formatImpl(t)}}
return{error:this._formatterErrors.custom,res:!1}}}const y=(0,s.getLogger)("Chart.FractionalPriceFormatter");class g extends m{constructor(e,t,i,n,r,s){super(e,t,i,n,r,s),void 0!==i&&i>0&&2!==i&&4!==i&&8!==i&&y.logDebug("invalid minmove2")}hasForexAdditionalPrecision(){return!1}_parseUnsigned(e){return this._minMove2?this._parseAsDoubleFractional(e):this._parseAsSingleFractional(e)}_formatUnsigned(e,t,i,n){const r={price:Math.abs(e),priceScale:this._priceScale,minMove:this._minMove,minMove2:this._minMove2,fractionalLength:(0,o.ensureDefined)(this._fractionalLength),tailSize:t};return void 0!==this._variableMinTickData&&Object.assign(r,d(!0,this._variableMinTickData,null!=n?n:r.price)),this._formatAsFractional(r)}_parseAsSingleFractional(e){let t=c.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+_.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){const e=!!t[1],i=parseInt(t[2]),n=this._priceScale,r=this._patchFractPart(parseInt(t[3]),1,n);if(r>=n||r<0)return{error:this._formatterErrors.fraction,res:!1};let s=i+r/n;return e&&(s=-s),{value:s,res:!0,suggest:this.formatImpl(s)}}return{error:this._formatterErrors.custom,res:!1}}_parseAsDoubleFractional(e){let t=c.exec(e);if(t){const t=parseFloat(e);return{value:t,res:!0,suggest:this.formatImpl(t)}}if(t=new RegExp("^(-?)([0-9]+)\\"+_.formatterOptions.decimalSignFractional+"([0-9]+)\\"+_.formatterOptions.decimalSignFractional+"([0-9]+)$").exec(e),t){const e=!!t[1],i=parseInt(t[2]),n=void 0!==this._minMove2?this._minMove2:NaN,r=this._priceScale/n,s=this._minMove2,o=this._patchFractPart(parseInt(t[3]),1,r),a=this._patchFractPart(parseInt(t[4]),2,s);if(o>=r||o<0)return{error:this._formatterErrors.fraction,res:!1};if(void 0!==s&&a>=s||a<0)return{error:this._formatterErrors.secondFraction,res:!1};let l=void 0!==s?i+o/r+a/(r*s):NaN;return e&&(l=-l),{value:l,res:!0,suggest:this.formatImpl(l)}}return{error:this._formatterErrors.custom,res:!1}}_patchFractPart(e,t,i){const n={0:0,5:1},r={0:0,2:1,5:2,7:3},s={0:0,1:1,2:2,3:3,5:4,6:5,7:6,8:7};return 2===i?void 0===n[e]?-1:n[e]:4===i?void 0===r[e]?-1:r[e]:8===i&&2===t?void 0===s[e]?-1:s[e]:e}_formatAsFractional(e){const{price:t,tailSize:i,priceScale:n,minMove:r,minMove2:s,fractionalLength:o}=e,a=n/r;let l=Math.floor(t),u=i?Math.floor(t*a)-l*a:Math.round(t*a)-l*a;u===a&&(u=0,l+=1);let c="";if(i){let e=(t-l-u/a)*a;e=Math.round(e*Math.pow(10,i)),c=(0,_.numberToStringWithLeadingZero)(e,i),c=this._removeEndingZeros(c,i)}if(!o)throw new Error("_fractionalLength is not calculated");let h="";if(s){const e=u%s;u=(u-e)/s;const t=(0,_.numberToStringWithLeadingZero)(u,o),i=this._getFractPart(e,2,s);h=t+_.formatterOptions.decimalSignFractional+i}else u=this._getFractPart(u,1,n),h=(0,_.numberToStringWithLeadingZero)(u*r,o);return l.toString()+_.formatterOptions.decimalSignFractional+h+c}_getFractPart(e,t,i){const n=[0,5],r=[0,2,5,7],s=[0,1,2,3,5,6,7,8];return 2===i?void 0===n[e]?-1:n[e]:4===i?void 0===r[e]?-1:r[e]:8===i&&2===t?void 0===s[e]?-1:s[e]:e}}function f(e){
return"hasForexAdditionalPrecision"in e}class w{constructor(e,t,i,r,s,o){if(this.type="price",t&&!o||(t=1),(0,n.isNumber)(e)&&(0,n.isInteger)(e)||(e=100),e<0)throw new TypeError("invalid base");this._priceScale=e,this._minMove=t,this._minMove2=r,this._fractional=i,this._variableMinTick=s,this._ignoreMinMove=o,this._fractionalLength=h(this._priceScale,this._minMove,this._fractional,this._minMove2),this._implementation=i?new g(e,t,r,s,o,this._fractionalLength):new v(e,t,r,s,o,this._fractionalLength)}isFractional(){return!!this._fractional}state(){return{minMove:this._minMove,minMove2:this._minMove2,priceScale:this._priceScale,variableMinTick:this._variableMinTick,ignoreMinMove:this._ignoreMinMove,fractional:this._fractional,fractionalLength:this._fractionalLength}}formatChange(e,t,i){return this._implementation.formatImpl(e-t,i,void 0,void 0,void 0,void 0,Math.min(Math.abs(e),Math.abs(t)))}format(e,t,i,n=!0,r=!0,s=!1){return this._implementation.formatImpl(e,t,i,n,r,s)}parse(e){return this._implementation.parse(e)}hasForexAdditionalPrecision(){return this._implementation.hasForexAdditionalPrecision()}static serialize(e){return e.state()}static deserialize(e){return new w(e.priceScale,e.minMove,e.fractional,e.minMove2,e.variableMinTick,e.ignoreMinMove)}}},943994:(e,t,i)=>{i.d(t,{NOT_AVAILABLE_VOLUME_FORMATTER:()=>a,PLACE_HOLDER:()=>o,VolumeFormatter:()=>l});var n=i(444372),r=i(182436),s=i(389137);const o="---",a=1e100;class l{constructor(e){this.type="volume",this._numericFormatter=new r.NumericFormatter,this._fractionalValues=void 0!==e&&e>0,this._precision=e}state(){return{precision:this._precision}}format(e,t){if(!(0,s.isNumber)(e))return o;let r="";return e<0?(r="−",e=-e):e>0&&t&&(r="+"),e>=a?n.t(null,void 0,i(343088)):(!this._fractionalValues||e>=995?e=Math.round(e):this._fractionalValues&&(e=+e.toFixed(this._precision)),e<995?r+this._formatNumber(e):e<999995?r+this._formatNumber(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),r+this._formatNumber(e/1e6)+"M"):e<999999999995?(e=1e6*Math.round(e/1e6),r+this._formatNumber(e/1e9)+"B"):(e=1e9*Math.round(e/1e9),r+this._formatNumber(e/1e12)+"T"))}parse(e){if("---"===e)return{error:"not a number",res:!1,value:NaN};const t={K:1e3,M:1e6,B:1e9,T:1e12},i=e.slice(-1);if(t.hasOwnProperty(i)){const n=this._numericFormatter.parse(e.slice(0,-1));return(0,s.isNumber)(n)?{res:!0,value:n*t[i]}:{error:"not a number",res:!1,value:NaN}}{const t=this._numericFormatter.parse(e);return(0,s.isNumber)(t)?{res:!0,value:t}:{error:"not a number",res:!1,value:NaN}}}static serialize(e){return e.state()}static deserialize(e){return new l(e.precision)}_formatNumber(e){if(this._fractionalValues&&0!==e){const t=14-Math.ceil(Math.log10(e)),i=Math.pow(10,t);e=Math.round(e*i)/i}return this._numericFormatter.format(e).replace(/(\.[1-9]*)0+$/,((e,t)=>t))}}},223699:(e,t,i)=>{i.d(t,{Interval:()=>c,ResolutionKind:()=>s,SpecialResolutionKind:()=>o,isHour:()=>d});const n=/^(\d*)([TSHDWMR])$/,r=/^(\d+)$/;var s,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",
e.Months="months",e.Range="range",e.Invalid="invalid"}(s||(s={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[s.Ticks]=1e3,a[s.Seconds]=1e3,a[s.Minutes]=60*a[s.Seconds],a[s.Days]=1440*a[s.Minutes],a[s.Weeks]=7*a[s.Days];const l={T:s.Ticks,S:s.Seconds,D:s.Days,W:s.Weeks,M:s.Months,R:s.Range},u=new Set([s.Ticks,s.Seconds,s.Minutes]);class c{constructor(e,t){this._kind=s.Invalid,this._multiplier=0,e!==s.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==s.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=u.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===s.Seconds}isMinutes(){return this.kind()===s.Minutes}isMinuteHours(){return this.kind()===s.Minutes&&d(this.multiplier())}isDays(){return this.kind()===s.Days}isWeeks(){return this.kind()===s.Weeks}isMonths(){return this.kind()===s.Months}isRange(){return this.kind()===s.Range}isTicks(){return this.kind()===s.Ticks}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==s.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===s.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof c))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||c.parse(e).isEqualTo(c.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=n.exec(e);return null!==t?"H"===t[2]?{interval:new c(s.Minutes,60*h(t[1])),guiResolutionKind:o.Hours}:{interval:new c(l[t[2]],h(t[1])),guiResolutionKind:l[t[2]]}:(t=r.exec(e),null!==t?{interval:new c(s.Minutes,h(t[1])),guiResolutionKind:s.Minutes}:{interval:new c(s.Invalid,0),guiResolutionKind:s.Invalid})}static parse(e){return c.parseExt(e).interval}static kind(e){return c.parse(e).kind()}static isValid(e){return c.parse(e).isValid()}static isDWM(e){return c.parse(e).isDWM()}static isIntraday(e){return c.parse(e).isIntraday()}static isSeconds(e){return c.parse(e).isSeconds()}static isMinutes(e){return c.parse(e).isMinutes()}static isMinuteHours(e){return c.parse(e).isMinuteHours()}static isDays(e){return c.parse(e).isDays()}static isWeeks(e){return c.parse(e).isWeeks()}static isMonths(e){return c.parse(e).isMonths()}static isRange(e){return c.parse(e).isRange()}static isTicks(e){return c.parse(e).isTicks()}static isTimeBased(e){return c.parse(e).isTimeBased()}static normalize(e){const t=c.parse(e);return t.isValid()?t.value():null}}function h(e){return 0===e.length?1:parseInt(e,10)}function d(e){return e>=60&&!(e%60)}},824837:(e,t,i)=>{i.d(t,{createWVFromGetterAndSubscription:()=>r})
;var n=i(129025);function r(e,t){const i=new n.WatchedValue(e()),r={};t.subscribe(r,(()=>{i.setValue(e())}));return i.readonly().spawn((()=>t.unsubscribeAll(r)))}},529426:(e,t,i)=>{function n(e){if(!e)return"";if(["AMEX"].includes(e))return"Arca";if(["NYSE ARCA & MKT"].includes(e))return"NYSE Arca";if(["Cboe BZX"].includes(e))return"Cboe One";if(["FTSEST"].includes(e))return"FTSE ST";const t=/^(CME|COMEX|CBOT|NYMEX)_MINI$/.exec(e);return null!==t?t[1]:e}i.d(t,{redefineExchangeName:()=>n})},339315:(e,t,i)=>{i.r(t),i.d(t,{SERIES_STATUS_TEXT:()=>b,STATUS_DELAYED:()=>h,STATUS_DELAYED_STREAMING:()=>d,STATUS_EOD:()=>u,STATUS_ERROR:()=>p,STATUS_INVALID_SYMBOL:()=>a,STATUS_LOADING:()=>s,STATUS_NO_BARS:()=>m,STATUS_OFFLINE:()=>n,STATUS_PULSE:()=>c,STATUS_READY:()=>o,STATUS_REPLAY:()=>_,STATUS_RESOLVING:()=>r,STATUS_SNAPSHOT:()=>l,STYLE_AREA:()=>g,STYLE_BARS:()=>S,STYLE_BASELINE:()=>T,STYLE_CANDLES:()=>v,STYLE_COLUMNS:()=>E,STYLE_HEIKEN_ASHI:()=>L,STYLE_HILO:()=>I,STYLE_HLC_AREA:()=>N,STYLE_HOLLOW_CANDLES:()=>M,STYLE_KAGI:()=>w,STYLE_LINE:()=>y,STYLE_LINE_WITH_MARKERS:()=>F,STYLE_PB:()=>k,STYLE_PNF:()=>C,STYLE_RANGE:()=>W,STYLE_RENKO:()=>f,STYLE_SHORT_NAMES:()=>R,STYLE_STEPLINE:()=>V,SYMBOL_STRING_DATA:()=>A});const n=0,r=1,s=2,o=3,a=4,l=5,u=6,c=7,h=8,d=9,m=10,_=11,p=12,b={[n]:"connecting",[r]:"loading",[s]:"loading",[o]:"realtime",[a]:"invalid",[l]:"snapshot",[u]:"endofday",[c]:"endofday",[h]:"delayed",[d]:"delayed_streaming",[m]:"forbidden",[_]:"replay",[p]:"error"},S=0,v=1,y=2,g=3,f=4,w=5,C=6,k=7,L=8,M=9,T=10,W=11,I=12,E=13,F=14,V=15,N=16,R={0:"bar",1:"candle",9:"hollowCandle",2:"line",14:"lineWithMarkers",15:"stepline",3:"area",16:"hlcArea",4:"renko",7:"pb",5:"kagi",6:"pnf",8:"ha",10:"baseline",11:"range",12:"hilo",13:"column",17:"volFootprint"},A={4:{type:"BarSetRenko@tv-prostudies",basicStudyVersion:64},7:{type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},5:{type:"BarSetKagi@tv-prostudies",basicStudyVersion:34},6:{type:"BarSetPnF@tv-prostudies",basicStudyVersion:34},8:{type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},11:{type:"BarSetRange@tv-basicstudies",basicStudyVersion:72}}},444331:(e,t,i)=>{i.r(t),i.d(t,{actualSymbol:()=>ve,chartStyleStudyId:()=>Y,createSeriesFormatter:()=>Z,displayedSymbolExchange:()=>Se,displayedSymbolName:()=>be,extractLineToolSymbolFromSymbolInfo:()=>he,extractSymbolNameFromSymbolInfo:()=>ce,getChartStyleByResolution:()=>O,getDefaultStyle:()=>P,getLastUsedRawDataStyle:()=>G,getLastUsedSingleValueBasedStyle:()=>x,getLastUsedStyle:()=>D,getSeriesDisplayErrorWV:()=>Ie,getSeriesPriceFormattingState:()=>K,getSourceForEconomySymbol:()=>_e,getSymbolExchange:()=>Me,getTranslatedChartStyleName:()=>M,hasProjection:()=>H,hasVolume:()=>ke,isCloseBasedSymbol:()=>fe,isConvertedToOtherCurrency:()=>ee,isConvertedToOtherUnit:()=>re,isEconomicSymbol:()=>Le,isFutureContinuousSymbolWithBackajustment:()=>Te,isFuturesContractSymbol:()=>We,isMeasureUnitSymbol:()=>we,isPriceSourceStyle:()=>z,isRangeBasedStyle:()=>W,isRangeStyle:()=>E,isRawDataStyle:()=>R,isRegularSessionId:()=>ge,
isRequiringRestartSeriesStyles:()=>T,isSingleValueBasedStyle:()=>N,isTimeBasedStyle:()=>F,isValidStyle:()=>V,isVolumeWeightedStyle:()=>U,measureUnitId:()=>Ce,preparePriceAxisProperties:()=>q,proSymbol:()=>ye,setLastUsedRawDataStyle:()=>B,setLastUsedStyle:()=>A,styleChangeRequiresRestart:()=>I,symbolBaseCurrency:()=>Q,symbolCurrency:()=>X,symbolCurrencyConvertible:()=>j,symbolCurrentContract:()=>oe,symbolHasEconomicEvents:()=>ue,symbolHasPreOrPostMarket:()=>ae,symbolHasSeveralSessions:()=>le,symbolOriginalCurrency:()=>J,symbolOriginalUnit:()=>ne,symbolTitle:()=>pe,symbolTitleSeparator:()=>me,symbolToSaveInState:()=>de,symbolUnit:()=>ie,symbolUnitConvertible:()=>te,symbolUnitConvertibleGroupsIfExist:()=>se});var n=i(444372),r=i(62802),s=i(638456),o=i(519073),a=i(339315),l=i(223699),u=i(402084),c=i(77122),h=i(943994),d=i(541346),m=i(181728),_=i(66732),p=i(824837),b=i(529426);const S=c.enabled("pay_attention_to_ticker_not_symbol"),v=c.enabled("uppercase_instrument_names"),y=c.enabled("charting_library_single_symbol_request"),g=c.enabled("use_ticker_on_symbol_info_update"),f=c.enabled("hide_object_tree_and_price_scale_exchange_label"),w=[4,5,6,7,8],C=[4,5,6,7,11],k=[0,1,9,2,14,15,3,16,10,8,12,13],L=[2,14,15,10,3,13];function M(e){return{0:n.t(null,void 0,i(16812)),1:n.t(null,void 0,i(463528)),2:n.t(null,void 0,i(301277)),14:n.t(null,void 0,i(938397)),15:n.t(null,void 0,i(79511)),3:n.t(null,void 0,i(542097)),16:n.t(null,void 0,i(134911)),9:n.t(null,void 0,i(661582)),10:n.t(null,void 0,i(117712)),12:n.t(null,void 0,i(631994)),13:n.t(null,void 0,i(636018)),4:n.t(null,void 0,i(20801)),7:n.t(null,void 0,i(563492)),5:n.t(null,void 0,i(292901)),6:n.t(null,void 0,i(99969)),11:n.t(null,void 0,i(490357)),8:n.t(null,void 0,i(240530)),17:n.t(null,void 0,i(178560))}[e]}function T(e){return-1!==w.indexOf(e)}function W(e){return-1!==C.indexOf(e)}function I(e,t){return!E(e)&&!E(t)&&!(e===t||!T(e)&&!T(t))}function E(e){return 11===e}function F(e){return-1!==k.indexOf(e)}function V(e){return W(e)||F(e)}function N(e){switch(e){case 3:case 10:case 2:case 14:case 15:case 13:return!0;default:return!1}}function R(e){return!a.SYMBOL_STRING_DATA[e]}function A(e,t){V(e)&&(11!==e&&r.setValue("chart.lastUsedStyle",e),R(e)&&B(e),fe(t)&&N(e)&&r.setValue("chart.lastUsedSingleValueBasedStyle",e))}function B(e){r.setValue("chart.rawDataStyle",e)}function D(){const e=r.getInt("chart.lastUsedStyle");return void 0===e?1:e}function x(){const e=r.getInt("chart.lastUsedSingleValueBasedStyle");return void 0===e?14:e}function G(){return r.getInt("chart.rawDataStyle",1)}function P(e){return e?11:1}function O(e,t){const i=E(t),n=l.Interval.isRange(e);return!i&&n?P(!0):i&&!n?P(!1):t}function U(e){return 1===e||0===e}function Y(e,t){const i=a.SYMBOL_STRING_DATA[e];return void 0===i?null:t?`${i.type}-${i.basicStudyVersion}`:i.type}function q(e){const t=e.priceAxisProperties,i=t.lockScale.value(),n=6===e.style.value();(n||i)&&(t.log.setValue(!1),t.percentage.setValue(!1)),t.logDisabled.setValue(!(!n&&!i)),t.percentageDisabled.setValue(!(!n&&!i))}const $=[4,7,5,6]
;function H(e){return-1!==$.indexOf(e)}function z(e){return L.includes(e)}function K(e,t="default",i=!1){let n,r,s,o=100,a=1;if("default"===t)null!=e&&(({pricescale:o,minmov:a,minmove2:r,fractional:n}=e),s=e.variable_tick_size||void 0);else{let e=t.split(",");3!==e.length&&(e=["100","1","false"]),o=parseInt(e[0]),a=parseInt(e[1]),n="true"===e[2]}return i&&(a=1),{priceScale:o,minMove:a,fractional:n,minMove2:r,variableMinTick:s,ignoreMinMove:i}}function Z(e,t,i=!1){if("default"===t&&null!=e){const t=e.formatter||e.format;if("volume"===t)return new h.VolumeFormatter(2);if("percent"===t)return new d.PercentageFormatter(e.pricescale)}const{priceScale:n,minMove:r,fractional:s,minMove2:o,variableMinTick:a}=K(e,t,i);return new u.PriceFormatter(n,r,s,o,a,i)}function j(e){return null!==e&&"spread"!==e.type}function X(e,t,i){if(null===e)return null;const n=!t||i?e.currency_id:e.currency_code;return void 0===n||""===n||"pct"===n?null:n}function J(e,t){const i=t?e.original_currency_code:e.original_currency_id;return"pct"===i?null:null!=i?i:X(e,t)}function Q(e){return e.base_currency_id||null}function ee(e){return!(null===e||!j(e))&&(void 0!==e.original_currency_id&&e.original_currency_id!==e.currency_id)}function te(e,t){return t&&null!==e&&"spread"!==e.type}function ie(e,t){if(null===e||!t)return null;const i=e.unit_id;return void 0===i||""===i?null:i}function ne(e,t){return t?e.original_unit_id||ie(e,t):null}function re(e,t){return!(null===e||!te(e,t))&&(void 0!==e.original_unit_id&&e.original_unit_id!==e.unit_id)}function se(e,t){return null!==e&&te(e,t)?e.unit_conversion_types||null:[]}function oe(e){return"futures"===e.type&&e.front_contract||null}function ae(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.some((e=>"premarket"===e.id||"postmarket"===e.id))}function le(e){return null!==e&&void 0!==e.subsessions&&e.subsessions.filter((e=>!e.private)).length>1}function ue(e){return null!==e&&("forex"===e.type||(0,m.isCFDSymbol)(e.type,e.typespecs)||(0,o.hasCryptoTypespec)(e.typespecs||[]))}function ce(e,t,i,n){let r=e&&(i&&e.pro_name||e.full_name||e.name);return y&&t?r=t:(g||!n&&S)&&e&&e.ticker&&(r=e.ticker),v&&r&&(r=r.toUpperCase()),r}function he(e,t){return ce(e,null,!0,!0)||t}function de(e,t){var i,n;return e&&null!==(n=null!==(i=e.ticker)&&void 0!==i?i:e.pro_name)&&void 0!==n?n:t}const me="·";function _e(e){var t,i,n;return Le(e)&&null!==(n=null!==(i=null===(t=e.source2)||void 0===t?void 0:t.description)&&void 0!==i?i:e.source)&&void 0!==n?n:null}function pe(e,t,i="exchange"){var n;const r=null!==(n=_e(e))&&void 0!==n?n:e[i];return t||f?e.name:`${e.name} ${me} ${r}`}function be(e){let t=e&&(oe(e)||e.name)||"";return t.length>40&&(t=t.substring(0,37)+"..."),t.trim()}function Se(e){const t=e?e.exchange:"";return v?t.toUpperCase():t}function ve(e,t){return null!==e?e.full_name:t}function ye(e,t){var i;return null!==(i=null==e?void 0:e.pro_name)&&void 0!==i?i:t}function ge(e){return"regular"===e||"us_regular"===e}function fe(e){return"c"===(null==e?void 0:e.visible_plots_set)}function we(e){
return null!==e&&("unit"===e.measure&&null!==Ce(e))}function Ce(e){var t;return null!==(t=null==e?void 0:e.value_unit_id)&&void 0!==t?t:null}function ke(e){return void 0!==e.visible_plots_set&&"ohlcv"===e.visible_plots_set}function Le(e){return null!==e&&"economic"===e.type}function Me(e){const t=_e(e);if(null!==t)return t;return(0,s.onWidget)()||"forex"===e.type?e.exchange:(0,b.redefineExchangeName)(e.listed_exchange)}function Te(e){var t;return null!==e&&"futures"===e.type&&Boolean(e.has_backadjustment&&(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous")))}function We(e){var t;return null!==e&&"futures"===e.type&&!Boolean(null===(t=e.typespecs)||void 0===t?void 0:t.includes("continuous"))}function Ie(e){return(0,_.combine)(((t,i)=>{switch(t){case 4:{const t=e.seriesErrorMessage();return null!==t&&("resolution_not_entitled"===t||"custom_resolution"===t||"seconds_not_entitled"===t||"ticks_not_entitled"===t||t.startsWith("study_not_auth:"))?null:"invalid_symbol"}case 1:case 2:return null;default:if(i)return"no_data"}return null}),(0,p.createWVFromGetterAndSubscription)((()=>e.status()),e.onStatusChanged()).ownership(),(0,p.createWVFromGetterAndSubscription)((()=>!e.bars().size()&&!e.isInReplay()),e.dataEvents().dataUpdated()).ownership(),(0,p.createWVFromGetterAndSubscription)((()=>({})),e.model().onChartThemeLoaded()).ownership())}}}]);