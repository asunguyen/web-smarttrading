(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[5093,91859,745,45553,6861],{101414:e=>{e.exports={button:"button-D4RPB3ZC",content:"content-D4RPB3ZC","icon-only":"icon-only-D4RPB3ZC",link:"link-D4RPB3ZC","color-brand":"color-brand-D4RPB3ZC","variant-primary":"variant-primary-D4RPB3ZC","variant-secondary":"variant-secondary-D4RPB3ZC","color-gray":"color-gray-D4RPB3ZC","color-green":"color-green-D4RPB3ZC","color-red":"color-red-D4RPB3ZC","color-black":"color-black-D4RPB3ZC","color-black-friday":"color-black-friday-D4RPB3ZC","color-cyber-monday":"color-cyber-monday-D4RPB3ZC","size-xsmall":"size-xsmall-D4RPB3ZC","start-icon-wrap":"start-icon-wrap-D4RPB3ZC","end-icon-wrap":"end-icon-wrap-D4RPB3ZC","with-start-icon":"with-start-icon-D4RPB3ZC","with-end-icon":"with-end-icon-D4RPB3ZC","size-small":"size-small-D4RPB3ZC","size-medium":"size-medium-D4RPB3ZC","size-large":"size-large-D4RPB3ZC","size-xlarge":"size-xlarge-D4RPB3ZC",animated:"animated-D4RPB3ZC",stretch:"stretch-D4RPB3ZC",grouped:"grouped-D4RPB3ZC","adjust-position":"adjust-position-D4RPB3ZC","first-row":"first-row-D4RPB3ZC","first-col":"first-col-D4RPB3ZC","no-corner-top-left":"no-corner-top-left-D4RPB3ZC","no-corner-top-right":"no-corner-top-right-D4RPB3ZC","no-corner-bottom-right":"no-corner-bottom-right-D4RPB3ZC","no-corner-bottom-left":"no-corner-bottom-left-D4RPB3ZC","text-wrap":"text-wrap-D4RPB3ZC","multiline-content":"multiline-content-D4RPB3ZC","secondary-text":"secondary-text-D4RPB3ZC","primary-text":"primary-text-D4RPB3ZC"}},281026:e=>{e.exports={container:"container-WDZ0PRNh","container-xxsmall":"container-xxsmall-WDZ0PRNh","container-xsmall":"container-xsmall-WDZ0PRNh","container-small":"container-small-WDZ0PRNh","container-medium":"container-medium-WDZ0PRNh","container-large":"container-large-WDZ0PRNh","intent-default":"intent-default-WDZ0PRNh",focused:"focused-WDZ0PRNh",readonly:"readonly-WDZ0PRNh",disabled:"disabled-WDZ0PRNh","with-highlight":"with-highlight-WDZ0PRNh",grouped:"grouped-WDZ0PRNh","adjust-position":"adjust-position-WDZ0PRNh","first-row":"first-row-WDZ0PRNh","first-col":"first-col-WDZ0PRNh",stretch:"stretch-WDZ0PRNh","font-size-medium":"font-size-medium-WDZ0PRNh","font-size-large":"font-size-large-WDZ0PRNh","no-corner-top-left":"no-corner-top-left-WDZ0PRNh","no-corner-top-right":"no-corner-top-right-WDZ0PRNh","no-corner-bottom-right":"no-corner-bottom-right-WDZ0PRNh","no-corner-bottom-left":"no-corner-bottom-left-WDZ0PRNh","size-xxsmall":"size-xxsmall-WDZ0PRNh","size-xsmall":"size-xsmall-WDZ0PRNh","size-small":"size-small-WDZ0PRNh","size-medium":"size-medium-WDZ0PRNh","size-large":"size-large-WDZ0PRNh","intent-success":"intent-success-WDZ0PRNh","intent-warning":"intent-warning-WDZ0PRNh","intent-danger":"intent-danger-WDZ0PRNh","intent-primary":"intent-primary-WDZ0PRNh","border-none":"border-none-WDZ0PRNh","border-thin":"border-thin-WDZ0PRNh","border-thick":"border-thick-WDZ0PRNh",highlight:"highlight-WDZ0PRNh",shown:"shown-WDZ0PRNh"}},7236:e=>{e.exports={"inner-slot":"inner-slot-W53jtLjw",
interactive:"interactive-W53jtLjw",icon:"icon-W53jtLjw","inner-middle-slot":"inner-middle-slot-W53jtLjw","before-slot":"before-slot-W53jtLjw","after-slot":"after-slot-W53jtLjw"}},330930:e=>{e.exports={input:"input-RUSovanF","size-xxsmall":"size-xxsmall-RUSovanF","size-xsmall":"size-xsmall-RUSovanF","size-small":"size-small-RUSovanF","size-medium":"size-medium-RUSovanF","size-large":"size-large-RUSovanF","with-start-slot":"with-start-slot-RUSovanF","with-end-slot":"with-end-slot-RUSovanF"}},705734:e=>{e.exports={dialog:"dialog-aRAWUDhF",rounded:"rounded-aRAWUDhF",shadowed:"shadowed-aRAWUDhF",fullscreen:"fullscreen-aRAWUDhF",darker:"darker-aRAWUDhF",backdrop:"backdrop-aRAWUDhF"}},625650:e=>{e.exports={loader:"loader-UL6iwcBa",static:"static-UL6iwcBa",item:"item-UL6iwcBa","tv-button-loader":"tv-button-loader-UL6iwcBa",medium:"medium-UL6iwcBa",small:"small-UL6iwcBa",black:"black-UL6iwcBa",white:"white-UL6iwcBa",gray:"gray-UL6iwcBa",primary:"primary-UL6iwcBa"}},750468:e=>{e.exports={wrap:"wrap-HXzRntFl",input:"input-HXzRntFl",box:"box-HXzRntFl",hoverDot:"hoverDot-HXzRntFl",red:"red-HXzRntFl",blue:"blue-HXzRntFl",green:"green-HXzRntFl",orange:"orange-HXzRntFl",purple:"purple-HXzRntFl",cyan:"cyan-HXzRntFl",pink:"pink-HXzRntFl",large:"large-HXzRntFl",pickerDot:"pickerDot-HXzRntFl"}},530824:e=>{e.exports={wrapper:"wrapper-BZLCGWlx",buttons:"buttons-BZLCGWlx",colorSelectButton:"colorSelectButton-BZLCGWlx"}},858079:e=>{e.exports={wrapper:"wrapper-xPNB6vOB",selector:"selector-xPNB6vOB",arrowLeft:"arrowLeft-xPNB6vOB",colorSelectButton:"colorSelectButton-xPNB6vOB",popup:"popup-xPNB6vOB"}},353427:e=>{e.exports={wrap:"wrap-erqqoDve",uiMarker:"uiMarker-erqqoDve",red:"red-erqqoDve",blue:"blue-erqqoDve",green:"green-erqqoDve",orange:"orange-erqqoDve",purple:"purple-erqqoDve",cyan:"cyan-erqqoDve",pink:"pink-erqqoDve",uiMarker__small:"uiMarker__small-erqqoDve"}},488803:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","small-height-breakpoint":"screen and (max-height: 360px)","tablet-small-breakpoint":"screen and (max-width: 430px)"}},30507:e=>{e.exports={actionButton:"actionButton-k53vexPa",small:"small-k53vexPa",hiddenTitle:"hiddenTitle-k53vexPa"}},854936:e=>{e.exports={popupDialog:"popupDialog-B02UUUN3",wrap:"wrap-B02UUUN3",main:"main-B02UUUN3",small:"small-B02UUUN3",title:"title-B02UUUN3",content:"content-B02UUUN3",html:"html-B02UUUN3",footer:"footer-B02UUUN3",close:"close-B02UUUN3",marginWithoutCloseButton:"marginWithoutCloseButton-B02UUUN3"}},520817:e=>{e.exports={autocomplete:"autocomplete-uszkUMOz",caret:"caret-uszkUMOz",icon:"icon-uszkUMOz",suggestions:"suggestions-uszkUMOz",suggestion:"suggestion-uszkUMOz",noResults:"noResults-uszkUMOz",selected:"selected-uszkUMOz",opened:"opened-uszkUMOz"}},645300:e=>{e.exports={}},522436:e=>{e.exports={item:"item-GJX1EXhk",interactive:"interactive-GJX1EXhk",hovered:"hovered-GJX1EXhk",disabled:"disabled-GJX1EXhk",active:"active-GJX1EXhk",shortcut:"shortcut-GJX1EXhk",normal:"normal-GJX1EXhk",big:"big-GJX1EXhk",iconCell:"iconCell-GJX1EXhk",icon:"icon-GJX1EXhk",
checkmark:"checkmark-GJX1EXhk",content:"content-GJX1EXhk",label:"label-GJX1EXhk",checked:"checked-GJX1EXhk",toolbox:"toolbox-GJX1EXhk",showToolboxOnHover:"showToolboxOnHover-GJX1EXhk",arrowIcon:"arrowIcon-GJX1EXhk",subMenu:"subMenu-GJX1EXhk",invisibleHotkey:"invisibleHotkey-GJX1EXhk"}},308326:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","tooltip-offset":"20px",dialog:"dialog-qyCw0PaN",dragging:"dragging-qyCw0PaN",dialogAnimatedAppearance:"dialogAnimatedAppearance-qyCw0PaN",dialogAnimation:"dialogAnimation-qyCw0PaN",dialogTooltip:"dialogTooltip-qyCw0PaN"}},829122:e=>{e.exports={item:"item-WJDah4zD",emptyIcons:"emptyIcons-WJDah4zD",loading:"loading-WJDah4zD",disabled:"disabled-WJDah4zD",interactive:"interactive-WJDah4zD",hovered:"hovered-WJDah4zD",normal:"normal-WJDah4zD",big:"big-WJDah4zD",icon:"icon-WJDah4zD",label:"label-WJDah4zD",title:"title-WJDah4zD",nested:"nested-WJDah4zD",shortcut:"shortcut-WJDah4zD",remove:"remove-WJDah4zD"}},333927:e=>{e.exports={separator:"separator-Ymxd0dt_"}},966076:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-_HnK0UIN",positionBottom:"positionBottom-_HnK0UIN",backdrop:"backdrop-_HnK0UIN",drawer:"drawer-_HnK0UIN",positionLeft:"positionLeft-_HnK0UIN"}},934587:e=>{e.exports={icon:"icon-WB2y0EnP",dropped:"dropped-WB2y0EnP"}},496302:e=>{e.exports={container:"container-zLVm6B4t",content:"content-zLVm6B4t",arrowHolder:"arrowHolder-zLVm6B4t","arrowHolder--below":"arrowHolder--below-zLVm6B4t","arrowHolder--above":"arrowHolder--above-zLVm6B4t","arrowHolder--before":"arrowHolder--before-zLVm6B4t","arrowHolder--after":"arrowHolder--after-zLVm6B4t","arrowHolder--above-fix":"arrowHolder--above-fix-zLVm6B4t","arrowHolder--before-rtl-fix":"arrowHolder--before-rtl-fix-zLVm6B4t","arrowHolder--after-ltr-fix":"arrowHolder--after-ltr-fix-zLVm6B4t",label:"label-zLVm6B4t",closeButton:"closeButton-zLVm6B4t"}},296890:(e,t,s)=>{"use strict";s.d(t,{LIST_COLORS:()=>h,ListColor:()=>i,changeDescription:()=>C,createCrossTabSyncMiddleware:()=>L,getCommands:()=>A,getListByColor:()=>D,getSymbolColor:()=>V,getSymbolsByColor:()=>T,getTimestamp:()=>W,isListColor:()=>p,markMany:()=>b,reducer:()=>k,remove:()=>S,rename:()=>f,renameSeparator:()=>E,reset:()=>w,setup:()=>y,share:()=>x,shiftCommand:()=>M});var i,o=s(826300),n=s(438253),l=s(650151),a=s(199669),r=s(50991),d=s(340958),u=s(173777),c=s(559986);!function(e){e.Red="red",e.Blue="blue",e.Green="green",e.Orange="orange",e.Purple="purple",e.Cyan="cyan",e.Pink="pink"}(i||(i={}));const h=[i.Red,i.Blue,i.Green,i.Orange,i.Purple,i.Cyan,i.Pink];function p(e){return new Set(h).has(e)}const _={lists:{colors:[],byColor:{},bySymbol:{}},commands:[],timestamp:null};function m(e,t){const{lists:s}=e,i=s.byColor[t];i&&0===i.symbols.length&&(s.colors=s.colors.filter((e=>e!==t)))}function g(e){return(0,u.isSeparatorItem)(e)}const v=(0,o.createSlice)({name:"marked-lists",initialState:_,reducers:{setup:(e,t)=>{const{lists:s,timestamp:i}=t.payload,o={lists:{colors:[],byColor:{},bySymbol:{}},commands:[],timestamp:null};o.timestamp=i
;for(const e of function(e,t){return[...e].sort(((e,s)=>t.indexOf(e.color)-t.indexOf(s.color)))}(s,h)){const t=e.symbols.filter((t=>void 0===o.lists.bySymbol[t]&&(g(t)||(o.lists.bySymbol[t]=e.color),!0)));o.lists.byColor[e.color]={color:e.color,name:e.name,description:e.description,shared:e.shared,symbols:t},t.length>0&&o.lists.colors.push(e.color)}return o},remove:(e,t)=>{const{color:s,symbols:i,silent:o}=t.payload,{lists:a,commands:r}=e,u=a.byColor[s];if(void 0===u||0===u.symbols.length)return;const c=new Set(i),h=u.symbols.filter((e=>!c.has(e)));if(!(0,d.equalArrays)(h,u.symbols)){u.symbols=h;for(const e of c)delete a.bySymbol[e];o||r.push({type:"remove",color:s,symbols:[...c],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}),m(e,s)}},markMany:(e,t)=>{const{color:s,before:i,silent:o}=t.payload,{lists:a,commands:r}=e,{unique:u,exclusions:h}=function(e,t){var s;const{color:i,symbols:o,separators:n}=t.payload,{lists:a}=e,r={},d=new Set,u=e=>g(e)?((0,l.assert)(null!==i),i):a.bySymbol[e];for(let e=0;e<o.length;++e){const t=o[e];if(d.has(t)||g(t)&&!n)continue;d.add(t);const i=u(t);void 0!==i&&(r[i]=null!==(s=r[i])&&void 0!==s?s:new Set).add(t)}return{exclusions:r,unique:d}}(e,t);if(0===u.size)return;const p=function(e,t,s,i){const{color:o,before:n}=t.payload,{lists:l}=e;let a;if(null!==o&&void 0!==n&&s.has(n)){const e=l.byColor[o];if(void 0!==e){a=i;for(let t=e.symbols.indexOf(n);t>=0;--t)if(!s.has(e.symbols[t])){a=e.symbols[t];break}}}return a}(e,t,u,c.LIST_START);if(null!==s&&void 0!==h[s]&&1===Object.keys(h).length){const t=a.byColor[s];(0,l.assert)(void 0!==t);const _=t.symbols.filter((e=>!u.has(e))),v=(0,c.getTargetIndex)(_,i,p);if(void 0===v?_.push(...u):_.splice(v,0,...u),(0,d.equalArrays)(_,t.symbols))return;{const i=h[s];(0,l.assert)(void 0!==i),t.symbols=_;for(const e of i)delete a.bySymbol[e];for(const e of u)g(e)||(a.bySymbol[e]=s);return m(e,s),void(o||r.push({type:"replace",color:s,symbols:[...t.symbols],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))}}for(const t in h){if(!h.hasOwnProperty(t))continue;const s=h[t];(0,l.assert)(void 0!==s);const i=a.byColor[t];(0,l.assert)(void 0!==i),i.symbols=i.symbols.filter((e=>!s.has(e)||(delete a.bySymbol[e],!1))),m(e,t)}if(null===s)return void(o||r.push({type:"reset",symbols:[...u],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}));const _=a.byColor[s];if(a.colors.includes(s)){(0,l.assert)(void 0!==_);const t=(0,c.getTargetIndex)(_.symbols,i,p);void 0===t?(_.symbols.push(...u),o||(void 0===h[s]?r.push({type:"append",color:s,symbols:[...u],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}):r.push({type:"replace",color:s,symbols:[..._.symbols],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))):(_.symbols.splice(t,0,...u),o||r.push({type:"replace",color:s,symbols:[..._.symbols],prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))}else void 0===_?a.byColor[s]={color:s,symbols:[...u],name:null,description:null,shared:!1}:_.symbols=[...u],a.colors.push(s),o||r.push({type:"append",color:s,symbols:[...u],prevLists:(0,
l.ensureDefined)((0,n.original)(e)).lists});for(const e of u)g(e)||(a.bySymbol[e]=s)},renameSeparator:(e,t)=>{const{color:s,separator:i,name:o,silent:a}=t.payload;if(i===o||!g(i)||!g(o))return;const r=e.lists.byColor[s];(0,l.assert)(void 0!==r);const d=r.symbols.indexOf(i);-1!==d&&-1===r.symbols.indexOf(o)&&(r.symbols.splice(d,1,o),a||e.commands.push({type:"rename-separator",color:s,separator:i,name:o,prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))},rename:(e,t)=>{const{name:s,color:i,silent:o}=t.payload,a=e.lists.byColor[i];(0,l.assert)(void 0!==a),a.name!==s&&(a.name=s,o||e.commands.push({type:"rename",color:i,name:s,prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))},changeDescription:(e,t)=>{const{color:s,description:i,silent:o}=t.payload,a=e.lists.byColor[s];(0,l.assert)(void 0!==a),a.description!==i&&(a.description=i,o||e.commands.push({type:"change-description",color:s,description:i,prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))},reset:(e,t)=>{const{silent:s}=t.payload,{lists:i}=e;for(const e of h){const t=i.byColor[e];void 0!==t&&(t.symbols=[])}i.colors=[],i.bySymbol={},s||e.commands.push({type:"reset-all",prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists})},share:(e,t)=>{const{lists:s,commands:i}=e,{shared:o,color:a,silent:r}=t.payload,d=s.byColor[a];void 0!==d&&d.shared!==o&&(d.shared=o,r||i.push({type:"share",color:a,shared:o,prevLists:(0,l.ensureDefined)((0,n.original)(e)).lists}))},shiftCommand:(e,t)=>{const{count:s}=t.payload;e.commands.splice(0,s)}}}),{markMany:b,setup:y,reset:w,remove:S,rename:f,changeDescription:C,renameSeparator:E,shiftCommand:M,share:x}=v.actions,{reducer:k}=v;function L(e,t,s=v){return(0,a.createCrossTabSyncMiddleware)({id:e,channel:t,event:"marked-list-cross-tab-sync",filter:e=>function(e,t){return t.actions.markMany.match(e)||t.actions.rename.match(e)||t.actions.changeDescription.match(e)||t.actions.remove.match(e)||t.actions.setup.match(e)||t.actions.renameSeparator.match(e)||t.actions.reset.match(e)||t.actions.share.match(e)}(e,s)})}function V(e,t){var s;return null!==(s=e.lists.bySymbol[r.qualified.cast(t)])&&void 0!==s?s:null}function D(e,t){var s;return null!==(s=e.lists.byColor[t])&&void 0!==s?s:null}function T(e,t){var s,i;return null!==(i=null===(s=D(e,t))||void 0===s?void 0:s.symbols)&&void 0!==i?i:null}function A(e){return e.commands}function W(e){return e.timestamp}},12228:(e,t,s)=>{"use strict";s.d(t,{ColorSelector:()=>m});var i,o=s(50959),n=s(296890),l=s(451608),a=s(497754),r=s.n(a),d=s(83436),u=s(948019),c=s(676809),h=s(24122),p=s(750468);const _=(0,l.makeSwitchGroupItem)(((i=class extends o.PureComponent{constructor(){super(...arguments),this._onClickIfChecked=()=>{this.props.onClickIfChecked&&this.props.onClickIfChecked(this.props.value)},this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)}}render(){var e,t;const{className:s,value:i,name:n,checked:l}=this.props,a=null!==(t=null===(e=this.context)||void 0===e?void 0:e.type)&&void 0!==t?t:"menu",u=i;return o.createElement("label",{
className:r()(s,p.wrap,"drawer"===a&&p.large)},o.createElement("input",{className:p.input,type:"radio",name:n,value:i,checked:l,onChange:this._onChange,onClick:l?this._onClickIfChecked:void 0}),o.createElement("div",{className:r()(p.box,p[u],"drawer"===a&&p.large)},l?o.createElement(d.Icon,{icon:c}):o.createElement("div",{className:p.pickerDot},o.createElement(d.Icon,{className:p.hoverDot,icon:h}))))}}).contextType=u.ContextMenuContext,i.defaultProps={value:n.ListColor.Red},i));class m extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange&&this.props.onChange(e)}}render(){const{buttonClassName:e,value:t,onSelectedClick:s}=this.props,i=n.LIST_COLORS.map(((t,i)=>o.createElement(_,{className:e,onClickIfChecked:s,key:i,value:t})));return o.createElement(l.SwitchGroup,{name:"color-selector",onChange:this._onChange,values:[t||""]},i)}}},309867:(e,t,s)=>{"use strict";s.d(t,{flaggedSymbolColorName:()=>n});var i=s(296890),o=s(444372);function n(e){switch(e){case i.ListColor.Red:return o.t(null,void 0,s(258753));case i.ListColor.Green:return o.t(null,void 0,s(516340));case i.ListColor.Blue:return o.t(null,void 0,s(824896));case i.ListColor.Orange:return o.t(null,void 0,s(19151));case i.ListColor.Purple:return o.t(null,void 0,s(237964));case i.ListColor.Cyan:return o.t(null,void 0,s(85692));case i.ListColor.Pink:return o.t(null,void 0,s(216755))}}},487750:(e,t,s)=>{"use strict";s.d(t,{LabelColorSelector:()=>a});var i=s(50959),o=s(12228),n=s(777466),l=s(530824);class a extends i.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange(e)}}render(){const{value:e}=this.props;return i.createElement("span",{className:l.wrapper},i.createElement("span",{className:l.buttons,onClick:n.preventDefault},i.createElement(o.ColorSelector,{buttonClassName:l.colorSelectButton,value:e,onChange:this._onChange,onSelectedClick:this._onChange})))}}},796499:(e,t,s)=>{"use strict";s.d(t,{PopupColorSelector:()=>w});var i=s(50959),o=s(500962),n=s(670797),l=s(642709),a=s(18182),r=s(332585),d=s(67812),u=s(762852),c=s(31341),h=s(636098),p=s(12228),_=s(778785),m=s(858079);class g extends i.PureComponent{constructor(){super(...arguments),this._popUpElem=null,this._onChange=e=>{this.props.onSelectColor(e),this.props.hide()},this._onTargetMouseLeave=e=>{const t=!!e.relatedTarget.nodeName,s=e.relatedTarget===this._popUpElem,i=this._popUpElem&&t&&this._popUpElem.contains(e.relatedTarget);s||i||this.props.hide()},this._onPopUpMouseLeave=e=>{const t=!!e.nativeEvent.relatedTarget.nodeName,s=e.nativeEvent.relatedTarget===this.props.elem,i=t&&this.props.elem.contains(e.nativeEvent.relatedTarget);s||i||this.props.hide()},this._onTouchStart=e=>{const t=!!e.target.nodeName,s=e.target===this.props.elem,i=e.target===this._popUpElem,o=t&&this.props.elem.contains(e.target),n=this._popUpElem&&t&&this._popUpElem.contains(e.target);s||o||i||n||this.props.hide()},this._setPopUpElem=e=>{this._popUpElem=e}}componentDidMount(){
document.documentElement&&(_.mobiletouch?document.documentElement.addEventListener("touchstart",this._onTouchStart):(this.props.elem.addEventListener("mouseleave",this._onTargetMouseLeave),document.body.addEventListener("scroll",this.props.hide)))}componentWillUnmount(){document.documentElement&&(_.mobiletouch?document.documentElement.removeEventListener("touchstart",this._onTouchStart):this.props.elem&&(this.props.elem.removeEventListener("mouseleave",this._onTargetMouseLeave),document.documentElement.removeEventListener("scroll",this.props.hide)))}render(){const e={top:0,left:0};if(this.props.elem){const t=this.props.elem.getBoundingClientRect();e.top=t.top+t.height/2,e.left=t.left+((0,c.isRtl)()?0:t.width)}return i.createElement(h.Portal,null,i.createElement("div",{style:e,className:m.popup,ref:this._setPopUpElem,onMouseLeave:_.mobiletouch?void 0:this._onPopUpMouseLeave},i.createElement("div",{className:m.wrapper},i.createElement("div",{className:m.selector},i.createElement("div",{className:m.arrowLeft}),i.createElement(p.ColorSelector,{buttonClassName:m.colorSelectButton,value:this.props.currentColor,onChange:this._onChange})))))}}var v=s(948019);function b(e){const{actions:t,...s}=e;return i.createElement(a.MatchMedia,{rule:l.DialogBreakpoints.TabletSmall},(e=>e&&t?i.createElement(r.DrawerManager,null,i.createElement(v.ContextMenuContext.Provider,{value:{type:"drawer"}},i.createElement(u.Drawer,{onClose:s.hide,position:"Bottom"},i.createElement(d.ContextMenuList,{items:t})))):i.createElement(g,{...s})))}let y=null;var w;!function(e){function t(){y&&o.unmountComponentAtNode(y)}e.show=function(e){y||(y=document.createElement("div")),t(),o.render(i.createElement(n.SlotContext.Provider,{value:e.manager||null},i.createElement(b,{...e,hide:t})),y)},e.hide=t}(w||(w={}))},345890:(e,t,s)=>{"use strict";s.d(t,{SymbolMarker:()=>y,createSymbolMarkerStandalone:()=>S});s(586463);var i=s(94987),o=s(387506),n=s(796499),l=s(935219),a=s(642709),r=s(50959),d=s(444372),u=s(296890),c=s(487750),h=s(373571),p=s(779923),_=s(494966),m=s(345848),g=s(430159),v=s(309867);function b(e,t,i,o){const n=function(e,t,i,o){const n=d.t(null,void 0,s(182246)).format({symbol:(0,_.safeShortName)(t)}),l=e.getSymbolColor(t)||void 0,a={},p=u.LIST_COLORS.map((e=>{const t=new h.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{label:(0,v.flaggedSymbolColorName)(e),onExecute:()=>b(e),checkable:!0,checked:e===l}});return a[e]=t,t})),b=s=>{o(),(0,g.runOrSigninWithFeature)((()=>{i.setColor(s),e.setSymbolsColor([t],i.getColor()),(0,m.trackEvent)("Watchlist","Context menu","Flag"),u.LIST_COLORS.forEach((e=>{a[e].update({checked:e===i.getColor()})}))}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},y={doNotCloseOnClick:!0};return[new h.Action({actionId:"Watchlist.FlagSymbol",options:{label:n,onExecute:()=>b(i.getColor())}}),new h.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{...y,label:d.t(null,void 0,s(318280)),subItems:p},customActionOptions:{...y,jsxLabel:r.createElement(c.LabelColorSelector,{value:l,onChange:b})}})]
}(e,t,i,o);return null!==e.getSymbolColor(t)&&n.push(function(e,t){return new h.Action({actionId:"Watchlist.UnflagSymbol",options:{label:d.t(null,void 0,s(684114)).format({symbol:(0,_.safeShortName)(t)}),onExecute:()=>{e.setSymbolsColor([t],null),(0,m.trackEvent)("Watchlist","Context menu","Unflag")}}})}(e,t)),n.push(function(e){return new h.Action({actionId:"Watchlist.UnflagAllSymbols",options:{label:d.t(null,void 0,s(560342)),onExecute:()=>{var t;t=()=>{e.clearAllSymbolsColor()},(0,p.showConfirm)({text:d.t(null,void 0,s(654408)),onConfirm:({dialogClose:e})=>{t(),e()}}),(0,m.trackEvent)("Watchlist","Context menu","Unflag all")}}})}(e)),n}class y{constructor(e){this._service=(0,o.getMarkedSymbolsListServiceInstance)(),this._colorManager=new l.ColorManager({context:l.ColorContext.SymbolMarker}),this._classes=[],this._onClick=e=>{e.preventDefault();const t=()=>{const e=b(this._service,this._symbol,this._colorManager,n.PopupColorSelector.hide),t=this._colorManager.getColor(),s={elem:this._uimarker.getElem(),currentColor:t,onSelectColor:this._onSelectColor,actions:e,manager:this._opts.manager};window.matchMedia(a.DialogBreakpoints.TabletSmall).matches?n.PopupColorSelector.show(s):null===this._color?(n.PopupColorSelector.show(s),this._service.setSymbolsColor([this._symbol],t)):(n.PopupColorSelector.hide(),this._service.setSymbolsColor([this._symbol],null))},s=window.is_authenticated;(0,g.runOrSigninWithFeature)((()=>{s&&(this._opts.onClick?this._opts.onClick(this._symbol,t):t())}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},this._onSelectColor=e=>{this._colorManager.setColor(e),this._service.setSymbolsColor([this._symbol],this._colorManager.getColor())},this._onDblClick=e=>{e.preventDefault()},this._onChange=()=>{this._setState(this._service.getSymbolColor(this._symbol))},this._opts=e,this._symbol=e.symbol,this._color=e.color||this._service.getSymbolColor(this._symbol),this._uimarker=new i.UiMarker({color:this._color,container:e.container,onClick:this._onClick,onDblClick:this._onDblClick,specialImage:e.specialImage}),e.className&&this.setClassName(e.className),null!==this._color&&this._addActiveClassName(),this._service.onSymbolChange(this._symbol,this._onChange)}updateSubscription(){this._setState(this._service.getSymbolColor(this._symbol))}bindTo(e,t){this._service.offSymbolChange(this._symbol,this._onChange),this._symbol=e,this._uimarker.appendTo(t),this._setState(this._service.getSymbolColor(e)),this._service.onSymbolChange(e,this._onChange)}unbind(){this._service.offSymbolChange(this._symbol,this._onChange),this._uimarker.detach()}getElem(){return this._uimarker.getElem()}isMarked(){return null!==this._color}setClassName(e){this._uimarker.getElem().classList.remove(...this._classes),this._classes=e.split(" ").filter(Boolean),this._uimarker.getElem().classList.add(...this._classes)}destroy(){this.unbind(),delete this._uimarker,delete this._opts}_setState(e){const t=this.isMarked();this._color=e,null!==this._color?(this._uimarker.setColor(this._color),
this._addActiveClassName()):(this._uimarker.removeColor(),this._removeActiveClassName()),void 0!==this._opts.onMarkedChanged&&t!==this.isMarked()&&this._opts.onMarkedChanged()}_addActiveClassName(){this._opts.activeClassName&&this._uimarker.addClass(this._opts.activeClassName)}_removeActiveClassName(){this._opts.activeClassName&&this._uimarker.removeClass(this._opts.activeClassName)}}class w extends y{constructor(e){super(e),this._onInit=()=>{this.updateSubscription()},this._service.onInit(this._onInit)}destroy(){this._service.offInit(this._onInit),super.destroy()}}function S(e){return new w(e)}},94987:(e,t,s)=>{"use strict";s.d(t,{UiMarker:()=>d});var i=s(296890),o=s(571690),n=s(904799),l=s(497754),a=s(778785),r=s(353427);class d{constructor(e){this._onClick=e=>{this._opts.onClick&&this._opts.onClick(e)},this._onDblClick=e=>{this._opts.onDblClick&&this._opts.onDblClick(e)},this._container=e.container,this._opts=e,this._elem=this._render(e),this._addEventListeners()}setColor(e){this.removeColor(),this._elem.classList.add(r[e])}removeColor(){this._elem.classList.remove(r[i.ListColor.Red],r[i.ListColor.Orange],r[i.ListColor.Purple],r[i.ListColor.Green],r[i.ListColor.Blue],r[i.ListColor.Cyan],r[i.ListColor.Pink])}addClass(e){this._elem.classList.add(e)}removeClass(e){this._elem.classList.remove(e)}getElem(){return this._elem}appendTo(e){this.detach(),this._container=e,this._container.appendChild(this._elem),this._addEventListeners()}detach(){this._removeEventListeners(),this._container&&(this._container.removeChild(this._elem),delete this._container)}_render(e){const t=l(r.uiMarker,{[e.className]:Boolean(e.className),[r[e.color]]:Boolean(e.color)}),s=e.specialImage||n,i=(0,o.parseHtmlElement)(`<div class="${t}">${s}</div>`);if(!i)throw new Error("Can't parse html");return this._container&&this._container.appendChild(i),i}_addEventListeners(){const e=a.mobiletouch?"touchstart":"click";this._elem.addEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.addEventListener("dblclick",this._onDblClick)}_removeEventListeners(){const e=a.mobiletouch?"touchstart":"click";this._elem.removeEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.removeEventListener("dblclick",this._onDblClick)}}},559986:(e,t,s)=>{"use strict";s.d(t,{LIST_START:()=>i,getTargetIndex:()=>o});const i=Symbol();function o(e,t,s){const o=void 0===s?void 0!==t?e.indexOf(t):void 0:s===i?0:e.indexOf(s)+1;return-1!==o?o:void 0}},199669:(e,t,s)=>{"use strict";function i(e){const{id:t,event:s,channel:i,filter:o}=e;return e=>(i.on(s,(s=>{const{action:i,emitter:n}=JSON.parse(s);n!==t&&o(i)&&e.dispatch({...i,payload:{...i.payload,silent:!0}})})),e=>n=>{const l=e(n);return o(n)&&(n.payload.silent||i.emit(s,JSON.stringify({action:n,emitter:t}))),l})}s.d(t,{createCrossTabSyncMiddleware:()=>i})},173777:(e,t,s)=>{"use strict";s.d(t,{SEPARATOR_PREFIX:()=>i,isSeparatorItem:()=>o});const i="###";function o(e){return e.startsWith(i)}},50991:(e,t,s)=>{"use strict";s.d(t,{qualified:()=>i});const i={cast:e=>e,castMany:e=>e.map(i.cast)}},340958:(e,t,s)=>{
"use strict";function i(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!1;return!0}s.d(t,{equalArrays:()=>i})},540975:(e,t,s)=>{"use strict";s.d(t,{AnchorButton:()=>c,Button:()=>d});var i=s(50959),o=s(915812);function n(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function l(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function a(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}function r(e){const{intent:t,size:s,appearance:i,useFullWidth:o,icon:r,...d}=e;return{...d,color:l(t),size:a(s),variant:n(i),stretch:o,startIcon:r}}function d(e){return i.createElement(o.SquareButton,{...r(e)})}function u(e){const{intent:t,size:s,appearance:i,useFullWidth:o,icon:r,...d}=e;return{...d,color:l(t),size:a(s),variant:n(i),stretch:o,startIcon:r}}function c(e){return i.createElement(o.SquareAnchorButton,{...u(e)})}},915812:(e,t,s)=>{"use strict";s.d(t,{SquareAnchorButton:()=>o.SquareAnchorButton,SquareButton:()=>i.SquareButton});s(221191);var i=s(422175),o=s(951144)},951144:(e,t,s)=>{"use strict";s.d(t,{SquareAnchorButton:()=>r});var i=s(50959),o=s(301792),n=s(8626),l=s(221191);function a(e){const{className:t,color:s,variant:i,size:o,stretch:l,animated:a,icon:r,iconOnly:d,startIcon:u,endIcon:c,...h}=e;return{...h,...(0,n.filterDataProps)(e),...(0,n.filterAriaProps)(e)}}function r(e){const{reference:t}=e,{isGrouped:s,cellState:n,disablePositionAdjustment:r}=(0,i.useContext)(o.ControlGroupContext),d=(0,l.getSquareButtonClasses)({...e,isGrouped:s,cellState:n,disablePositionAdjustment:r,isAnchor:!0});return i.createElement("a",{...a(e),className:d,ref:t},i.createElement(l.SquareButtonContent,{...e}))}},221191:(e,t,s)=>{"use strict";s.d(t,{SquareButtonContent:()=>c,getSquareButtonClasses:()=>u});var i=s(50959),o=s(497754),n=s(307754),l=s(83436),a=s(101414),r=s.n(a);const d="apply-overflow-tooltip apply-overflow-tooltip--check-children-recursively apply-overflow-tooltip--allow-text";function u(e){const{color:t="brand",size:s="medium",variant:i="primary",stretch:l=!1,icon:a,startIcon:u,endIcon:c,iconOnly:h=!1,className:p,isGrouped:_,cellState:m,disablePositionAdjustment:g=!1,primaryText:v,secondaryText:b,isAnchor:y=!1}=e,w=function(e){let t="";return 0!==e&&(1&e&&(t=o(t,r()["no-corner-top-left"])),2&e&&(t=o(t,r()["no-corner-top-right"])),4&e&&(t=o(t,r()["no-corner-bottom-right"])),8&e&&(t=o(t,r()["no-corner-bottom-left"]))),t}((0,n.getGroupCellRemoveRoundBorders)(m));return o(p,r().button,r()[`size-${s}`],r()[`color-${t}`],r()[`variant-${i}`],l&&r().stretch,(a||u)&&r()["with-start-icon"],c&&r()["with-end-icon"],h&&r()["icon-only"],w,_&&r().grouped,_&&!g&&r()["adjust-position"],_&&m.isTop&&r()["first-row"],_&&m.isLeft&&r()["first-col"],v&&b&&r()["multiline-content"],y&&r().link,d)}function c(e){const{startIcon:t,icon:s,iconOnly:n,children:a,endIcon:u,primaryText:c,secondaryText:h}=e,p=null!=t?t:s,_=!(t||s||u||n)&&!a&&c&&h
;return i.createElement(i.Fragment,null,p&&i.createElement(l.Icon,{icon:p,className:r()["start-icon-wrap"]}),a&&i.createElement("span",{className:r().content},a),u&&!n&&i.createElement(l.Icon,{icon:u,className:r()["end-icon-wrap"]}),_&&function(e){return e.primaryText&&e.secondaryText&&i.createElement("div",{className:o(r()["text-wrap"],d)},i.createElement("span",{className:r()["primary-text"]}," ",e.primaryText," "),"string"==typeof e.secondaryText?i.createElement("span",{className:r()["secondary-text"]}," ",e.secondaryText," "):i.createElement("span",{className:r()["secondary-text"]},i.createElement("span",null,e.secondaryText.firstLine),i.createElement("span",null,e.secondaryText.secondLine)))}(e))}},422175:(e,t,s)=>{"use strict";s.d(t,{SquareButton:()=>d});var i=s(50959),o=s(843085),n=s(301792),l=s(8626),a=s(221191);function r(e){const{className:t,color:s,variant:i,size:o,stretch:n,animated:a,icon:r,iconOnly:d,startIcon:u,endIcon:c,primaryText:h,secondaryText:p,..._}=e;return{..._,...(0,l.filterDataProps)(e),...(0,l.filterAriaProps)(e)}}function d(e){const{reference:t,tooltipText:s,...l}=e,{isGrouped:d,cellState:u,disablePositionAdjustment:c}=(0,i.useContext)(n.ControlGroupContext),h=(0,a.getSquareButtonClasses)({...l,isGrouped:d,cellState:u,disablePositionAdjustment:c});return i.createElement("button",{...r(l),className:h,ref:t,"data-overflow-tooltip-text":null!=s?s:e.primaryText?[e.primaryText,e.secondaryText].join(" "):(0,o.getTextForTooltip)(e.children)},i.createElement(a.SquareButtonContent,{...l}))}},301792:(e,t,s)=>{"use strict";s.d(t,{ControlGroupContext:()=>i});const i=s(50959).createContext({isGrouped:!1,cellState:{isTop:!0,isRight:!0,isBottom:!0,isLeft:!0}})},307754:(e,t,s)=>{"use strict";function i(e){let t=0;return e.isTop&&e.isLeft||(t+=1),e.isTop&&e.isRight||(t+=2),e.isBottom&&e.isLeft||(t+=8),e.isBottom&&e.isRight||(t+=4),t}s.d(t,{getGroupCellRemoveRoundBorders:()=>i})},452395:(e,t,s)=>{"use strict";s.d(t,{ControlSkeleton:()=>b,InputClasses:()=>m});var i=s(50959),o=s(497754),n=s(650151),l=s(662929),a=s(8626),r=s(301792),d=s(307754);var u=s(281026),c=s.n(u);function h(e){let t="";return 0!==e&&(1&e&&(t=o(t,c()["no-corner-top-left"])),2&e&&(t=o(t,c()["no-corner-top-right"])),4&e&&(t=o(t,c()["no-corner-bottom-right"])),8&e&&(t=o(t,c()["no-corner-bottom-left"]))),t}function p(e,t,s,i){const{removeRoundBorder:n,className:l,intent:a="default",borderStyle:r="thin",size:u,highlight:p,disabled:_,readonly:m,stretch:g,noReadonlyStyles:v,isFocused:b}=e,y=h(null!=n?n:(0,d.getGroupCellRemoveRoundBorders)(s));return o(c().container,c()[`container-${u}`],c()[`intent-${a}`],c()[`border-${r}`],u&&c()[`size-${u}`],y,p&&c()["with-highlight"],_&&c().disabled,m&&!v&&c().readonly,b&&c().focused,g&&c().stretch,t&&c().grouped,!i&&c()["adjust-position"],s.isTop&&c()["first-row"],s.isLeft&&c()["first-col"],l)}function _(e,t,s){const{highlight:i,highlightRemoveRoundBorder:n}=e;if(!i)return c().highlight;const l=h(null!=n?n:(0,d.getGroupCellRemoveRoundBorders)(t));return o(c().highlight,c().shown,c()[`size-${s}`],l)}const m={
FontSizeMedium:(0,n.ensureDefined)(c()["font-size-medium"]),FontSizeLarge:(0,n.ensureDefined)(c()["font-size-large"])},g={passive:!1};function v(e,t){const{style:s,id:o,role:n,onFocus:d,onBlur:u,onMouseOver:c,onMouseOut:h,onMouseDown:m,onMouseUp:v,onKeyDown:b,onClick:y,tabIndex:w,startSlot:S,middleSlot:f,endSlot:C,onWheel:E,onWheelNoPassive:M=null,size:x}=e,{isGrouped:k,cellState:L,disablePositionAdjustment:V=!1}=(0,i.useContext)(r.ControlGroupContext),D=function(e,t=null,s){const o=(0,i.useRef)(null),n=(0,i.useRef)(null),l=(0,i.useCallback)((()=>{if(null===o.current||null===n.current)return;const[e,t,s]=n.current;null!==t&&o.current.addEventListener(e,t,s)}),[]),a=(0,i.useCallback)((()=>{if(null===o.current||null===n.current)return;const[e,t,s]=n.current;null!==t&&o.current.removeEventListener(e,t,s)}),[]),r=(0,i.useCallback)((e=>{a(),o.current=e,l()}),[]);return(0,i.useEffect)((()=>(n.current=[e,t,s],l(),a)),[e,t,s]),r}("wheel",M,g);return i.createElement("span",{style:s,id:o,role:n,className:p(e,k,L,V),tabIndex:w,ref:(0,l.useMergedRefs)([t,D]),onFocus:d,onBlur:u,onMouseOver:c,onMouseOut:h,onMouseDown:m,onMouseUp:v,onKeyDown:b,onClick:y,onWheel:E,...(0,a.filterDataProps)(e),...(0,a.filterAriaProps)(e)},S,f,C,i.createElement("span",{className:_(e,L,x)}))}v.displayName="ControlSkeleton";const b=i.forwardRef(v)},514420:(e,t,s)=>{"use strict";s.d(t,{AfterSlot:()=>c,BeforeSlot:()=>a,EndSlot:()=>u,MiddleSlot:()=>d,StartSlot:()=>r});var i=s(50959),o=s(497754),n=s(7236),l=s.n(n);function a(e){const{className:t,children:s}=e;return i.createElement("span",{className:o(l()["before-slot"],t)},s)}function r(e){const{className:t,interactive:s=!0,icon:n=!1,children:a}=e;return i.createElement("span",{className:o(l()["inner-slot"],s&&l().interactive,n&&l().icon,t)},a)}function d(e){const{className:t,children:s}=e;return i.createElement("span",{className:o(l()["inner-slot"],l()["inner-middle-slot"],t)},s)}function u(e){const{className:t,interactive:s=!0,icon:n=!1,children:a}=e;return i.createElement("span",{className:o(l()["inner-slot"],s&&l().interactive,n&&l().icon,t)},a)}function c(e){const{className:t,children:s}=e;return i.createElement("span",{className:o(l()["after-slot"],t)},s)}},142135:(e,t,s)=>{"use strict";s.d(t,{Input:()=>i.Input,InputControl:()=>i.InputControl});var i=s(314551)},314551:(e,t,s)=>{"use strict";s.d(t,{Input:()=>v,InputControl:()=>b});var i=s(50959),o=s(497754),n=s(8626),l=s(763341),a=s(151057),r=s(662929),d=s(207357),u=s(405964),c=s(633750),h=s(452395),p=s(514420),_=s(330930),m=s.n(_);function g(e){return!(0,n.isAriaAttribute)(e)&&!(0,n.isDataAttribute)(e)}function v(e){const{id:t,title:s,role:l,tabIndex:a,placeholder:r,name:d,type:u,value:c,defaultValue:_,draggable:v,autoComplete:b,autoFocus:y,maxLength:w,min:S,max:f,step:C,pattern:E,inputMode:M,onSelect:x,onFocus:k,onBlur:L,onKeyDown:V,onKeyUp:D,onKeyPress:T,onChange:A,onDragStart:W,size:P="small",className:H,inputClassName:B,disabled:N,readonly:I,containerTabIndex:R,startSlot:O,endSlot:z,reference:F,containerReference:U,onContainerFocus:G,...j}=e,Z=(0,
n.filterProps)(j,g),$={...(0,n.filterAriaProps)(j),...(0,n.filterDataProps)(j),id:t,title:s,role:l,tabIndex:a,placeholder:r,name:d,type:u,value:c,defaultValue:_,draggable:v,autoComplete:b,autoFocus:y,maxLength:w,min:S,max:f,step:C,pattern:E,inputMode:M,onSelect:x,onFocus:k,onBlur:L,onKeyDown:V,onKeyUp:D,onKeyPress:T,onChange:A,onDragStart:W};return i.createElement(h.ControlSkeleton,{...Z,disabled:N,readonly:I,tabIndex:R,className:o(m().container,H),size:P,ref:U,onFocus:G,startSlot:O,middleSlot:i.createElement(p.MiddleSlot,null,i.createElement("input",{...$,className:o(m().input,m()[`size-${P}`],B,O&&m()["with-start-slot"],z&&m()["with-end-slot"]),disabled:N,readOnly:I,ref:F})),endSlot:z})}function b(e){e=(0,d.useControl)(e);const{disabled:t,autoSelectOnFocus:s,tabIndex:o=0,onFocus:n,onBlur:h,reference:p,containerReference:_=null}=e,m=(0,i.useRef)(null),g=(0,i.useRef)(null),[b,y]=(0,u.useFocus)(),w=t?void 0:b?-1:o,S=t?void 0:b?o:-1,{isMouseDown:f,handleMouseDown:C,handleMouseUp:E}=(0,c.useIsMouseDown)(),M=(0,l.createSafeMulticastEventHandler)(y.onFocus,(function(e){s&&!f.current&&(0,a.selectAllContent)(e.currentTarget)}),n),x=(0,l.createSafeMulticastEventHandler)(y.onBlur,h),k=(0,i.useCallback)((e=>{m.current=e,p&&("function"==typeof p&&p(e),"object"==typeof p&&(p.current=e))}),[m,p]);return i.createElement(v,{...e,isFocused:b,containerTabIndex:w,tabIndex:S,onContainerFocus:function(e){g.current===e.target&&null!==m.current&&m.current.focus()},onFocus:M,onBlur:x,reference:k,containerReference:(0,r.useMergedRefs)([g,_]),onMouseDown:C,onMouseUp:E})}},600234:(e,t,s)=>{"use strict";s.d(t,{Dialog:()=>d});var i=s(50959),o=s(497754),n=s(692822),l=s(351290),a=s(8626),r=s(705734);class d extends i.PureComponent{constructor(){super(...arguments),this._manager=new l.OverlapManager,this._handleSlot=e=>{this._manager.setContainer(e)}}render(){const{rounded:e=!0,shadowed:t=!0,fullscreen:s=!1,darker:l=!1,className:d,backdrop:u,containerTabIndex:c=-1}=this.props,h=o(d,r.dialog,e&&r.rounded,t&&r.shadowed,s&&r.fullscreen,l&&r.darker),p=(0,a.filterDataProps)(this.props),_=this.props.style?{...this._createStyles(),...this.props.style}:this._createStyles();return i.createElement(i.Fragment,null,i.createElement(n.SlotContext.Provider,{value:this._manager},u&&i.createElement("div",{onClick:this.props.onClickBackdrop,className:r.backdrop}),i.createElement("div",{...p,className:h,style:_,ref:this.props.reference,onFocus:this.props.onFocus,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown,tabIndex:c,"aria-label":this.props.containerAriaLabel},this.props.children)),i.createElement(n.Slot,{reference:this._handleSlot}))}_createStyles(){const{bottom:e,left:t,width:s,right:i,top:o,zIndex:n,height:l}=this.props;return{bottom:e,left:t,right:i,top:o,zIndex:n,maxWidth:s,height:l}}}},207357:(e,t,s)=>{"use strict";s.d(t,{useControl:()=>n});var i=s(763341),o=s(405964);function n(e){const{onFocus:t,onBlur:s,intent:n,highlight:l,disabled:a}=e,[r,d]=(0,o.useFocus)(void 0,a),u=(0,
i.createSafeMulticastEventHandler)(a?void 0:d.onFocus,t),c=(0,i.createSafeMulticastEventHandler)(a?void 0:d.onBlur,s);return{...e,intent:n||(r?"primary":"default"),highlight:null!=l?l:r,onFocus:u,onBlur:c}}},405964:(e,t,s)=>{"use strict";s.d(t,{useFocus:()=>o});var i=s(50959);function o(e,t){const[s,o]=(0,i.useState)(!1);(0,i.useEffect)((()=>{t&&s&&o(!1)}),[t,s]);const n={onFocus:(0,i.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!0)}),[e]),onBlur:(0,i.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!1)}),[e])};return[s,n]}},640027:(e,t,s)=>{"use strict";s.d(t,{useIsMounted:()=>o});var i=s(50959);const o=()=>{const e=(0,i.useRef)(!1);return(0,i.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},633750:(e,t,s)=>{"use strict";s.d(t,{useIsMouseDown:()=>o});var i=s(50959);function o(){const e=(0,i.useRef)(!1),t=(0,i.useCallback)((()=>{e.current=!0}),[e]),s=(0,i.useCallback)((()=>{e.current=!1}),[e]);return{isMouseDown:e,handleMouseDown:t,handleMouseUp:s}}},662929:(e,t,s)=>{"use strict";s.d(t,{useMergedRefs:()=>n});var i=s(50959),o=s(551080);function n(e){return(0,i.useCallback)((0,o.mergeRefs)(e),e)}},940194:(e,t,s)=>{"use strict";function i(e,t,s,i,o){function n(o){if(e>o.timeStamp)return;const n=o.target;void 0!==s&&null!==t&&null!==n&&n.ownerDocument===i&&(t.contains(n)||s(o))}return o.click&&i.addEventListener("click",n,!1),o.mouseDown&&i.addEventListener("mousedown",n,!1),o.touchEnd&&i.addEventListener("touchend",n,!1),o.touchStart&&i.addEventListener("touchstart",n,!1),()=>{i.removeEventListener("click",n,!1),i.removeEventListener("mousedown",n,!1),i.removeEventListener("touchend",n,!1),i.removeEventListener("touchstart",n,!1)}}s.d(t,{addOutsideEventListener:()=>i})},385806:(e,t,s)=>{"use strict";s.d(t,{useOutsideEvent:()=>n});var i=s(50959),o=s(940194);function n(e){const{click:t,mouseDown:s,touchEnd:n,touchStart:l,handler:a,reference:r,ownerDocument:d=document}=e,u=(0,i.useRef)(null),c=(0,i.useRef)(new CustomEvent("timestamp").timeStamp);return(0,i.useLayoutEffect)((()=>{const e={click:t,mouseDown:s,touchEnd:n,touchStart:l},i=r?r.current:u.current;return(0,o.addOutsideEventListener)(c.current,i,a,d,e)}),[t,s,n,l,a]),r||u}},265005:(e,t,s)=>{"use strict";s.d(t,{Loader:()=>i.Loader});var i=s(386290)},386290:(e,t,s)=>{"use strict";s.d(t,{Loader:()=>a});var i=s(50959),o=s(497754),n=s(625650),l=s.n(n);function a(e){const{className:t,size:s="medium",staticPosition:n,color:a="black"}=e,r=o(l().item,l()[a],l()[s]);return i.createElement("span",{className:o(l().loader,n&&l().static,t)},i.createElement("span",{className:r}),i.createElement("span",{className:r}),i.createElement("span",{className:r}))}},692822:(e,t,s)=>{"use strict";s.d(t,{Slot:()=>o,SlotContext:()=>n});var i=s(50959);class o extends i.Component{shouldComponentUpdate(){return!1}render(){return i.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const n=i.createContext(null)},451608:(e,t,s)=>{"use strict";s.d(t,{SwitchGroup:()=>i.SwitchGroup,makeSwitchGroupItem:()=>l})
;var i=s(367254),o=s(50959),n=s(973920);function l(e){var t;return t=class extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.subscribe(this._onUpdate)}render(){return o.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.unsubscribe(this._onUpdate)}_getName(){return this.context.getName()}_isChecked(){return this.context.getValues().includes(this.props.value)}},t.contextType=n.SwitchGroupContext,t}},973920:(e,t,s)=>{"use strict";s.d(t,{SwitchGroupContext:()=>n});var i=s(50959),o=s(174786);const n=(0,i.createContext)({getName:()=>"",getValues:()=>[],getOnChange:()=>o.default,subscribe:o.default,unsubscribe:o.default})},367254:(e,t,s)=>{"use strict";s.d(t,{SwitchGroup:()=>n});var i=s(50959),o=s(973920);class n extends i.PureComponent{constructor(e){super(e),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)},this.state={switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return i.createElement(o.SwitchGroupContext.Provider,{value:this.state.switchGroupContext},this.props.children)}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((s=>t.includes(s)?!e.includes(s):e.includes(s)))}}},8626:(e,t,s)=>{"use strict";function i(e){return n(e,l)}function o(e){return n(e,a)}function n(e,t){const s=Object.entries(e).filter(t),i={};for(const[e,t]of s)i[e]=t;return i}function l(e){const[t,s]=e;return 0===t.indexOf("data-")&&"string"==typeof s}function a(e){return 0===e[0].indexOf("aria-")}s.d(t,{filterAriaProps:()=>o,filterDataProps:()=>i,filterProps:()=>n,isAriaAttribute:()=>a,isDataAttribute:()=>l})},843085:(e,t,s)=>{"use strict";s.d(t,{getTextForTooltip:()=>l});var i=s(50959);const o=e=>(0,i.isValidElement)(e)&&Boolean(e.props.children),n=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString()+" ",l=e=>Array.isArray(e)||(0,i.isValidElement)(e)?i.Children.toArray(e).reduce(((e,t)=>{let s="";return s=(0,i.isValidElement)(t)&&o(t)?l(t.props.children):(0,i.isValidElement)(t)&&!o(t)?"":n(t),e.concat(s)}),"").trim():n(e)},151057:(e,t,s)=>{"use strict";function i(e){null!==e&&e.setSelectionRange(0,e.value.length)}s.d(t,{selectAllContent:()=>i})},551080:(e,t,s)=>{"use strict";function i(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function o(e){return i([e])}s.d(t,{isomorphicRef:()=>o,mergeRefs:()=>i})},58407:(e,t,s)=>{"use strict";s.d(t,{OutsideEvent:()=>o});var i=s(385806);function o(e){const{children:t,...s}=e
;return t((0,i.useOutsideEvent)(s))}},351290:(e,t,s)=>{"use strict";s.d(t,{OverlapManager:()=>n,getRootOverlapManager:()=>a});var i=s(650151);class o{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class n{constructor(e=document){this._storage=new o,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,s=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,s),this._container=s}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const s=this._windows.get(e);if(void 0!==s)return s;this.registerWindow(e);const i=this._document.createElement("div");if(i.style.position=t.position,i.style.zIndex=this._index.toString(),i.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(i);else if(t.index<=0)this._container.insertBefore(i,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(i,e)}}else"reverse"===t.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(e,i),++this._index,i}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const l=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,i.ensureDefined)(l.get(t));{const t=new n(e),s=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return l.set(s,t),t.setContainer(s),e.body.appendChild(s),t}}},763341:(e,t,s)=>{"use strict";function i(...e){return t=>{for(const s of e)void 0!==s&&s(t)}}s.d(t,{createSafeMulticastEventHandler:()=>i})},531327:(e,t,s)=>{"use strict";function i(e){return o()?0:n()?45:Math.min(Math.max(e,45),450)}s.d(t,{getWidgetBarPadding:()=>i,isWidgetBarFullscreen:()=>o});const o=()=>!window.matchMedia("screen and (min-width: 768px)").matches,n=()=>!window.matchMedia("screen and (min-width: 1280px)").matches},575658:(e,t,s)=>{"use strict";s.d(t,{setFixedBodyState:()=>a});var i=s(76107),o=s(531327);let n=0,l=!1;function a(e){const{body:t}=document,s=t.querySelector(".widgetbar-wrap");if(e&&1==++n){const e=(0,i.getCSSProperty)(t,"overflow"),o=(0,i.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,
i.setStyle)(s,"right",`${(0,i.getScrollbarWidth)()}px`),t.style.paddingRight=`${o+(0,i.getScrollbarWidth)()}px`,l=!0),t.classList.add("i-no-scroll")}else if(!e&&n>0&&0==--n&&(t.classList.remove("i-no-scroll"),l)){(0,i.setStyle)(s,"right","0px");let e=0;e=s?(0,o.getWidgetBarPadding)((0,i.getContentWidth)(s)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,i.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",l=!1}}},932881:(e,t,s)=>{"use strict";s.d(t,{colorContinuousMode:()=>d,colorDelayMode:()=>o,colorEodMode:()=>n,colorHalalMode:()=>r,colorNotAccurateMode:()=>l,colorPrimaryMode:()=>a});var i=s(149511);const o=i.colorsPalette["color-delay-mode"],n=i.colorsPalette["color-eod-mode"],l=i.colorsPalette["color-notaccurate-mode"],a=i.colorsPalette["color-primary-symbol"],r=i.colorsPalette["color-halal"],d=i.colorsPalette["color-continuous"]},939680:(e,t,s)=>{"use strict";s.d(t,{batsToRealtimeCrucialHtml:()=>D,batsToRealtimeHtml1:()=>M,batsToRealtimeHtml2WithExchange:()=>V,batsToRealtimeHtml2WithoutExchange:()=>L,batsToRealtimeHtmlPart1:()=>x,batsToRealtimeHtmlPart2:()=>k,continuousHtml:()=>A,continuousTitle:()=>T,delayHtml:()=>g,delayNoRealtimeHtml:()=>y,delayToRealtimeHtml:()=>b,delayTooltip:()=>n,delayWithoutMarketAgreement:()=>E,derivedHtml:()=>p,derivedTitle:()=>h,eodHtml:()=>w,eodTooltip:()=>l,exchangeByOriginalExchangeTooltip:()=>d,halalHtml:()=>m,halalTitle:()=>_,notAccurate1PerSecondTooltip:()=>a,notAccurateCboeTooltip:()=>r,primaryHtml:()=>c,primaryTitle:()=>u,tFEXorMOEXorLSEorChixauHtml:()=>v,tickByTickHtml1:()=>f,tickByTickHtml1FullInfo:()=>S,tickByTickHtml2:()=>C});var i=s(444372),o=s(919476);const n=i.t(null,void 0,s(257310)),l=i.t(null,void 0,s(659315)),a=i.t(null,void 0,s(215815)),r=i.t(null,void 0,s(345e3)),d=i.t(null,void 0,s(107435)),u=i.t(null,void 0,s(624680)),c=i.t(null,void 0,s(999214)),h=i.t(null,void 0,s(6044)),p=i.t(null,void 0,s(831461)),_=i.t(null,void 0,s(332960)),m=i.t(null,void 0,s(152449)),g=(0,o.htmlEscape)(i.t(null,void 0,s(538611))),v=(0,o.htmlEscape)(i.t(null,void 0,s(301084))),b=(0,o.htmlEscape)(i.t(null,void 0,s(652984))),y=(0,o.htmlEscape)(i.t(null,void 0,s(689022))),w=(0,o.htmlEscape)(i.t(null,void 0,s(52916))),S=(0,o.htmlEscape)(i.t(null,void 0,s(449321))),f=(0,o.htmlEscape)(i.t(null,void 0,s(425978))),C=(0,o.htmlEscape)(i.t(null,void 0,s(28412))),E=(0,o.htmlEscape)(i.t(null,void 0,s(791459))),M=i.t(null,void 0,s(806667)),x=i.t(null,{context:'Part of: "Real-time data for {symbolName} is provided by {exchange} exchange."'},s(712978)),k=i.t(null,{context:'Part of: "Real-time data for {symbolName} is provided by {exchange} exchange."'},s(864565)),L=i.t(null,void 0,s(102310)),V=i.t(null,void 0,s(729512)),D=i.t(null,void 0,s(886753)),T=i.t(null,void 0,s(353205)),A=i.t(null,void 0,s(115993))},103931:(e,t,s)=>{"use strict";s.d(t,{continuousIconsMap:()=>y,delayIconsMap:()=>_,eodIconsMap:()=>m,halalIconsMap:()=>b,notAccurateIconsMap:()=>g,replayIconsMap:()=>v})
;var i=s(512646),o=s(931233),n=s(55593),l=s(469410),a=s(552828),r=s(991665),d=s(839379),u=s(672844),c=s(323683),h=s(378849),p=s(986365);const _=new Map([["small",i],["medium",o],["large",o]]),m=new Map([["small",n],["medium",l],["large",l]]),g=new Map([["small",a],["medium",r],["large",r]]),v=new Map([["small",d],["medium",d],["large",d]]),b=new Map([["small",u],["medium",c],["large",c]]),y=new Map([["small",h],["medium",p],["large",p]])},734410:(e,t,s)=>{"use strict";s.d(t,{BATS_TO_REALTIME_SOLUTION_ID:()=>o,CONTINUOUS_SOLUTION_ID:()=>n,FEATURED_PARTNER_ID:()=>l,HALAL_SOLUTION_ID:()=>i});const i=43000700852,o=43000473924,n=43000483493,l=43000701943},176006:(e,t,s)=>{"use strict";function i(e,t){null===e.firstChild?e.textContent=t:e.firstChild.nodeValue=t}s.d(t,{updateTextNode:()=>i})},421907:(e,t,s)=>{"use strict";s.d(t,{commonRenameSeparator:()=>n});var i=s(120780),o=s(77117);async function n(e,t,s,n){const{oldSeparator:l,newSeparator:a}=(0,o.remoteRenameSeparators)(e,s,n),r=await(0,i.fetch)(`/api/v1/symbols_list/${t}/${e}/replace_symbol/`,{method:"POST",body:JSON.stringify({old:l,new:a}),headers:{"Content-Type":"application/json"}});if(!r.ok){const{detail:e}=await r.json();throw Error(e)}}},822714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{addSymbols:()=>v,changeDescription:()=>E,convertToCustomSymbolList:()=>u,convertToMarkedSymbolList:()=>c,convertToSymbolList:()=>h,createWatchList:()=>w,getActive:()=>C,getAllWatchLists:()=>_,getCustomWatchLists:()=>p,getCustomWatchlist:()=>x,putWatchList:()=>S,removeSymbols:()=>b,removeWatchList:()=>g,renameSeparator:()=>M,renameWatchList:()=>m,replaceSymbols:()=>y,setActive:()=>f});var i=s(650151),o=s(120780),n=s(125226),l=s(77117),a=s(341286),r=s(421907),d=s(658583);function u(e){var t;const s=e.id,i=e.name,{symbols:o,collapsedSeparators:n}=(0,l.localCollapseStateFromRemoteSymbols)(null!==(t=e.symbols)&&void 0!==t?t:[]);return{type:"custom",id:s,name:i,description:e.description,symbols:o,shared:e.shared,collapsedSeparators:n}}function c(e){var t,s;const o=(0,i.ensureNotNull)(e.color),{symbols:n,collapsedSeparators:a}=(0,l.localCollapseStateFromRemoteSymbols)(null!==(t=e.symbols)&&void 0!==t?t:[]);return{type:"colored",id:o,color:o,name:null!==(s=e.name)&&void 0!==s?s:null,description:e.description,symbols:n,shared:e.shared,collapsedSeparators:a}}function h(e){return"custom"===e.type?u(e):c(e)}function p(){return(0,o.fetch)("/api/v1/symbols_list/custom/").then(d.handleJSON).then((e=>e.map(u)))}function _(){return(0,o.fetch)("/api/v1/symbols_list/all/").then(d.handleJSON).then((e=>e.map(h)))}function m(e,t){return(0,o.fetch)(`/api/v1/symbols_list/custom/${e.id}/rename/`,{method:"POST",body:JSON.stringify({name:t}),headers:{"Content-Type":"application/json"}}).then(d.handleJSON)}function g(e){return(0,o.fetch)(`/api/v1/symbols_list/custom/${e.id}/`,{method:"DELETE"}).then(d.handleJSON)}async function v(e,t){if((0,n.isFeatureEnabled)("watchlist_collapsible_sections")&&a.pendingOpenSeparators.has(e.id.toString())){const t=(0,l.getLocalListSymbols)(e.id);return await y(e,t),t}return(0,
o.fetch)(`/api/v1/symbols_list/custom/${e.id}/append/`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(d.handleJSON)}async function b(e,t){if((0,n.isFeatureEnabled)("watchlist_collapsible_sections")&&a.pendingOpenSeparators.has(e.id.toString())){const t=(0,l.getLocalListSymbols)(e.id);return await y(e,t),t}return(0,o.fetch)(`/api/v1/symbols_list/custom/${e.id}/remove/`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(d.handleJSON)}async function y(e,t){const s=(0,n.isFeatureEnabled)("watchlist_collapsible_sections")?(0,l.remoteSymbolsFormLocalState)(e.id,t):t;return a.pendingOpenSeparators.delete(e.id.toString()),(0,o.fetch)(`/api/v1/symbols_list/custom/${e.id}/replace/?unsafe=true`,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(d.handleJSON)}function w(e){return(0,o.fetch)("/api/v1/symbols_list/custom/",{method:"POST",body:JSON.stringify({name:e.name,symbols:e.symbols}),headers:{"Content-Type":"application/json"}}).then(d.handleJSON).then(u)}function S(e){throw new Error("not implemented")}function f(e){return(0,o.fetch)(`/api/v1/symbols_list/active/${e}/`,{method:"POST"})}async function C(){if((0,d.isDesktopWatchlistAvailable)(window.TVD)){const e=await window.TVD.getActiveWatchlistId();if(e){const t=await _(),s=t.find((t=>t.id===e));return null!=s?s:t[0]}}return(0,o.fetch)("/api/v1/symbols_list/active/",{method:"GET"}).then(d.handleJSON).then(h)}function E(e,t){return(0,o.fetch)(`/api/v1/symbols_list/custom/${e}/update_meta/`,{method:"POST",body:JSON.stringify({description:t}),headers:{"Content-Type":"application/json"}}).then(d.handleJSON).then(h)}async function M(e,t,s){return(0,r.commonRenameSeparator)(e,"custom",t,s)}async function x(e){return(0,o.fetch)(`/api/v1/symbols_list/custom/${e}/`,{method:"GET"}).then(d.handleJSON).then(u)}},658583:(e,t,s)=>{"use strict";s.d(t,{handleJSON:()=>o,isDesktopWatchlistAvailable:()=>n});var i=s(638456);function o(e){return e.ok?204===e.status?Promise.resolve():e.json():e.json().then((e=>{const t=new Error(e.detail||"not ok");throw e.code&&(t.name=`ApiError:${e.code}`),t}))}function n(e){return Boolean((0,i.isDesktopApp)()&&e&&"getActiveWatchlistId"in e&&"onActiveWatchlistIdChange"in e)}},642709:(e,t,s)=>{"use strict";s.d(t,{DialogBreakpoints:()=>o});var i=s(488803);const o={SmallHeight:i["small-height-breakpoint"],TabletSmall:i["tablet-small-breakpoint"],TabletNormal:i["tablet-normal-breakpoint"]}},332450:(e,t,s)=>{"use strict";s.d(t,{CLOSE_POPUPS_AND_DIALOGS_COMMAND:()=>i,breakpointList:()=>o});const i="CLOSE_POPUPS_AND_DIALOGS_COMMAND",o=[1920,1440,1280,1024,768,480,0]},303616:(e,t,s)=>{"use strict";s.d(t,{SimpleDialogContext:()=>i});const i=s(50959).createContext({isSmallTablet:!1,dialogCloseHandler:()=>{}})},927582:(e,t,s)=>{"use strict";s.d(t,{SimpleDialog:()=>C})
;var i=s(50959),o=s(497754),n=s(83436),l=s(251954),a=s(500745),r=s(470316),d=s(18182),u=s(332450),c=s(642709),h=s(150881),p=s(540975),_=s(265005),m=s(650151),g=s(640027),v=s(670797),b=s(303616),y=s(30507);function w(e){const{disabled:t,name:s,title:n,appearance:l,intent:a,handler:r,reference:d,type:u}=e,{isSmallTablet:c,dialogCloseHandler:h}=(0,i.useContext)(b.SimpleDialogContext),w=(0,m.ensureNotNull)((0,i.useContext)(v.SlotContext)),S=(0,g.useIsMounted)(),[f,C]=(0,i.useState)(!1);return i.createElement(p.Button,{type:u,disabled:t,reference:d,className:o(y.actionButton,c&&y.small),name:s,size:c?"l":void 0,appearance:l,intent:a,onClick:function(){if(f)return;const e=r({dialogClose:h,innerManager:w});e&&(C(!0),e.then((()=>{S.current&&C(!1)})))}},i.createElement("span",{className:o(f&&y.hiddenTitle)},n),f&&i.createElement(_.Loader,{color:"white"}))}var S=s(507720),f=s(854936);function C(e){const{title:t,onClose:s,actions:p,dataName:_,popupDialogClassName:m,contentClassName:g,wrapperClassName:v,backdrop:y,closeOnOutsideClick:C=!0,showCloseButton:E=!0,closeOnEscapePress:M=!0,events:x=!0}=e;(0,i.useEffect)((()=>(l.subscribe(u.CLOSE_POPUPS_AND_DIALOGS_COMMAND,s,null),()=>{l.unsubscribe(u.CLOSE_POPUPS_AND_DIALOGS_COMMAND,s,null)})),[s]);const[k,L]=(0,i.useState)(!0),V=(0,i.useRef)(null);return i.createElement(d.MatchMedia,{rule:c.DialogBreakpoints.TabletSmall},(l=>i.createElement(b.SimpleDialogContext.Provider,{value:{isSmallTablet:l,dialogCloseHandler:s}},i.createElement(a.PopupDialog,{className:o(f.popupDialog,m),isOpened:k,backdrop:y,onClickBackdrop:x?T:void 0,onClickOutside:C?T:void 0,onKeyDown:D,autofocus:!0,fixedBody:!0},i.createElement("div",{className:o(f.wrap,v),"data-name":_},i.createElement("div",{className:o(f.main,!E&&f.marginWithoutCloseButton,l&&f.small)},t&&i.createElement("div",{className:o(f.title,l&&f.small)},t),function(t){if("html"in e)return i.createElement(h.TouchScrollContainer,{className:o(f.content,t&&f.small,f.html,g),dangerouslySetInnerHTML:{__html:e.html}});if("content"in e)return i.createElement(h.TouchScrollContainer,{className:o(f.content,t&&f.small,g)},e.content);return null}(l),p&&p.length>0&&i.createElement("div",{className:o(f.footer,l&&f.small)},p.map(((e,t)=>i.createElement(w,{...e,key:e.name,reference:0===t?V:void 0}))))),E&&i.createElement(n.Icon,{className:o(f.close,l&&f.small),icon:S,onClick:T,"data-name":"close","data-role":"button"}))))));function D(e){switch((0,r.hashFromEvent)(e)){case 27:k&&M&&(e.preventDefault(),s());break;case 13:const t=document.activeElement;if(e.defaultPrevented||t instanceof HTMLButtonElement&&"submit"!==t.type)return;if(k&&p&&p.length){e.preventDefault();const t=V.current;t&&t.click()}}}function T(){L(!1),s()}}},77117:(e,t,s)=>{"use strict";s.d(t,{getLocalListSymbols:()=>p,localCollapseStateFromRemoteSymbols:()=>d,remoteRenameSeparators:()=>c,remoteSymbolsFormLocalState:()=>u,separatorRemoteRepresentation:()=>h});var i=s(650151),o=s(173777),n=s(125226),l=s(564894),a=s(83871);const r=new RegExp(`^${o.SEPARATOR_PREFIX}(⁤)?(.+)$`);function d(e){
const t=[],s=[];return(0,n.isFeatureEnabled)("watchlist_collapsible_sections")?(e.forEach((e=>{const[,i,n]=e.match(r)||[];if(n){const e=`${o.SEPARATOR_PREFIX}${n}`;i&&s.push(e),t.push(e)}else t.push(e)})),{symbols:t,collapsedSeparators:s}):{symbols:e,collapsedSeparators:s}}function u(e,t){const s=m(e);return t.map((e=>(null==s?void 0:s.hasOwnProperty(e))?h(e,s[e]):e))}function c(e,t,s){const i=m(e);if(null==i?void 0:i.hasOwnProperty(s)){const e=i[s];return{oldSeparator:h(t,e),newSeparator:h(s,e)}}return{oldSeparator:t,newSeparator:s}}function h(e,t){const s=e.replace(o.SEPARATOR_PREFIX,"").replace("⁤","");return`${o.SEPARATOR_PREFIX}${t?"⁤":""}${s}`}function p(e){var t,s,o;const n=_();return(0,i.ensureDefined)((null===(s=null===(t=n.markedLists)||void 0===t?void 0:t.lists.byColor[e])||void 0===s?void 0:s.symbols)||(null===(o=n.customLists.lists.byId[e])||void 0===o?void 0:o.symbols))}function _(){return(0,l.service)(a.SYMBOL_LIST_SERVICE).store.getState()}function m(e){return _().collapsedSeparators[e]}},341286:(e,t,s)=>{"use strict";s.d(t,{pendingOpenSeparators:()=>i});const i=new Set},322654:(e,t,s)=>{"use strict";s.d(t,{DialogsOpenerManager:()=>i,dialogsOpenerManager:()=>o});class i{constructor(){this._storage=new Map}setAsOpened(e,t){this._storage.set(e,t)}setAsClosed(e){this._storage.delete(e)}isOpened(e){return this._storage.has(e)}getDialogPayload(e){return this._storage.get(e)}}const o=new i},45553:(e,t,s)=>{"use strict";s.d(t,{Autocomplete:()=>_});var i=s(444372),o=s(50959),n=s(497754),l=s(416293),a=s(514420),r=s(142135),d=s(58407),u=s(733410),c=s(636098),h=s(520817);function p(e,t){return""===e||-1!==t.toLowerCase().indexOf(e.toLowerCase())}class _ extends o.PureComponent{constructor(e){if(super(e),this._containerInputElement=null,this._raf=null,this._resize=()=>{null===this._raf&&(this._raf=requestAnimationFrame((()=>{this.setState({appearingWidth:void 0,appearingPosition:void 0,isMeasureValid:void 0}),this._raf=null})))},this._handleMeasure=()=>{if(this.state.isMeasureValid||!this.props.suggestionsInPortal||!this._containerInputElement)return;const{bottom:e,left:t,width:s}=this._containerInputElement.getBoundingClientRect();this.setState({appearingWidth:s,appearingPosition:{x:t,y:e},isMeasureValid:!0})},this._setInputRef=e=>{e&&(this._inputElement=e,this.props.setupHTMLInput&&this.props.setupHTMLInput(e),this._inputElement.addEventListener("keyup",this._handleKeyUpEnter))},this._setContainerInputRef=e=>{this._containerInputElement=e},this._handleCaretClick=()=>{this.state.isOpened?(this._close(),this.props.preventOnFocusOpen&&this._focus()):this.props.preventOnFocusOpen?this._open():this._focus()},this._handleOutsideClick=()=>{const{allowUserDefinedValues:e,value:t,onChange:s}=this.props,{queryValue:i}=this.state;e?s&&i!==t&&s(i):this.setState(this._valueToQuery(t)),this._close()},this._handleFocus=e=>{this.props.preventOnFocusOpen||this._open(),this.props.onFocus&&this.props.onFocus(e)},this._handleChange=e=>{
const{preventSearchOnEmptyQuery:t,allowUserDefinedValues:s,onChange:i,onSuggestionsOpen:o,onSuggestionsClose:n}=this.props,l=e.currentTarget.value;if(t&&""===l)this.setState({queryValue:l,isOpened:!1,active:void 0}),n&&n();else{const e=this._suggestions(l),t=Object.keys(e).length>0;this.setState({queryValue:l,isOpened:t,active:s?void 0:this._getActiveKeyByValue(l)}),t&&o&&o()}s&&i&&i(l)},this._handleItemClick=e=>{const t=e.currentTarget.id;this.setState({queryValue:m(this.props.source)[t]}),this.props.onChange&&this.props.onChange(t),this._close()},this._handleKeyDown=e=>{if(-1===[u.KeyCode.DownArrow,u.KeyCode.UpArrow,u.KeyCode.Enter,u.KeyCode.Escape].indexOf(e.which))return;const{allowUserDefinedValues:t,value:s,onChange:i,onSuggestionsOpen:o}=this.props,{active:n,isOpened:l,queryValue:a}=this.state;l&&(e.preventDefault(),e.stopPropagation());const r=this._suggestions(a);switch(e.which){case u.KeyCode.DownArrow:case u.KeyCode.UpArrow:const d=Object.keys(r);if(!l&&d.length&&e.which===u.KeyCode.DownArrow){this.setState({isOpened:!0,active:d[0]}),o&&o();break}let c;if(void 0===n){if(e.which===u.KeyCode.UpArrow){this._close();break}c=0}else c=d.indexOf(n)+(e.which===u.KeyCode.UpArrow?-1:1);c<0&&(c=0),c>d.length-1&&(c=d.length-1);const h=d[c];this.setState({active:h});const p=document.getElementById(h);p&&this._scrollIfNotVisible(p,this._suggestionsElement);break;case u.KeyCode.Escape:this._close(),l||this._blur();break;case u.KeyCode.Enter:let _=n;t&&(l&&_?this.setState(this._valueToQuery(_)):_=a),void 0!==_&&(this._close(),l||this._blur(),_!==s?i&&i(_):this.setState(this._valueToQuery(_)))}},this._setSuggestionsRef=e=>{e&&(this._suggestionsElement=e)},this._scrollIfNotVisible=(e,t)=>{const s=t.scrollTop,i=t.scrollTop+t.clientHeight,o=e.offsetTop,n=o+e.clientHeight;o<=s?e.scrollIntoView(!0):n>=i&&e.scrollIntoView(!1)},!(e=>Array.isArray(e.source)||!e.allowUserDefinedValues)(e))throw new Error("allowUserDefinedProps === true cay only be used if source is array");this.state={valueFromProps:e.value,isOpened:!1,active:e.value,queryValue:m(e.source)[e.value]||(e.allowUserDefinedValues?e.value:"")}}componentDidMount(){this.props.suggestionsInPortal&&window.addEventListener("resize",this._resize)}componentDidUpdate(){this.state.isOpened&&this._handleMeasure()}componentWillUnmount(){this._inputElement&&this._inputElement.removeEventListener("keyup",this._handleKeyUpEnter),null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null),window.removeEventListener("resize",this._resize)}render(){return o.createElement(d.OutsideEvent,{handler:this._handleOutsideClick,click:!0},(e=>o.createElement("div",{className:n(h.autocomplete,"js-dialog-skip-escape"),ref:e},o.createElement(r.InputControl,{id:this.props.id,name:this.props.name,endSlot:Object.keys(this._suggestions(this.state.queryValue)).length?o.createElement(a.EndSlot,null,o.createElement("span",{className:h.caret,onClick:this._handleCaretClick,tabIndex:-1},o.createElement(l.ToolWidgetCaret,{className:h.icon,dropped:this.state.isOpened}))):void 0,
maxLength:this.props.maxLength,reference:this._setInputRef,containerReference:this._setContainerInputRef,stretch:!0,placeholder:this.props.placeholder,value:this.state.queryValue,intent:this.props.error?"danger":void 0,onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this.props.onBlur,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,onKeyDown:this._handleKeyDown,autoComplete:"off",size:this.props.size}),this._renderSuggestions())))}static getDerivedStateFromProps(e,t){const{allowUserDefinedValues:s,value:i,source:o}=e;if(i===t.valueFromProps&&t.isOpened)return null;const n=s?i:""===i?"":m(o)[i]||t.queryValue;return{...t,valueFromProps:i,active:i,queryValue:n}}_renderSuggestions(){return this.props.suggestionsInPortal?this.state.isOpened?this._renderPortalSuggestions():null:this._renderSuggestionsItems()}_renderPortalSuggestions(){return o.createElement(c.Portal,null,this._renderSuggestionsItems())}_focus(){this._inputElement.focus()}_blur(){this._inputElement.blur()}_open(){const{onSuggestionsOpen:e}=this.props;this._focus(),this.setState({isOpened:!0,active:this.props.value}),e&&e()}_close(){const{onSuggestionsClose:e}=this.props;this.setState({isOpened:!1,active:void 0}),e&&e()}_suggestions(e){const{filter:t=p}=this.props,s=m(this.props.source),i={};return Object.keys(s).filter((i=>t(e,s[i]))).forEach((e=>i[e]=s[e])),i}_renderSuggestionsItems(){const e=this._suggestions(this.state.queryValue),t=Object.keys(e).map((t=>{const s=n(h.suggestion,this.state.active===t&&h.selected);return o.createElement("li",{id:t,key:t,className:s,onClick:this._handleItemClick},e[t])})),l=o.createElement("li",{className:h.noResults},i.t(null,void 0,s(356614)));if(!t.length&&this.props.noEmptyText)return null;const{appearingPosition:a,appearingWidth:r}=this.state;return o.createElement("ul",{className:n(h.suggestions,this.state.isOpened&&h.opened),ref:this._setSuggestionsRef,style:{left:a&&a.x,top:a&&a.y,width:r&&r}},t.length?t:l)}_handleKeyUpEnter(e){e.which===u.KeyCode.Enter&&e.stopImmediatePropagation()}_getActiveKeyByValue(e){const{filter:t=p}=this.props,s=this._suggestions(e),i=Object.keys(s);for(const o of i)if(t(e,s[o]))return o;return i[0]}_valueToQuery(e){return{queryValue:m(this.props.source)[e]||""}}}function m(e){let t={};return Array.isArray(e)?e.forEach((e=>{t[e]=e})):t=e,t}},607546:(e,t,s)=>{"use strict";s.d(t,{getLogoUrlsHook:()=>l,removeUsdFromCryptoPairLogos:()=>a,resolveLogoUrls:()=>n});var i=s(849204);const o=(0,i.getLogoUrlResolver)();function n(e,t=i.LogoSize.Medium){const s=e.logoid,n=e["base-currency-logoid"],l=e["currency-logoid"],a=s&&o.getSymbolLogoUrl(s,t);if(a)return[a];const r=n&&o.getSymbolLogoUrl(n,t),d=l&&o.getSymbolLogoUrl(l,t);return r&&d?[r,d]:r?[r]:d?[d]:[]}function l(e,t){let s=!1;return(i,o,l)=>{const r=i["currency-logoid"]&&i["base-currency-logoid"];if(!s&&(i.logoid||r||l)){s=!0;const o=a(n({logoid:i.logoid,"base-currency-logoid":i["base-currency-logoid"],"currency-logoid":i["currency-logoid"]},t));e(o)}}}function a(e){return 2!==e.length?e:function(e){
return e.some((e=>r(e)))}(e)&&!function(e){return e.some((e=>e.includes("country")&&!r(e)))}(e)?e.filter((e=>!r(e))):e}function r(e){return e.includes("country/US")}},439378:(e,t,s)=>{"use strict";s.d(t,{getBlockStyleClasses:()=>o,getLogoStyleClasses:()=>n});var i=s(497754);function o(e,t){return i("tv-circle-logo-pair",`tv-circle-logo-pair--${e}`,t)}function n(e,t){return i("tv-circle-logo-pair__logo",`tv-circle-logo-pair__logo--${e}`,!t&&"tv-circle-logo-pair__logo-empty")}},495217:(e,t,s)=>{"use strict";s.d(t,{CircleLogo:()=>l,hiddenCircleLogoClass:()=>n});var i=s(50959),o=s(783036);s(645300);const n="tv-circle-logo--visually-hidden";function l(e){var t,s;const n=(0,o.getStyleClasses)(e.size,e.className),l=null!==(s=null!==(t=e.alt)&&void 0!==t?t:e.title)&&void 0!==s?s:"";return(0,o.isCircleLogoWithUrlProps)(e)?i.createElement("img",{className:n,src:e.logoUrl,alt:l,title:e.title,loading:e.loading,"aria-label":e["aria-label"],"aria-hidden":e["aria-hidden"]}):i.createElement("span",{className:n,title:e.title,"aria-label":e["aria-label"],"aria-hidden":e["aria-hidden"]},e.placeholderLetter)}},783036:(e,t,s)=>{"use strict";s.d(t,{getStyleClasses:()=>o,isCircleLogoWithUrlProps:()=>n});var i=s(497754);function o(e,t){return i("tv-circle-logo",`tv-circle-logo--${e}`,t)}function n(e){return"logoUrl"in e&&void 0!==e.logoUrl&&0!==e.logoUrl.length}},948019:(e,t,s)=>{"use strict";s.d(t,{ContextMenuContext:()=>i});const i=s(50959).createContext(null)},488653:(e,t,s)=>{"use strict";s.d(t,{DragHandler:()=>o});var i=s(686668);class o{constructor(e,t,s={boundByScreen:!0}){this._drag=null,this._canBeTouchClick=!1,this._frame=null,this._onMouseDragStart=e=>{if(0!==e.button||this._isTargetNoDraggable(e))return;e.preventDefault(),document.addEventListener("mousemove",this._onMouseDragMove),document.addEventListener("mouseup",this._onMouseDragEnd);const t=(0,i.clampPosition)((0,i.positionFromMouseEvent)(e));this._dragStart(t)},this._onTouchDragStart=e=>{if(this._isTargetNoDraggable(e))return;this._canBeTouchClick=!0,e.preventDefault(),this._header.addEventListener("touchmove",this._onTouchDragMove,{passive:!1});const t=(0,i.clampPosition)((0,i.positionFromTouchEvent)(e));this._dragStart(t)},this._onMouseDragEnd=e=>{e.target instanceof Node&&this._header.contains(e.target)&&e.preventDefault(),document.removeEventListener("mousemove",this._onMouseDragMove),document.removeEventListener("mouseup",this._onMouseDragEnd),this._onDragStop()},this._onTouchDragEnd=e=>{this._header.removeEventListener("touchmove",this._onTouchDragMove),this._onDragStop(),this._canBeTouchClick&&(this._canBeTouchClick=!1,(0,i.simulateClick)(e.target))},this._onMouseDragMove=e=>{const t=(0,i.clampPosition)((0,i.positionFromMouseEvent)(e));this._dragMove(t)},this._onTouchDragMove=e=>{this._canBeTouchClick=!1,e.preventDefault();const t=(0,i.clampPosition)((0,i.positionFromTouchEvent)(e));this._dragMove(t)},this._onDragStop=()=>{this._drag=null,this._header.classList.remove("dragging"),this._options.onDragEnd&&this._options.onDragEnd()},this._dialog=e,this._header=t,
this._options=s,this._header.addEventListener("mousedown",this._onMouseDragStart),this._header.addEventListener("touchstart",this._onTouchDragStart),this._header.addEventListener("touchend",this._onTouchDragEnd)}destroy(){null!==this._frame&&cancelAnimationFrame(this._frame),this._header.removeEventListener("mousedown",this._onMouseDragStart),document.removeEventListener("mouseup",this._onMouseDragEnd),this._header.removeEventListener("touchstart",this._onTouchDragStart),this._header.removeEventListener("touchend",this._onTouchDragEnd),document.removeEventListener("mouseleave",this._onMouseDragEnd)}updateOptions(e){this._options=e}_dragStart(e){const t=this._dialog.getBoundingClientRect();this._drag={startX:e.x,startY:e.y,finishX:e.x,finishY:e.y,dialogX:t.left,dialogY:t.top};const s=Math.round(t.left),i=Math.round(t.top);this._dialog.style.transform=`translate(${s}px, ${i}px)`,this._header.classList.add("dragging"),this._options.onDragStart&&this._options.onDragStart()}_dragMove(e){if(this._drag){if(this._drag.finishX=e.x,this._drag.finishY=e.y,null!==this._frame)return;this._frame=requestAnimationFrame((()=>{if(this._drag){const t=e.x-this._drag.startX,s=e.y-this._drag.startY;this._moveDialog(this._drag.dialogX+t,this._drag.dialogY+s)}this._frame=null}))}}_moveDialog(e,t){const s=this._dialog.getBoundingClientRect(),{boundByScreen:o}=this._options,n=(0,i.clampSegment)(e,s.width,o?0:-1/0,o?window.innerWidth:1/0),l=(0,i.clampSegment)(t,s.height,o?0:-1/0,o?window.innerHeight:1/0);this._dialog.style.transform=`translate(${Math.round(n)}px, ${Math.round(l)}px)`}_isTargetNoDraggable(e){return e.target instanceof Element&&null!==e.target.closest("[data-disable-drag]")}}},8629:(e,t,s)=>{"use strict";s.d(t,{PopupContext:()=>i});const i=s(50959).createContext(null)},500745:(e,t,s)=>{"use strict";s.d(t,{PopupDialog:()=>w});var i=s(50959),o=s(497754),n=s(650151),l=s(600234),a=s(368337),r=s(58407),d=s(488653),u=s(686668);const c={vertical:0};class h{constructor(e,t){this._frame=null,this._isFullscreen=!1,this._handleResize=()=>{null===this._frame&&(this._frame=requestAnimationFrame((()=>{this.recalculateBounds(),this._frame=null})))},this._dialog=e,this._guard=t.guard||c,this._calculateDialogPosition=t.calculateDialogPosition,this._initialHeight=e.style.height,window.addEventListener("resize",this._handleResize)}updateOptions(e){this._guard=e.guard||c,this._calculateDialogPosition=e.calculateDialogPosition}setFullscreen(e){this._isFullscreen!==e&&(this._isFullscreen=e,this.recalculateBounds())}centerAndFit(){const{x:e,y:t}=this.getDialogsTopLeftCoordinates(),s=this._calcAvailableHeight(),i=this._calcDialogHeight();if(s===i)if(this._calculateDialogPosition){const{left:e,top:t}=this._calculateDialogPosition(this._dialog,document.documentElement,this._guard);this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`}else this._dialog.style.height=i+"px";this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.transform=`translate(${e}px, ${t}px)`}getDialogsTopLeftCoordinates(){
const{clientHeight:e,clientWidth:t}=document.documentElement,s=this._calcDialogHeight(),i=t/2-this._dialog.clientWidth/2,o=e/2-s/2;return{x:Math.round(i),y:Math.round(o)}}recalculateBounds(){var e;const{clientHeight:t,clientWidth:s}=document.documentElement,{vertical:i}=this._guard,o=null===(e=this._calculateDialogPosition)||void 0===e?void 0:e.call(this,this._dialog,{clientWidth:s,clientHeight:t},{vertical:i});if(this._isFullscreen){if(this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.width="100%",this._dialog.style.height="100%",this._dialog.style.transform="none",o){const{left:e,top:t,width:s,height:i}=o;this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`,s&&(this._dialog.style.width=`${s}px`,this._dialog.style.minWidth="unset"),i&&(this._dialog.style.height=`${i}px`,this._dialog.style.minHeight="unset")}}else if(o){const{left:e,top:t}=o;this._dialog.style.transform=`translate(${Math.round(e)}px, ${Math.round(t)}px)`}else{this._dialog.style.width="",this._dialog.style.height="";const e=this._dialog.getBoundingClientRect(),o=t-2*i,n=(0,u.clampSegment)(e.left,e.width,0,s),l=(0,u.clampSegment)(e.top,e.height,i,t);this._dialog.style.top="0px",this._dialog.style.left="0px",this._dialog.style.transform=`translate(${Math.round(n)}px, ${Math.round(l)}px)`,this._dialog.style.height=o<e.height?o+"px":this._initialHeight}}destroy(){window.removeEventListener("resize",this._handleResize),null!==this._frame&&(cancelAnimationFrame(this._frame),this._frame=null)}_calcDialogHeight(){const e=this._calcAvailableHeight();return e<this._dialog.clientHeight?e:this._dialog.clientHeight}_calcAvailableHeight(){return document.documentElement.clientHeight-2*this._guard.vertical}}var p=s(636098),_=s(8629),m=s(575658),g=s(12173),v=s(308326);const b=v["tooltip-offset"];class y extends i.PureComponent{constructor(e){super(e),this._dialog=null,this._cleanUpFunctions=[],this._prevActiveElement=null,this._handleDialogRef=e=>{const{reference:t}=this.props;this._dialog=e,"function"==typeof t&&t(e)},this._handleFocus=e=>{this._moveToTop()},this._handleMouseDown=e=>{this._moveToTop()},this._handleTouchStart=e=>{this._moveToTop()},this.state={canFitTooltip:!1}}render(){return i.createElement(_.PopupContext.Provider,{value:this},i.createElement(r.OutsideEvent,{mouseDown:!0,touchStart:!0,handler:this.props.onClickOutside},(e=>i.createElement("div",{ref:e,"data-outside-boundary-for":this.props.name,onFocus:this._handleFocus,onMouseDown:this._handleMouseDown,onTouchStart:this._handleTouchStart,"data-dialog-name":this.props["data-dialog-name"]},i.createElement(l.Dialog,{style:this._applyAnimationCSSVariables(),...this.props,reference:this._handleDialogRef,className:o(v.dialog,this.props.className)},this.props.dialogTooltip&&this.state.canFitTooltip&&i.createElement(g.TooltipWidget,{className:v.dialogTooltip},this.props.dialogTooltip),this.props.children)))))}componentDidMount(){const{draggable:e,boundByScreen:t,onDragStart:s}=this.props,i=(0,n.ensureNotNull)(this._dialog);if(e){
const e=i.querySelector("[data-dragg-area]");if(e&&e instanceof HTMLElement){const o=new d.DragHandler(i,e,{boundByScreen:Boolean(t),onDragStart:s});this._cleanUpFunctions.push((()=>o.destroy())),this._drag=o}}this._prevActiveElement=document.activeElement,this.props.autofocus&&!i.contains(document.activeElement)&&i.focus(),(this._isFullScreen()||this.props.fixedBody)&&(0,m.setFixedBodyState)(!0);const{guard:o,calculateDialogPosition:l}=this.props;if(this.props.resizeHandler)this._resize=this.props.resizeHandler;else{const e=new h(i,{guard:o,calculateDialogPosition:l});this._cleanUpFunctions.push((()=>e.destroy())),this._resize=e}if(this.props.isAnimationEnabled&&this.props.growPoint&&this._applyAppearanceAnimation(this.props.growPoint),this.props.centeredOnMount&&this._resize.centerAndFit(),this._resize.setFullscreen(this._isFullScreen()),this.props.dialogTooltip&&this._handleTooltipFit(),this.props.shouldForceFocus){if(this.props.onForceFocus)return void this.props.onForceFocus(i);i.focus()}}componentDidUpdate(){if(this._resize){const{guard:e,calculateDialogPosition:t}=this.props;this._resize.updateOptions({guard:e,calculateDialogPosition:t}),this._resize.setFullscreen(this._isFullScreen())}this._drag&&this._drag.updateOptions({boundByScreen:Boolean(this.props.boundByScreen),onDragStart:this.props.onDragStart})}componentWillUnmount(){var e;if(this.props.shouldReturnFocus&&this._prevActiveElement&&document.body.contains(this._prevActiveElement)&&(null===document.activeElement||document.activeElement===document.body||(null===(e=this._dialog)||void 0===e?void 0:e.contains(document.activeElement))))try{this._prevActiveElement.focus({preventScroll:!0})}catch(e){}for(const e of this._cleanUpFunctions)e();(this._isFullScreen()||this.props.fixedBody)&&(0,m.setFixedBodyState)(!1)}focus(){this._dialog&&this._dialog.focus()}centerAndFit(){this._resize&&this._resize.centerAndFit()}recalculateBounds(){this._resize&&this._resize.recalculateBounds()}_moveToTop(){null!==this.context&&this.context.moveToTop()}_applyAnimationCSSVariables(){return{"--animationTranslateStartX":null,"--animationTranslateStartY":null,"--animationTranslateEndX":null,"--animationTranslateEndY":null}}_applyAppearanceAnimation(e){if(this._resize&&this._dialog){const{x:t,y:s}=e,{x:i,y:o}=this._resize.getDialogsTopLeftCoordinates();this._dialog.style.setProperty("--animationTranslateStartX",`${t}px`),this._dialog.style.setProperty("--animationTranslateStartY",`${s}px`),this._dialog.style.setProperty("--animationTranslateEndX",`${i}px`),this._dialog.style.setProperty("--animationTranslateEndY",`${o}px`),this._dialog.classList.add(v.dialogAnimatedAppearance)}}_handleTooltipFit(){if(this._resize){const e=this._resize.getDialogsTopLeftCoordinates().y-parseInt(b)>=0;this.setState({canFitTooltip:e})}}_isFullScreen(){return Boolean(this.props.fullscreen)}}y.contextType=p.PortalContext,y.defaultProps={boundByScreen:!0,draggable:!0,centeredOnMount:!0,shouldReturnFocus:!0};const w=(0,a.makeOverlapable)(y)},686668:(e,t,s)=>{"use strict";s.d(t,{clampPosition:()=>n,
clampSegment:()=>o,positionFromMouseEvent:()=>a,positionFromTouchEvent:()=>r,simulateClick:()=>l});var i=s(678515);function o(e,t,s,i){return e+t>i&&(e=i-t),e<s&&(e=s),e}function n(e){return{x:(0,i.clamp)(e.x,20,document.documentElement.clientWidth-20),y:(0,i.clamp)(e.y,20,window.innerHeight-20)}}function l(e){if(e instanceof SVGElement){const t=document.createEvent("SVGEvents");t.initEvent("click",!0,!0),e.dispatchEvent(t)}e instanceof HTMLElement&&e.click()}function a(e){return{x:e.clientX,y:e.clientY}}function r(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}}},582997:(e,t,s)=>{"use strict";s.d(t,{Hint:()=>a});var i=s(50959),o=s(497754),n=s.n(o),l=s(522436);function a(e){const{text:t="",className:s}=e;return i.createElement("span",{className:n()(l.shortcut,s)},t)}},886004:(e,t,s)=>{"use strict";s.d(t,{ContextMenuItem:()=>_});var i=s(50959),o=s(497754),n=s.n(o),l=s(83436),a=s(265005),r=s(302478),d=s(582997),u=s(339750),c=s(379978),h=s(69311),p=s(829122);function _(e){const{className:t,isTitle:s,isLoading:o,isHovered:_,active:m,checkable:g,disabled:v,checked:b,icon:y,iconChecked:w,hint:S,subItems:f,label:C,styledLabel:E,onClick:M,children:x,toolbox:k,jsxLabel:L,size:V="normal"}=e,D=(0,i.useContext)(r.EmptyIconsContext),T=!!f.length;return o?i.createElement("li",{className:n()(t,p.item,p.loading,p[V])},i.createElement(a.Loader,null)):i.createElement("li",{className:n()(t,p.item,p.interactive,s&&p.title,v&&p.disabled,_&&p.hovered,m&&p.active,D&&p.emptyIcons,p[V]),onClick:M},i.createElement(l.Icon,{className:n()(p.icon),icon:function(){if(g&&b)return w||y||u;return y}()}),i.createElement("span",{className:n()(p.label)},!L&&E?E.map((({text:e,...t},s)=>i.createElement("span",{key:s,style:t},e))):null!=L?L:C),!!k&&i.createElement(l.Icon,{onClick:function(){k&&k.action()},className:p.remove,icon:h}),!T&&S&&i.createElement(d.Hint,{className:p.shortcut,text:S}),T&&i.createElement(l.Icon,{className:p.nested,icon:c}),x)}},67812:(e,t,s)=>{"use strict";s.d(t,{ContextMenuList:()=>_});var i=s(50959),o=s(333927);function n(e){return i.createElement("li",{className:o.separator})}var l=s(886004),a=s(125226),r=s(762852),d=s(224743);const u=(0,a.isFeatureEnabled)("force_disable_jsx_menu_items_rendering");function c(e){var t;const s=u?e.action:null!==(t=e.action.custom())&&void 0!==t?t:e.action,[o,n]=(0,i.useState)((()=>s.getState())),[a,c]=(0,i.useState)(!1),h=!!o.subItems.length,p=h&&a;return(0,i.useEffect)((()=>{const e=()=>n(s.getState());return s.onUpdate().subscribe(null,e),()=>{s.onUpdate().unsubscribe(null,e)}}),[]),i.createElement(l.ContextMenuItem,{...o,onClick:function(e){if(o.disabled||e.defaultPrevented)return;if(h)return void c(!0);o.doNotCloseOnClick||(0,d.globalCloseMenu)();s.execute()},isLoading:o.loading,isHovered:p},p&&i.createElement(r.Drawer,{onClose:m},i.createElement(_,{items:o.subItems,parentAction:s,closeNested:m})));function m(e){e&&e.preventDefault(),c(!1)}}var h=s(302478),p=s(366493);function _(e){
const{items:t,parentAction:s,closeNested:o}=e,a=!Boolean(s)&&t.every((e=>!Boolean("separator"!==e.type&&(e.getState().icon||e.getState().checkable))));return i.createElement(h.EmptyIconsContext.Provider,{value:a},i.createElement("ul",null,s&&i.createElement(i.Fragment,null,i.createElement(l.ContextMenuItem,{label:s.getState().label,isTitle:!0,active:!1,disabled:!1,subItems:[],checkable:!1,checked:!1,doNotCloseOnClick:!1,icon:p,onClick:o}),i.createElement(n,null)),t.map((e=>{switch(e.type){case"action":return i.createElement(c,{key:e.id,action:e});case"separator":return i.createElement(n,{key:e.id})}}))))}},302478:(e,t,s)=>{"use strict";s.d(t,{EmptyIconsContext:()=>i});const i=s(50959).createContext(!1)},332585:(e,t,s)=>{"use strict";s.d(t,{DrawerContext:()=>l,DrawerManager:()=>n});var i=s(50959),o=s(575658);class n extends i.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,o.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,o.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,o.setFixedBodyState)(!1)}render(){return i.createElement(l.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const l=i.createContext(null)},762852:(e,t,s)=>{"use strict";s.d(t,{Drawer:()=>h});var i=s(50959),o=s(650151),n=s(497754),l=s(541558),a=s(636098),r=s(332585),d=s(320116),u=s(150881),c=s(966076);function h(e){const{position:t="Bottom",onClose:s,children:u,className:h,theme:_=c}=e,m=(0,o.ensureNotNull)((0,i.useContext)(r.DrawerContext)),[g]=(0,i.useState)((()=>(0,l.randomHash)())),v=(0,i.useRef)(null),b=(0,i.useContext)(d.CloseDelegateContext);return(0,i.useLayoutEffect)((()=>((0,o.ensureNotNull)(v.current).focus({preventScroll:!0}),b.subscribe(m,s),m.addDrawer(g),()=>{m.removeDrawer(g),b.unsubscribe(m,s)})),[]),i.createElement(a.Portal,null,i.createElement("div",{className:n(c.wrap,c[`position${t}`])},g===m.currentDrawer&&i.createElement("div",{className:c.backdrop,onClick:s}),i.createElement(p,{className:n(_.drawer,c[`position${t}`],h),ref:v,"data-name":e["data-name"]},u)))}const p=(0,i.forwardRef)(((e,t)=>{const{className:s,...o}=e;return i.createElement(u.TouchScrollContainer,{className:n(c.drawer,s),tabIndex:-1,ref:t,...o})}))},631078:(e,t,s)=>{"use strict";s.d(t,{useWatchedValueReadonly:()=>o});var i=s(50959);const o=(e,t=!1)=>{const s="watchedValue"in e?e.watchedValue:void 0,o="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[n,l]=(0,i.useState)(s?s.value():o);return(t?i.useLayoutEffect:i.useEffect)((()=>{if(s){l(s.value());const e=e=>l(e);return s.subscribe(e),()=>s.unsubscribe(e)}return()=>{}}),[s]),n}},733410:(e,t,s)=>{
"use strict";s.d(t,{KeyCode:()=>i,KeyboardListener:()=>n,makeKeyboardListener:()=>l});var i,o=s(50959);!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(i||(i={}));class n{constructor(){this._handlers=new Map}registerHandlers(e){Object.keys(e).forEach((t=>{const s=parseInt(t);let i=e[s];if(Array.isArray(i)||(i=[i]),this._handlers.has(s)){const e=this._handlers.get(s);e&&i.forEach((t=>e.add(t)))}else this._handlers.set(s,new Set(i))}))}unregisterHandlers(e){Object.keys(e).forEach((t=>{const s=parseInt(t);let i=e[s];if(Array.isArray(i)||(i=[i]),this._handlers.has(s)){const e=this._handlers.get(s);e&&i.forEach((t=>e.delete(t)))}}))}deleteAllHandlers(){this._handlers=new Map}registerHandler(e,t){if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.add(t)}else this._handlers.set(e,new Set([t]))}unregisterHandler(e,t){if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.delete(t)}}listen(e){if(this._handlers.has(e.keyCode)){const t=this._handlers.get(e.keyCode);t&&t.forEach((t=>t(e)))}}}function l(e){var t,s,i;return(i=class extends o.PureComponent{constructor(e){super(e),this._keyboardListener=new n,this._listener=this._keyboardListener.listen.bind(this._keyboardListener)}componentDidMount(){this._registerHandlers(this.props.keyboardEventHandlers)}componentDidUpdate(e){e.keyboardEventHandlers!==this.props.keyboardEventHandlers&&this._registerHandlers(this.props.keyboardEventHandlers)}render(){const{keyboardEventHandlers:t,...s}=this.props;return o.createElement(e,{...s,onKeyDown:this._listener})}_registerHandlers(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))}}).displayName=`KeyboardListener(${null!==(s=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==s?s:"Component"})`,i}},18182:(e,t,s)=>{"use strict";s.d(t,{MatchMedia:()=>o});var i=s(50959);class o extends i.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addListener(this._handleChange)}_unsubscribe(e){e.removeListener(this._handleChange)}}},368337:(e,t,s)=>{"use strict";s.d(t,{makeOverlapable:()=>n});var i=s(50959),o=s(636098);function n(e){return class extends i.PureComponent{render(){const{isOpened:t,root:s}=this.props;if(!t)return null;const n=i.createElement(e,{...this.props,zIndex:150});return"parent"===s?n:i.createElement(o.Portal,null,n)}}}},320116:(e,t,s)=>{"use strict";s.d(t,{CloseDelegateContext:()=>n})
;var i=s(50959),o=s(224743);const n=i.createContext(o.globalCloseDelegate)},636098:(e,t,s)=>{"use strict";s.d(t,{Portal:()=>r,PortalContext:()=>d});var i=s(50959),o=s(500962),n=s(925931),l=s(351290),a=s(692822);class r extends i.PureComponent{constructor(){super(...arguments),this._uuid=(0,n.nanoid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",this.props.className&&e.classList.add(this.props.className),this.props["aria-hidden"]&&e.setAttribute("aria-hidden","true"),o.createPortal(i.createElement(d.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,l.getRootOverlapManager)():this.context}}r.contextType=a.SlotContext;const d=i.createContext(null)},670797:(e,t,s)=>{"use strict";s.d(t,{Slot:()=>i.Slot,SlotContext:()=>i.SlotContext});var i=s(692822)},416293:(e,t,s)=>{"use strict";s.d(t,{ToolWidgetCaret:()=>r});var i=s(50959),o=s(497754),n=s(83436),l=s(934587),a=s(100578);function r(e){const{dropped:t,className:s}=e;return i.createElement(n.Icon,{className:o(s,l.icon,{[l.dropped]:t}),icon:a})}},12173:(e,t,s)=>{"use strict";s.d(t,{TooltipWidget:()=>u,TooltipWizard:()=>d});var i=s(50959),o=s(497754),n=s(83436),l=s(636098),a=s(333765),r=s(496302);class d extends i.PureComponent{render(){const{children:e,popperChildrenProps:t,onClose:s,reference:n,containerClassName:a,arrowClassName:d}=this.props;return i.createElement(l.Portal,null,i.createElement("div",{ref:n},i.createElement(u,{reference:t.ref,style:t.style,arrowClassName:o(r.arrowHolder,this._getArrowDirectionClass(),d),arrowReference:t.arrowProps.ref,arrowStyle:t.arrowProps.style,"data-placement":t.placement,onClose:s,containerClassName:a},e)))}_getArrowDirectionClass(){const{popperChildrenProps:e}=this.props;switch(e.placement){case"left":case"left-start":return o(r["arrowHolder--after"],r["arrowHolder--after-ltr-fix"]);case"top":return o(r["arrowHolder--above"],r["arrowHolder--above-fix"]);case"bottom":case"bottom-start":case"bottom-end":return r["arrowHolder--below"];default:return o(r["arrowHolder--before"],r["arrowHolder--before-rtl-fix"])}}}function u(e){const{className:t,containerClassName:s,contentClassName:l,reference:d,style:u,arrow:c=!0,arrowClassName:h,arrowReference:p,onClose:_,arrowStyle:m,children:g,...v}=e;return i.createElement("div",{...v,className:t,ref:d,style:u},c&&i.createElement("div",{className:h,ref:p,style:m}),i.createElement("div",{className:o(r.container,s)},i.createElement("div",{className:o(r.content,l)},g),_&&i.createElement(n.Icon,{className:r.closeButton,icon:a,onClick:_})))}},150881:(e,t,s)=>{"use strict";s.d(t,{TouchScrollContainer:()=>a});var i=s(50959),o=s(259142),n=s(650151),l=s(638456);const a=(0,i.forwardRef)(((e,t)=>{const{children:s,...n}=e,a=(0,
i.useRef)(null);return(0,i.useImperativeHandle)(t,(()=>a.current)),(0,i.useLayoutEffect)((()=>{if(l.CheckMobile.iOS())return null!==a.current&&(0,o.disableBodyScroll)(a.current,{allowTouchMove:r(a)}),()=>{null!==a.current&&(0,o.enableBodyScroll)(a.current)}}),[]),i.createElement("div",{ref:a,...n},s)}));function r(e){return t=>{const s=(0,n.ensureNotNull)(e.current),i=document.activeElement;return!s.contains(t)||null!==i&&s.contains(i)&&i.contains(t)}}},323709:e=>{e.exports={}},283314:e=>{e.exports={wrapper:"wrapper-hPiAkrn3",timezone:"timezone-hPiAkrn3",largePadding:"largePadding-hPiAkrn3",sessionDayWrapper:"sessionDayWrapper-hPiAkrn3",nowWrapper:"nowWrapper-hPiAkrn3",now:"now-hPiAkrn3",sessionDay:"sessionDay-hPiAkrn3",weekDay:"weekDay-hPiAkrn3",sessionDaySegments:"sessionDaySegments-hPiAkrn3",timeMarkWrapper:"timeMarkWrapper-hPiAkrn3",timeMarkSegment:"timeMarkSegment-hPiAkrn3",timeMark:"timeMark-hPiAkrn3",timeMarkSegmentAlignByEnds:"timeMarkSegmentAlignByEnds-hPiAkrn3",segment:"segment-hPiAkrn3",small:"small-hPiAkrn3",start:"start-hPiAkrn3",end:"end-hPiAkrn3",active:"active-hPiAkrn3",green:"green-hPiAkrn3",orange:"orange-hPiAkrn3",blue:"blue-hPiAkrn3",gray:"gray-hPiAkrn3",tooltip:"tooltip-hPiAkrn3",time:"time-hPiAkrn3"}},686303:e=>{e.exports={legendActionButton:"legendActionButton-ZR5j_8g1"}},377539:e=>{e.exports={marginlegendhoriz:"4px",legend:"legend-l31H9iuA",item:"item-l31H9iuA",withAction:"withAction-l31H9iuA",selected:"selected-l31H9iuA",last:"last-l31H9iuA",text:"text-l31H9iuA",noWrapWrapper:"noWrapWrapper-l31H9iuA",noWrap:"noWrap-l31H9iuA",series:"series-l31H9iuA",valuesAdditionalWrapper:"valuesAdditionalWrapper-l31H9iuA",valueItem:"valueItem-l31H9iuA",valueTitle:"valueTitle-l31H9iuA",valueValue:"valueValue-l31H9iuA",hideUniportantValueItems:"hideUniportantValueItems-l31H9iuA",unimportant:"unimportant-l31H9iuA",valuesWrapper:"valuesWrapper-l31H9iuA",wrappable:"wrappable-l31H9iuA",directionColumn:"directionColumn-l31H9iuA",titlesWrapper:"titlesWrapper-l31H9iuA",button:"button-l31H9iuA",statusesWrapper:"statusesWrapper-l31H9iuA",logoWrapper:"logoWrapper-l31H9iuA",buttonsWrapper:"buttonsWrapper-l31H9iuA",buttons:"buttons-l31H9iuA",statusesWrapper__statuses:"statusesWrapper__statuses-l31H9iuA",pairContainer:"pairContainer-l31H9iuA",logo:"logo-l31H9iuA",hidden:"hidden-l31H9iuA",noActions:"noActions-l31H9iuA",titleWrapper:"titleWrapper-l31H9iuA",title:"title-l31H9iuA",intervalTitle:"intervalTitle-l31H9iuA",withDot:"withDot-l31H9iuA",disabled:"disabled-l31H9iuA",disabledOnInterval:"disabledOnInterval-l31H9iuA",withCustomTextColor:"withCustomTextColor-l31H9iuA",study:"study-l31H9iuA",mainTitle:"mainTitle-l31H9iuA",descTitle:"descTitle-l31H9iuA",hideValues:"hideValues-l31H9iuA",has5Buttons:"has5Buttons-l31H9iuA",stayInHoveredMode:"stayInHoveredMode-l31H9iuA",withTail:"withTail-l31H9iuA",loader:"loader-l31H9iuA",providerTitle:"providerTitle-l31H9iuA",exchangeTitle:"exchangeTitle-l31H9iuA",styleTitle:"styleTitle-l31H9iuA",priceSourceTitle:"priceSourceTitle-l31H9iuA",
minHideIntervalTitle:"minHideIntervalTitle-l31H9iuA",microHideIntervalTitle:"microHideIntervalTitle-l31H9iuA",hideExchangeProviderTitles:"hideExchangeProviderTitles-l31H9iuA",flagged:"flagged-l31H9iuA",medium:"medium-l31H9iuA",minimized:"minimized-l31H9iuA",micro:"micro-l31H9iuA",linked:"linked-l31H9iuA",onlyOneButtonCanBeStick:"onlyOneButtonCanBeStick-l31H9iuA",touchMode:"touchMode-l31H9iuA",buttonIcon:"buttonIcon-l31H9iuA",flag:"flag-l31H9iuA",invisibleHover:"invisibleHover-l31H9iuA",eye:"eye-l31H9iuA",eyeLoading:"eyeLoading-l31H9iuA","eye-animation":"eye-animation-l31H9iuA",linking:"linking-l31H9iuA",intervalEye:"intervalEye-l31H9iuA",markerContainer:"markerContainer-l31H9iuA",flagWrapper:"flagWrapper-l31H9iuA",sourcesWrapper:"sourcesWrapper-l31H9iuA",legendMainSourceWrapper:"legendMainSourceWrapper-l31H9iuA",sources:"sources-l31H9iuA",toggler:"toggler-l31H9iuA pane-button-e6PF69Df",onlyOneSourceShown:"onlyOneSourceShown-l31H9iuA",counter:"counter-l31H9iuA",iconArrow:"iconArrow-l31H9iuA",objectTree:"objectTree-l31H9iuA",closed:"closed-l31H9iuA",objectsTreeCanBeShown:"objectsTreeCanBeShown-l31H9iuA"}},694815:e=>{e.exports={"css-value-pane-controls-padding-left":"1px","css-value-pane-controls-padding-right":"4px",css_value_pane_controls_margin_top:"4",css_value_pane_controls_button_size:"22",css_value_pane_controls_button_touch_size:"22",paneControls:"paneControls-JQv8nO8e",hidden:"hidden-JQv8nO8e",forceHidden:"forceHidden-JQv8nO8e",button:"button-JQv8nO8e pane-button-e6PF69Df",buttonIcon:"buttonIcon-JQv8nO8e",minimize:"minimize-JQv8nO8e",restore:"restore-JQv8nO8e",newButton:"newButton-JQv8nO8e",touchMode:"touchMode-JQv8nO8e",maximize:"maximize-JQv8nO8e",collapse:"collapse-JQv8nO8e","maximize-animation-up-bracket":"maximize-animation-up-bracket-JQv8nO8e","maximize-animation-down-bracket":"maximize-animation-down-bracket-JQv8nO8e","minimize-animation-up-bracket":"minimize-animation-up-bracket-JQv8nO8e","minimize-animation-down-bracket":"minimize-animation-down-bracket-JQv8nO8e",up:"up-JQv8nO8e","up-animation":"up-animation-JQv8nO8e",down:"down-JQv8nO8e","down-animation":"down-animation-JQv8nO8e",buttonsWrapper:"buttonsWrapper-JQv8nO8e"}},707488:e=>{e.exports={blockHidden:"blockHidden-e6PF69Df","pane-button":"pane-button-e6PF69Df"}},464630:e=>{e.exports={halalStatus:"halalStatus-GdQ2KW8H"}},552793:(e,t,s)=>{"use strict";s.d(t,{getImage:()=>n});const i=new Map;function o(e){e.crossOrigin="anonymous"}function n(e,t,s=o){let n=i.get(e);return void 0===n&&(n=new Promise(((e,i)=>{const o=new Image;o.onload=()=>{e(o),o.onload=null,o.onerror=null},o.onerror=()=>{i(),o.onload=null,o.onerror=null},s(o),o.src=t})),i.set(e,n)),n}},897195:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ControlBarNavigation:()=>X});var i=s(650151),o=s(444372),n=s(778785),l=s(77122),a=s(535503),r=s(31341),d=s(571690),u=s(604286),c=s(638456),h=s(470316),p=s(345848),_=s(850775),m=s(23317),g=s(689612),v=s(577576),b=s(593724),y=s(691986),w=s(776996),S=s(678529),f=s(50119),C=s(362884),E=s(250662),M=s(542205);s(323709);const x=(0,
h.humanReadableModifiers)(h.Modifiers.Alt,!1),k=(0,h.humanReadableModifiers)(h.Modifiers.Shift,!1),L=(0,h.humanReadableModifiers)(h.Modifiers.Mod,!1),V=(0,u.hotKeySerialize)({keys:[x,"R"],text:"{0} + {1}"}),D=(0,u.hotKeySerialize)({keys:[x,"Click",x,"Enter"],text:"{0} + {1}, {2} + {3}"}),T=(0,u.hotKeySerialize)({keys:[f],text:"{0}"}),A=(0,u.hotKeySerialize)({keys:[C],text:"{0}"}),W=(0,u.hotKeySerialize)({keys:[L,E],text:"{0} + {1}"}),P=(0,u.hotKeySerialize)({keys:[L,M],text:"{0} + {1}"}),H=(0,u.hotKeySerialize)({keys:[x,k,C],text:"{0} + {1} + {2}"}),B=o.t(null,void 0,s(247602)),N=o.t(null,void 0,s(461311)),I=o.t(null,void 0,s(256470)),R=o.t(null,void 0,s(48293)),O=o.t(null,void 0,s(540653)),z=o.t(null,void 0,s(135809)),F=o.t(null,void 0,s(834301)),U=o.t(null,void 0,s(426721)),G=`<div class="control-bar-wrapper">\n\t<div class="control-bar control-bar--hidden">\n\t\t<div class="control-bar__group js-btn-group js-btn-group-zoom">\n\t\t\t<div class="control-bar__btn control-bar__btn--zoom-out apply-common-tooltip" title="${B}" data-tooltip-hotkey="${P}">\n\t\t\t\t${m}\n\t\t\t</div>\n\t\t\t<div class="control-bar__btn control-bar__btn--zoom-in apply-common-tooltip" title="${N}" data-tooltip-hotkey="${W}">\n\t\t\t\t${v}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-bar__group js-btn-group js-btn-group-maximize">\n\t\t\t<div class="control-bar__btn control-bar__btn--maximize apply-common-tooltip" title="${I}" data-tooltip-hotkey="${D}">\n\t\t\t\t${y}\n\t\t\t</div>\n\t\t\t<div class="control-bar__btn control-bar__btn--minimize js-hidden apply-common-tooltip" title="${R}" data-tooltip-hotkey="${D}">\n\t\t\t\t${w}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-bar__group js-btn-group js-btn-group-scroll">\n\t\t\t<div class="control-bar__btn control-bar__btn--move-left apply-common-tooltip" title="${O}" data-tooltip-hotkey="${T}">\n\t\t\t\t${g}\n\t\t\t</div>\n\t\t\t<div class="control-bar__btn control-bar__btn--move-right apply-common-tooltip" title="${z}" data-tooltip-hotkey="${A}">\n\t\t\t\t${g}\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-bar__group js-btn-group js-btn-group-reset-scale">\n\t\t\t<div class="control-bar__btn control-bar__btn--turn-button control-bar__btn--btn-hidden apply-common-tooltip js-btn-reset" title="${F}" data-tooltip-hotkey="${V}">\n\t\t\t\t${b}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>`,j=`<div class="control-bar-wrapper control-bar-wrapper--back-present">\n\t<div class="control-bar control-bar__btn control-bar__btn--btn-hidden apply-common-tooltip" title="${U}" data-tooltip-hotkey="${H}">\n\t\t${S}\n\t</div>\n</div>`,Z=c.CheckMobile.any(),$="control-bar__btn--btn-hidden",q={zoomInOut:!0,maximize:!0,scrollLeftRight:!0,resetScale:!0,goToRealtime:!0};class X{constructor(e,t,s){this._widget=(0,i.ensureNotNull)((0,d.parseHtml)(G).querySelector(".control-bar-wrapper")),this._controlBar=(0,i.ensureNotNull)(this._widget.querySelector(".control-bar")),this._back=(0,i.ensureNotNull)((0,d.parseHtml)(j).querySelector(".control-bar-wrapper")),
this._btnGroups=Array.from(this._controlBar.querySelectorAll(".js-btn-group")),this._targetPaneWidget=null,this._backButtonVisible=!1,this._boundMouseHandler=null,this._chartModel=null,this._checkIntervalId=0,this._controlBarVisible=!1,this._priceAxisChanged=null,this._resetScalesAvailable=null,this._priceAxisName="right",this._rafId=0,this._visibilityTypeProperty=null,this._boundUpdateMaximizeButtonsVisibility=this._updateMaximizeButtonsVisibility.bind(this),this._boundToggleFullscreenButtons=this._toggleFullscreenButtons.bind(this),this._paneWidth=0,this._leftPriceScaleWidth=0,this._rightPriceScaleWidth=0,this._chart=e,this._parent=t,this._options=Object.assign({},q,s),this._visibilityPrioritizedGroups=this._initGroupDescriptions(),this._init(),this._initHandlers(),this.updatePosition()}destroy(){var e;null!==this._visibilityTypeProperty&&(this._visibilityTypeProperty.unsubscribe(this,this._onVisibilityTypeChange),this._visibilityTypeProperty=null),null!==this._boundMouseHandler&&(this._parent.removeEventListener("mousemove",this._boundMouseHandler,!1),this._parent.removeEventListener("mouseleave",this._boundMouseHandler,!1),this._boundMouseHandler=null),null!==this._priceAxisChanged&&(this._priceAxisChanged.unsubscribe(this,this._updateBackBtnPosition),this._priceAxisChanged=null),clearInterval(this._checkIntervalId),null===(e=this._resetScalesAvailable)||void 0===e||e.destroy();const t=this._chart.getResizerDetacher();t.fullscreenable.unsubscribe(this._boundUpdateMaximizeButtonsVisibility),t.fullscreen.unsubscribe(this._boundToggleFullscreenButtons),this._chart=null}updatePosition(){const e=this._targetPaneWidget=this._getTargetPaneWidget();if(null===e)return;const t=e.getElement().querySelector(".chart-markup-table .pane");if(null===t)return;this._paneWidth=e.width(),this._leftPriceScaleWidth=this._chart.getPriceAxisMaxWidthByName("left"),this._rightPriceScaleWidth=this._chart.getPriceAxisMaxWidthByName("right");const s=this._parent.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+this._bottomMargin(e);this._widget.style.bottom=`${s}px`,this._back.style.bottom=`${s}px`,this._updateBtnGroupVisibility()}_getTargetPaneWidget(){const e=this._chart.maximizedPaneWidget();if(e)return e;const t=[...this._chart.paneWidgets()].reverse();for(const e of t)if(e.height()>=this._widget.clientHeight+28+this._bottomMargin(e))return e;return null}_bottomMargin(e){return e.containsMainSeries()?27:0}_init(){if(c.CheckMobile.any())for(const e of this._btnGroups)e.classList.add("js-hidden");this._buttons={zoomIn:this._widget.querySelector(".control-bar__btn--zoom-in"),zoomOut:this._widget.querySelector(".control-bar__btn--zoom-out"),moveLeft:this._widget.querySelector(".control-bar__btn--move-left"),moveRight:this._widget.querySelector(".control-bar__btn--move-right"),turn:this._widget.querySelector(".control-bar__btn--turn-button"),maximize:this._widget.querySelector(".control-bar__btn--maximize"),minimize:this._widget.querySelector(".control-bar__btn--minimize")},this._initVisibility(),
this._parent.appendChild(this._widget),this._parent.appendChild(this._back),this._backButtonVisible=!1,this._priceAxisName=(0,r.isRtl)()?"left":"right",this._chart.withModel(this,(()=>{var e;this._chartModel=this._chart.model(),this._priceAxisChanged=this._chart.getPriceAxisWidthChangedByName(this._priceAxisName),this._priceAxisChanged.subscribe(this,this._updateBackBtnPosition),this._resetScalesAvailable=this._chartModel.model().resetScalesAvailable().spawn(),this._resetScalesAvailable.subscribe(this._updateResetScalesButtonVisibility.bind(this),{callWithLast:!0});const t=this._chart.getResizerDetacher();t.fullscreenable.subscribe(this._boundUpdateMaximizeButtonsVisibility),t.fullscreen.subscribe(this._boundToggleFullscreenButtons),this._updateMaximizeButtonsVisibility(),this._updateBackBtnPosition(),null===(e=this._back.querySelector(".control-bar__btn"))||void 0===e||e.addEventListener("click",(()=>{null!==this._chartModel&&this._chartModel.timeScale().scrollToRealtime(!0)})),this._checkIntervalId=setInterval((()=>this._check()),1e3)}))}_initHandlers(){const e=n.mobiletouch?"touchstart":"mousedown",t=n.mobiletouch?["touchend"]:["mouseup","mouseout"];this._buttons.moveLeft.addEventListener(e,(e=>{e.preventDefault(),this._chart.scrollHelper().moveByBar(1),this._trackEvent("Move Left")})),this._buttons.moveRight.addEventListener(e,(e=>{e.preventDefault(),this._chart.scrollHelper().moveByBar(-1),this._trackEvent("Move Right")}));for(const e of t)this._buttons.moveLeft.addEventListener(e,(()=>this._chart.scrollHelper().stopMove())),this._buttons.moveRight.addEventListener(e,(()=>this._chart.scrollHelper().stopMove()));this._buttons.turn.addEventListener("click",(e=>{e.preventDefault(),this._chart.GUIResetScales(),this._trackEvent("Reset to Default Settings")})),this._buttons.zoomOut.addEventListener("click",(e=>{e.preventDefault(),null!==this._chartModel&&this._chartModel.zoomOut(),this._trackEvent("Zoom Out")})),this._buttons.zoomIn.addEventListener("click",(e=>{e.preventDefault(),null!==this._chartModel&&this._chartModel.zoomIn(),this._trackEvent("Zoom In")})),this._buttons.maximize.addEventListener("click",(e=>{e.preventDefault(),this._chart.setActive(!0),this._chart.getResizerDetacher().requestFullscreen(),this._trackEvent(" Maximize Chart")})),this._buttons.minimize.addEventListener("click",(e=>{e.preventDefault(),this._chart.getResizerDetacher().exitFullscreen(),this._trackEvent(" Restore Chart")}));const s=e=>e.addEventListener("contextmenu",(e=>e.preventDefault()));s(this._buttons.moveLeft),s(this._buttons.moveRight),s(this._buttons.turn),s(this._buttons.zoomOut),s(this._buttons.zoomIn),s(this._buttons.minimize),s(this._buttons.maximize)}_initGroupDescriptions(){return[{shouldBeHiddenOnMobile:!1,available:this._isMaximizeButtonAvailable.bind(this),className:"js-btn-group-maximize",element:this._getBtnGroup("js-btn-group-maximize"),totalWidth:50},{shouldBeHiddenOnMobile:!1,available:()=>this._options.resetScale,className:"js-btn-group-reset-scale",element:this._getBtnGroup("js-btn-group-reset-scale"),
totalWidth:50},{shouldBeHiddenOnMobile:!l.enabled("show_zoom_and_move_buttons_on_touch"),available:()=>this._options.zoomInOut,className:"js-btn-group-zoom",element:this._getBtnGroup("js-btn-group-zoom"),totalWidth:86},{shouldBeHiddenOnMobile:!l.enabled("show_zoom_and_move_buttons_on_touch"),available:()=>this._options.scrollLeftRight,className:"js-btn-group-scroll",element:this._getBtnGroup("js-btn-group-scroll"),totalWidth:86}]}_check(){var e;if(null===this._chartModel||!this._options.goToRealtime)return;const t=this._chartModel.timeScale().rightOffset()<0;t!==this._backButtonVisible&&(this._backButtonVisible=t,null===(e=this._back.querySelector(".control-bar__btn"))||void 0===e||e.classList.toggle($,!this._backButtonVisible))}_initVisibility(){this._visibilityTypeProperty=(0,a.actualBehavior)(),this._visibilityTypeProperty.subscribe(this,this._onVisibilityTypeChange),this._onVisibilityTypeChange()}_onVisibilityTypeChange(){if(null===this._visibilityTypeProperty)return;const e=this._visibilityTypeProperty.value();"alwaysOn"===e||"alwaysOff"===e?(this._controlBarVisible="alwaysOn"===e,null!==this._boundMouseHandler&&(this._parent.removeEventListener("mousemove",this._boundMouseHandler,!1),this._parent.removeEventListener("mouseleave",this._boundMouseHandler,!1),this._boundMouseHandler=null)):(this._controlBarVisible=!1,this._boundMouseHandler||(this._boundMouseHandler=this._visibilityMouseHandler.bind(this),this._parent.addEventListener("mousemove",this._boundMouseHandler),this._parent.addEventListener("mouseleave",this._boundMouseHandler))),this._updateControlBarVisibility()}_visibilityMouseHandler(e){if(e.buttons)return;if(null!==this._chartModel&&this._chartModel.lineBeingCreated())return;let t="mouseleave"!==e.type;if("mousemove"===e.type){const s=this._widget.getBoundingClientRect(),i=100-(this._targetPaneWidget?this._bottomMargin(this._targetPaneWidget):0);t=e.clientX>=s.left-100&&e.clientX<=s.right+100&&e.clientY>=s.top-i&&e.clientY<=s.bottom+100}this._controlBarVisible!==t&&(this._controlBarVisible=t,null===this._rafId&&(this._rafId=this._controlBar.ownerDocument.defaultView.requestAnimationFrame(this._updateControlBarVisibility.bind(this))))}_updateControlBarVisibility(){this._rafId=null,this._controlBar.classList.toggle("control-bar--hidden",!this._controlBarVisible)}_updateBackBtnPosition(){if("left"===this._priceAxisName||"right"===this._priceAxisName){const e=this._chart.getPriceAxisMaxWidthByName(this._priceAxisName)+14;e&&(this._back.style.marginRight=`${e}px`)}}_updateBtnGroupVisibility(){const e=this._leftPriceScaleWidth+this._paneWidth,t=(e+this._rightPriceScaleWidth)/2;let s=2*Math.min(e-t,t-this._leftPriceScaleWidth)-50-50,i=!1;for(const e of this._visibilityPrioritizedGroups){e.enoughSpaceForGroup=!1;e.available()&&(!Z||!e.shouldBeHiddenOnMobile)&&(s-=e.totalWidth,e.enoughSpaceForGroup=s>=0&&!i,i=i||!e.enoughSpaceForGroup),!e.enoughSpaceForGroup!==e.element.classList.contains("js-hidden")&&e.element.classList.toggle("js-hidden",!e.enoughSpaceForGroup)}this._updateControlBarPosition()}
_getBtnGroup(e){return(0,i.ensureDefined)(this._btnGroups.find((t=>t.classList.contains(e))))}_updateControlBarPosition(){const e=this._visibilityPrioritizedGroups.reduce(((e,t)=>e+(t.enoughSpaceForGroup?t.totalWidth:0)),0),t=(this._paneWidth+this._leftPriceScaleWidth+this._rightPriceScaleWidth)/2-Math.ceil(e/2);this._widget.style.left=`${t}px`}_updateResetScalesButtonVisibility(){if(null===this._chartModel)return;const e=this._chartModel.model().resetScalesAvailable().value();this._buttons.turn.classList.toggle($,!e)}_updateMaximizeButtonsVisibility(){this._updateBtnGroupVisibility()}_toggleFullscreenButtons(){const e=this._chart.inFullscreen();this._buttons.maximize.classList.toggle("js-hidden",e),this._buttons.minimize.classList.toggle("js-hidden",!e)}_isMaximizeButtonAvailable(){return!!this._options.maximize&&(!!this._chart.getResizerDetacher().fullscreenable.value()&&!_.mediaState.isPhoneSizeDevice())}_trackEvent(e){this._chart.onWidget()||(0,p.trackEvent)("Navigation button",e)}}},700751:(e,t,s)=>{"use strict";s.d(t,{FullSessionScheduleWidget:()=>n});var i=s(29719),o=s(606409);class n{constructor(e){this._source=e,this._fullSessionScheduleViewModel=new i.FullSessionScheduleViewModel(e)}destroy(){this._fullSessionScheduleViewModel.destroy()}renderer(e,t,s){var i,n;return(null===(n=null===(i=this._source.marketStatusModel())||void 0===i?void 0:i.futuresContractExpirationTime())||void 0===n?void 0:n.expired().value())?null:(0,o.FullSessionScheduleRenderer)({key:e,className:t,showAllDays:s,sessionDays:this._fullSessionScheduleViewModel.sessionsDays,now:this._fullSessionScheduleViewModel.currentTimeValue(),timezone:this._fullSessionScheduleViewModel.timezone()})}updateSource(e){}}},606409:(e,t,s)=>{"use strict";s.d(t,{FullSessionScheduleRenderer:()=>b});var i=s(50959),o=s(497754),n=s(650151),l=s(444372),a=s(631078),r=s(541558),d=s(283314);const u=new WeakMap;function c(e){return u.has(e)||u.set(e,(0,r.randomHash)()),(0,n.ensureDefined)(u.get(e))}const h=new Map([[0,d.green],[1,d.orange],[2,d.blue],[3,d.gray]]),p=new Map([[0,l.t(null,void 0,s(383949))],[1,l.t(null,void 0,s(356042))],[2,l.t(null,void 0,s(429985))],[3,l.t(null,void 0,s(895814))]]),_=l.t(null,void 0,s(780227));function m(e){const{segment:t,forceStart:s,forceEnd:n}=e,l=t.end.value-t.start.value,a=l<.03,r={left:100*t.start.value+"%",width:`calc(${100*l}% + ${a?2:0}px)`},u=o(d.segment,h.get(t.type),(s||t.start.isFirstOrLastPoint)&&d.start,(n||t.end.isFirstOrLastPoint)&&d.end,a&&d.small,"common-tooltip-html","apply-common-tooltip"),c=function(e,t){return`<div class="${d.tooltip}">\n\t\t<span class="${h.get(t)}">${p.get(t)}</span>\n\t\t<span class="${d.time}">${e}</span>\n\t</div>`}(t.tooltip,t.type);return i.createElement("div",{className:u,style:r,"data-tooltip":c})}function g(e){const{sessionDay:t}=e,s=t.entries.map(((e,s)=>i.createElement(m,{key:`${c(e)}Segment`,segment:e,forceStart:0===s&&3===e.type,forceEnd:s===t.entries.length-1&&3===e.type}))),n=o(d.sessionDay,t.isActive&&d.active);return i.createElement("div",{className:n},i.createElement("div",{
className:d.weekDay},t.title),i.createElement("div",{className:d.sessionDaySegments},s))}function v(e){const{sessionDays:t,currentTimeMark:s}=e,n=[],l=parseInt(Object.keys(t).filter((e=>t[parseInt(e)].isActive))[0]),a=t[l],r=a.entries.filter((e=>e.start.value<=s&&e.end.value>=s))[0];!r.start.isFirstOrLastPoint&&r.showStartForLastEntry?n.push(a.entries[a.entries.length-1].start):n.push(r.start);const u=!r.end.isFirstOrLastPoint&&r.showEndForFirstEntry?a.entries[0].end:r.end;if(n[0].value!==u.value&&n.push(u),0===n.length)return null;n.sort(((e,t)=>e.value-t.value));const h=n.map((e=>i.createElement("div",{key:c(e),className:d.timeMark},e.title))),p=100*(2===n.length?n[1].value-n[0].value:0),_=o(p>12&&d.timeMarkSegmentAlignByEnds,d.timeMarkSegment);return i.createElement("div",{className:d.sessionDay},i.createElement("div",{className:d.weekDay}),i.createElement("div",{className:d.timeMarkWrapper},i.createElement("div",{className:_,style:{left:100*n[0].value+"%",width:`${p}%`}},h)))}function b(e){const{key:t,className:s,now:n,timezone:l,showAllDays:r,timeZoneClassName:u}=e,c=(0,a.useWatchedValueReadonly)({watchedValue:e.sessionDays}),h=Object.values(c).filter((e=>e.isActive))[0],p=o(s,d.wrapper);return i.createElement("div",{key:t,className:p},i.createElement("div",{className:d.sessionDayWrapper},r?i.createElement(i.Fragment,null,Object.values(c).map(((e,t)=>i.createElement(g,{key:t,sessionDay:e})))):i.createElement(g,{sessionDay:h}),i.createElement("div",{className:d.nowWrapper},i.createElement("div",{className:d.now,style:{left:100*n+"%"}}))),i.createElement(v,{sessionDays:c,currentTimeMark:n}),i.createElement("div",{className:o(d.timezone,u,r&&d.largePadding)},`${_}: ${l}`))}},29719:(e,t,s)=>{"use strict";s.d(t,{FullSessionScheduleViewModel:()=>ee});var i=s(15458),o=s(389137),n=s(988124),l=s(129025);function a(e){return e/n.minutesPerDay}function r(e){return Math.round(e*n.minutesPerDay)}var d=s(981702),u=s(962900),c=s(650151),h=s(103221),p=s(414879);const _=[p.WeekDays.SUNDAY,p.WeekDays.MONDAY,p.WeekDays.TUESDAY,p.WeekDays.WEDNESDAY,p.WeekDays.THURSDAY,p.WeekDays.FRIDAY,p.WeekDays.SATURDAY];function m(e,t){return(e+t+6)%7+1}function g(e){return t=>m(t,e)}const v=g(-1),b=g(1);var y=s(936410),w=s(702053);function S(e){for((0,c.assert)(Number.isInteger(e),"timeMinutes expected to be integer number");e>n.minutesPerDay;)e-=n.minutesPerDay;const t=e%60,s=(e-t)/60;return(0,w.numberToStringWithLeadingZero)(s,2)+":"+(0,w.numberToStringWithLeadingZero)(t,2)}function f(e,t){return`${e} — ${t}`}function C(e,t){return`${y.weekDaysShortNames[e]} ${S(t)}`}function E(e,t,s,i){(0,c.assert)(t!==n.minutesPerDay,"Start time expected to be normalized (24:00 as range start is not allowed)"),(0,c.assert)(0!==i,"End time expected to be normalized (00:00 as range end is not allowed)");const o=function(e,t,s,i){const o=e*n.minutesPerDay+t;let l=s*n.minutesPerDay+i;return l<o&&(l+=7*n.minutesPerDay),l-o}(e,t,s,i);return o<n.minutesPerDay||o===n.minutesPerDay&&0===t?function(e,t){return f(S(e),S(t))}(t,i):function(e,t,s,i){
return f(C(e,t),C(s,i))}(e,t,s,i)}function M(e,t,s,i){return{start:e,end:t,type:s,tooltip:i,showStartForLastEntry:!1,showEndForFirstEntry:!1}}function x(e){return{value:e,title:S(r(e)),isFirstOrLastPoint:!0}}function k(e){return 3!==e.type}function L(e,t){return{dayIndex:e,entries:t.filter(k)}}function V(e,t,s,i=t){const o=s(t),n=e[o];return o!==i&&0===n.entries.length?V(e,o,s,i):L(o,e[o].entries)}function D(e){return(t,s)=>V(t,s,e)}const T=D(v),A=D(b);function W(e,t,s,i){return(o,n,l)=>void 0===o?[i,l]:o===e?[t,s(n)]:[o,n]}const P=W(1,0,b,0),H=W(0,1,v,1);function B(e,t,s,i,o){const[n,l]=P(e,t,o),[a,d]=H(s,i,o);(0,c.assert)(t!==s||n<a,`Days are same (${t}) but prev entry time (${n}) >= next entry time (${a})`);const u=r(n),h=r(a);return M(x(l!==o?0:n),x(d!==o?1:a),3,E(l,u,d,h))}function N(e,t,s,i,o){var n,l;return B(null===(n=null==e?void 0:e.end)||void 0===n?void 0:n.value,t,null===(l=null==s?void 0:s.start)||void 0===l?void 0:l.value,i,o)}function I(e){const t=[...e.entries];for(let s=1;s<e.entries.length;s++){const i=e.entries[s-1],o=e.entries[s];if(o.start.value!==i.end.value){const s=N(i,e.dayIndex,o,e.dayIndex,e.dayIndex);t.push(s)}}return t.sort(((e,t)=>e.start.value-t.start.value)),t}function R(e,t){const s=(0,u.default)(t.entries),i=t.dayIndex,o=(0,c.ensureDefined)((0,d.default)(e.entries));return 0===o.start.value?[]:[N(s,i,o,e.dayIndex,e.dayIndex)]}function O(e,t){const s=(0,d.default)(t.entries),i=t.dayIndex,o=(0,c.ensureDefined)((0,u.default)(e.entries));return 1===o.end.value?[]:[N(o,e.dayIndex,s,i,e.dayIndex)]}function z(e,t){var s,i;const n={thisDay:L(e,t[e].entries),prevDay:T(t,e),nextDay:A(t,e)};return null!==(i=null!==(s=function({thisDay:e,prevDay:t,nextDay:s}){if(0===e.entries.length)return[N((0,u.default)(t.entries),t.dayIndex,(0,d.default)(s.entries),s.dayIndex,e.dayIndex)]}(n))&&void 0!==s?s:function({thisDay:e,prevDay:t,nextDay:s}){const i=e.dayIndex;if(t.dayIndex!==i||s.dayIndex!==i)return;const n=e.entries,l=(0,c.ensureDefined)((0,d.default)(n)),a=(0,c.ensureDefined)((0,u.default)(n));return[0!==l.start.value?B(0,i,l.start.value,i,i):void 0,...I(e),1!==a.end.value?B(a.end.value,i,1,i,i):void 0].filter(o.isExistent)}(n))&&void 0!==i?i:function(e){return[...R(e.thisDay,e.prevDay),...I(e.thisDay),...O(e.thisDay,e.nextDay)]}(n)}function F(e,t,s,i){const[o,n]=e[t],l=a(o),r=a(n);return M(x(l),x(r),s,i)}function U(e,t,s,i){let o=e;const l=t+s;let r;if(l<=n.minutesPerDay)r=[[t,l]];else{const e=Math.min(n.minutesPerDay-t,s);r=[[t,t+e],[0,s-e]]}const h=function(e,t){const s=(0,c.ensureDefined)((0,d.default)(e))[0],i=(0,c.ensureDefined)((0,u.default)(e))[1],o=e.map((e=>e[1]-e[0])).reduce(((e,t)=>e+t));return E(t,s,i===n.minutesPerDay?t:m(t,Math.floor(a(s+o))),i)}(r,o),p=[];for(let e=0;e<r.length;e++){const t=F(r,e,i,h);p.push([t,o]),o=b(o)}return p}var G=s(44031);const j=(0,s(205849).default)(_.map((e=>[e,{title:y.weekDaysShortNames[e],isActive:!1,entries:[]}])));function Z(e){return(t,s)=>{return i=(0,c.ensureDefined)(e(t)),o=(0,c.ensureDefined)(e(s)),
i.start.value===o.start.value&&i.end.value===o.end.value;var i,o}}const $=Z(d.default),q=Z(u.default);function X(e,t){return U(e.sessionStartDayOfWeek(),e.start(),e.length(),t)}function J(e,t){t.forEach((t=>function(e,t,s){const i=e[s].entries;i.push(t),i.sort(((e,t)=>e.start.value-t.start.value))}(e,t[0],t[1])))}function K(e,t,s){for(const i of t){J(e,X(i,s))}}function Q(e,t){return e.type===t.type&&(3===e.type||t.end.value-t.start.value+e.end.value-e.start.value<=1)}function Y(e,t){var s;const i=(null!==(s=null==t?void 0:t.getUTCDay())&&void 0!==s?s:(new Date).getDay())%7+1;const o=function(e){if(null===e)return new Map;if(void 0===e.subsessions)return new Map([[0,new G.SessionSpec(e.timezone,e.session,e.session_holidays,e.corrections)]]);const t="regular",s="premarket",i="postmarket",o=[t,s,i],n=new Map;for(const l of o){let o=null;switch(l){case t:o=0;break;case s:o=1;break;case i:o=2}if(null!==o){const t=e.subsessions.find((e=>e.id===l));void 0!==t&&n.set(o,new G.SessionSpec(e.timezone,t["session-display"]||t.session,e.session_holidays,t["session-correction"]))}}return n}(e),n=(0,h.deepCopy)(j);n[i].isActive=!0;for(const e of Array.from(o.keys())){K(n,(0,c.ensureDefined)(o.get(e)).getEntriesForWeekByCalendar((0,c.ensureNotNull)(t)),e)}return function(e){const t=new Map;for(const s of _)t.set(s,z(s,e));for(const s of _)e[s].entries=(0,c.ensureDefined)(t.get(s))}(n),function(e){for(const t of _){const s=e[t].entries,i=(0,c.ensureDefined)((0,d.default)(s));Q(i,(0,c.ensureDefined)((0,u.default)(e[v(t)].entries)))&&(i.start.isFirstOrLastPoint=!1);const o=(0,c.ensureDefined)((0,u.default)(s));Q(o,(0,c.ensureDefined)((0,d.default)(e[b(t)].entries)))&&(o.end.isFirstOrLastPoint=!1)}}(n),function(e){for(const t of _){const s=e[t].entries;if(1===s.length)continue;const i=v(t),o=b(t),n=(0,c.ensureDefined)((0,u.default)(s)),l=(0,c.ensureDefined)((0,d.default)(s));l.start.isFirstOrLastPoint||(l.showStartForLastEntry=q(s,e[i].entries)),n.end.isFirstOrLastPoint||(n.showEndForFirstEntry=$(s,e[o].entries))}}(n),{newSessionsDays:n,newTodaySession:n[i]}}class ee{constructor(e){this.sessionsDays=new l.WatchedValue((0,o.clone)(j)),this.todaySession=new l.WatchedValue((0,o.clone)({entries:[]})),this._todayInExchangeTime=null,this._symbolInfo=e.symbolInfo().spawn(),this._symbolInfo.subscribe(this._updateEntriesBySubSessions.bind(this),{callWithLast:!0})}destroy(){this._symbolInfo.destroy()}currentTimeValue(){return null===this._todayInExchangeTime?-1:a(n.get_minutes_from_midnight(this._todayInExchangeTime))}timezone(){const e=this._symbolInfo.value();return null===e?"":(0,i.timezoneTitle)(e.timezone)}_updateEntriesBySubSessions(e){this._updateTodayWithOffsets(e);const{newSessionsDays:t,newTodaySession:s}=Y(e,this._todayInExchangeTime);this.sessionsDays.setValue(t),this.todaySession.setValue(s)}_updateTodayWithOffsets(e){this._todayInExchangeTime=null!==e?n.get_cal_from_unix_timestamp_ms(n.get_timezone(e.timezone),window.ChartApiInstance.serverTime()):null}}},31166:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LegendWidget:()=>ji})
;var i=s(327714),o=s(343370),n=s(650151),l=s(129025),a=s(389137),r=s(724377),d=s(940194),u=s(77122),c=s(638456),h=s(176006),p=s(580602),_=s(156836),m=s(159255),g=s(45156),v=s(431912),b=s(196726),y=s(486029),w=s(529426),S=s(377539),f=s(707488);const C=c.CheckMobile.any();function E(e,t){e.dataset.status=t?"loading":void 0}class M{constructor(e,t,s){this._el=null,this._firstBlockWrapper=null,this._titlesWrapperEl=null,this._titleContainers=[],this._titleElements=[],this._valuesElements=[],this._actionsParentEl=null,this._actionAdditionalWrapperEl=null,this._stayInHoveredMode=!1,this._mode=4,this._statusesWrapper=null,this._loader=null,this._valuesParentEl=null,this._valuesAdditionalWrapperEl=null,this._resizeObserver=null,this._hideInvisibleHover=null,this._hideValues=null,this._allButtonsWidth=null,this._lastStatusesWrapperWidth=null,this._lastActionsWrapperWidth=null,this._showActionsHandler=null,this._hideActionsHandler=null,this._selectedSourceHandler=null,this._mouseEventHandlers=[],this._disableTimeout=null,this._updateDisabledState=(e=this._disabled.value())=>{null!==this._el&&(this._el.classList.toggle(S.disabled,e),this._updateLoadingState(),this._updateStatusWidgetVisibility(e),this._updateTitleMaxWidth())},this._updateLoadingState=(e=this._loading.value())=>{if(null!==this._el){this._el.classList.toggle(S.eyeLoading,e&&!this._disabled.value()),E(this._el,e)}null!==this._loader&&this._loader.toggleVisibility(e),this._updateShowValues()},this._model=e,this._parentEl=t,this._disabled=this._model.disabled().spawn(),this._disabled.subscribe(this._updateDisabledState),this._disabledOnInterval=this._model.disabledOnInterval().spawn(),this._disabledOnInterval.subscribe(this._updateDisabledOnIntervalState.bind(this)),this._selected=this._model.selected().spawn(),this._selected.subscribe(this._updateSelectedState.bind(this)),this._loading=this._model.loading().spawn(),this._loading.subscribe(function(e,t){let s=0;return i=>{clearTimeout(s),i?e():s=setTimeout(e,t)}}(this._updateLoadingState,700)),this._isTitleHidden=this._model.isTitleHidden().spawn(),this._isRowHidden=this._model.isRowHidden().spawn(),this._isTitleHidden.subscribe(this._updateShowTitles.bind(this)),this._isRowHidden.subscribe(this._updateShowLine.bind(this)),this._createTitlesSpawns();for(let e=0;e<this._titlesSpawns.length;e++)this._titlesSpawns[e].title.subscribe(this._updateTitlesHandler.bind(this,e));this._values=this._model.values().spawn(),this._values.subscribe(this._updateValues.bind(this)),this._createValuesSpawns(),this._addValuesSpawnsSubscriptions(),this._actionsSpawnArray=this._model.actions().map((e=>({visible:e.visible.spawn(),title:void 0===e.title?null:e.title.spawn()})));for(let e=0;e<this._actionsSpawnArray.length;e++){this._actionsSpawnArray[e].visible.subscribe(this._updateActionVisibilities.bind(this,e));const t=this._actionsSpawnArray[e].title;null!==t&&t.subscribe(this._updateActionTitle.bind(this,e))}this._withActions=s.withActions,this._render(),this._updateStates(),this._updateShowTitles(),this._updateShowValues(),
this._updateShowLine(),this._loader=(0,y.createPointsLoaderRenderer)((0,n.ensureNotNull)(this._valuesParentEl),{className:S.loader}),this._customTextColor=s.customTextColor.spawn(),this._customTextColor.subscribe(this._updateCustomTextColor.bind(this)),this._updateCustomTextColor(),this._withActions&&(this._showActionsHandler=(0,b.wrapHandlerWithPreventEvent)(this._showActions.bind(this)),this._hideActionsHandler=(0,b.wrapHandlerWithPreventEvent)(this._hideActions.bind(this)),this._selectedSourceHandler=(0,v.defaultPreventedHandler)(this._model.setSourceSelected.bind(this._model)),null!==this._titlesWrapperEl&&(C||(this._titlesWrapperEl.addEventListener("mouseenter",this._showActionsHandler),this._titlesWrapperEl.addEventListener("mouseleave",this._hideActionsHandler)),this._mouseEventHandlers.push(new v.MouseEventHandler(this._titlesWrapperEl,{mouseDoubleClickEvent:this._model.onShowSettings.bind(this._model),doubleTapEvent:this._model.onShowSettings.bind(this._model),mouseClickEvent:this._selectedSourceHandler,tapEvent:this._selectedSourceHandler}))),null===this._actionAdditionalWrapperEl||null===this._actionsParentEl||C||(this._actionAdditionalWrapperEl.addEventListener("mouseenter",this._showActionsHandler),this._actionAdditionalWrapperEl.addEventListener("mouseleave",this._hideActionsHandler),this._actionsParentEl.addEventListener("contextmenu",(e=>{e.preventDefault(),e.stopPropagation()}))))}destroy(){var e,t,s;this._disabled.destroy(),this._disabledOnInterval.destroy(),this._selected.destroy(),this._loading.destroy(),this._isTitleHidden.destroy(),this._isRowHidden.destroy(),this._customTextColor.destroy(),null===(e=this._loader)||void 0===e||e.destroy(),null!==this._disableTimeout&&clearTimeout(this._disableTimeout);for(const e of this._titlesSpawns)e.title.destroy();if(null!==this._titlesWrapperEl){for(const e of this._mouseEventHandlers)e.destroy();this._titleContainers=[],this._titleElements=[],this._withActions&&null!==this._selectedSourceHandler&&null!==this._showActionsHandler&&null!==this._hideActionsHandler&&(C||(this._titlesWrapperEl.removeEventListener("mouseenter",this._showActionsHandler),this._titlesWrapperEl.removeEventListener("mouseleave",this._hideActionsHandler))),this._titlesWrapperEl=null}for(const e of this._actionsSpawnArray){e.visible.destroy();const t=e.title;null!==t&&t.destroy()}if(null!==this._actionAdditionalWrapperEl&&(this._withActions&&null!==this._showActionsHandler&&null!==this._hideActionsHandler&&!C&&(this._actionAdditionalWrapperEl.removeEventListener("mouseenter",this._showActionsHandler),this._actionAdditionalWrapperEl.removeEventListener("mouseleave",this._hideActionsHandler)),this._actionAdditionalWrapperEl=null),this._actionsParentEl=null,this._removeValuesSpawnsSubscriptions(),this._values.destroy(),null!==this._valuesParentEl&&(this._valuesElements=[],this._valuesParentEl=null),null===(t=this._hideInvisibleHover)||void 0===t||t.destroy(),null===(s=this._hideValues)||void 0===s||s.destroy(),null!==this._resizeObserver&&(this._resizeObserver.disconnect(),
this._resizeObserver=null),null!==this._el){(0,n.ensureNotNull)(this._el.parentNode).removeChild(this._el),this._el=null}}getHeight(){return null===this._el?null:24}updateMode(e){this._mode===e&&null!==this._allButtonsWidth||(this._mode=e,this._updateAllButtonsWidth())}_render(){this._renderTitle(),this._renderActions(),this._renderValues(),this._el=document.createElement("div"),E(this._el,this._loading.value()),this._firstBlockWrapper=document.createElement("div"),this._firstBlockWrapper.classList.add(S.noWrapWrapper),this._firstBlockWrapper.appendChild((0,n.ensureNotNull)(this._titlesWrapperEl)),null!==this._actionsParentEl&&this._firstBlockWrapper.appendChild(this._actionsParentEl),this._el.appendChild(this._firstBlockWrapper),this._el.appendChild((0,n.ensureNotNull)(this._valuesParentEl)),this._parentEl.append(this._el)}_renderTitle(){var e;null===this._titlesWrapperEl&&(this._titlesWrapperEl=document.createElement("div"),this._titlesWrapperEl.classList.add(S.titlesWrapper));for(let t=0;t<this._titlesSpawns.length;t++){const s=null!==(e=this._titlesSpawns[t].title.value())&&void 0!==e?e:"",i=this._titlesSpawns[t].class,o=document.createElement("div");o.classList.add(S.titleWrapper,i,"apply-overflow-tooltip"),this._titlesSpawns[t].dataSetName&&(o.dataset.name=this._titlesSpawns[t].dataSetName);const n=this._titlesSpawns[t].tooltip;void 0!==n&&(o.classList.add("apply-common-tooltip"),o.setAttribute("title",n));const l=this._titlesSpawns[t].onClick;if(void 0!==l){o.classList.add(S.withAction);const e=e=>{var t;null===(t=this._selectedSourceHandler)||void 0===t||t.call(this,e),l()};this._mouseEventHandlers.push(new v.MouseEventHandler(o,{mouseClickEvent:e,tapEvent:c.CheckMobile.any()?void 0:e},{ignoreClickAndTapOnDblClickOrDblTap:!0}))}const a=document.createElement("div");a.classList.add(S.title),s.length>0?(a.appendChild(document.createTextNode(s)),o.classList.add(S.withDot)):o.classList.add(f.blockHidden),o.appendChild(a),this._titlesWrapperEl.appendChild(o),this._titleContainers.push(o),this._titleElements.push(a)}}_renderActions(){if(!this._withActions)return;null===this._actionsParentEl&&(this._actionsParentEl=document.createElement("div"),this._actionsParentEl.classList.add(S.buttonsWrapper),this._parentEl.append(this._actionsParentEl),this._actionAdditionalWrapperEl=document.createElement("div"),this._actionAdditionalWrapperEl.classList.add(S.buttons),this._actionsParentEl.appendChild(this._actionAdditionalWrapperEl));const e=(0,n.ensureNotNull)(this._actionAdditionalWrapperEl),t=_.trackingModeIsAvailable?"large":"small";for(const s of this._model.actions()){const i=(0,g.createActionElement)(s,S.button,S.buttonIcon,f.blockHidden,t);e.appendChild(i)}}_initWrappersIfNotInitialized(){return null===this._valuesParentEl&&(this._valuesParentEl=document.createElement("div"),this._valuesParentEl.classList.add(S.valuesWrapper),this._valuesAdditionalWrapperEl=document.createElement("div"),this._valuesAdditionalWrapperEl.classList.add(S.valuesAdditionalWrapper),
this._valuesParentEl.appendChild(this._valuesAdditionalWrapperEl)),(0,n.ensureNotNull)(this._valuesAdditionalWrapperEl)}_isWidthButtonsMode(){return null!==this._el&&(this._el.classList.contains(S.withAction)||this._disabled.value()||this._selected.value()||this._stayInHoveredMode)}_updateTitlesHandler(e,t){const s=(0,n.ensureNotNull)(this._titleContainers[e]),i=0===t.length;s.classList.toggle(f.blockHidden,i),s.classList.toggle(S.withDot,!i),t=(0,w.redefineExchangeName)(t),(0,h.updateTextNode)((0,n.ensureNotNull)(this._titleElements[e]),t)}_updateStates(e){this._updateDisabledState(),this._updateDisabledOnIntervalState(),this._updateSelectedState(),this._updateLoadingState(),e&&this._clearDisableState()}_updateValuesHTMLElHandler(e,t){const s=(0,n.ensure)(this._valuesElements[e].value);(0,h.updateTextNode)(s,t),this._updateShowValues()}_updateValueColorHandler(e,t=""){(0,n.ensure)(this._valuesElements[e].value).style.color=t}_updateValueVisibleHandler(e,t){const s=(0,n.ensure)(this._valuesElements[e].value).closest(`.${S.valueItem}`);null!==s&&s.classList.toggle(f.blockHidden,!t),this._updateShowValues()}_updateShowLine(){null!==this._el&&this._el.classList.toggle(f.blockHidden,this._isRowHidden.value())}_createValuesSpawns(){this._valuesSpawnArray=this._values.value().map((e=>({value:e.value.spawn(),color:e.color.spawn(),visible:e.visible.spawn(),title:e.title.spawn()})))}_removeValuesSpawnsSubscriptions(){for(const e of this._valuesSpawnArray)e.value.destroy(),e.color.destroy(),e.visible.destroy(),e.title.destroy();this._valuesSpawnArray=[]}_addValuesSpawnsSubscriptions(){for(let e=0;e<this._valuesSpawnArray.length;e++){const t=this._valuesSpawnArray[e];t.value.subscribe(this._updateValuesHTMLElHandler.bind(this,e)),t.color.subscribe(this._updateValueColorHandler.bind(this,e)),t.visible.subscribe(this._updateValueVisibleHandler.bind(this,e)),t.title.subscribe(this._updateValuesTitleHTMLElHandler.bind(this,e))}}_updateShowValues(){function e(e){if(!e)return;const t=Array.from(e.children).every((e=>e.classList.contains(f.blockHidden)));e.classList.toggle(f.blockHidden,t)}e(this._valuesAdditionalWrapperEl),e(this._valuesParentEl)}_addStatusesWidget(e,t,s){this._statusesWrapper=document.createElement("div"),this._statusesWrapper.classList.add(S.statusesWrapper),e.classList.add(S.statusesWrapper__statuses),this._statusesWrapper.appendChild(e),(0,n.ensureNotNull)(this._firstBlockWrapper).appendChild(this._statusesWrapper),this._hideInvisibleHover=t.spawn(),this._hideInvisibleHover.subscribe(this._updateInvisibleHoverMode.bind(this),{callWithLast:!0}),this._hideValues=s.spawn(),this._hideValues.subscribe(this._updateHideValuesMode.bind(this),{callWithLast:!0}),this._updateStatusWidgetVisibility(this._disabled.value()),this._resizeObserver=new m.default(this._handlerRestrictTitleWidth.bind(this)),null!==this._actionsParentEl&&this._resizeObserver.observe(this._actionsParentEl),this._resizeObserver.observe(this._statusesWrapper)}_updateTitleMaxWidth(){if(null===this._firstBlockWrapper)return
;const e=this._allButtonsWidth||0,t=(this._lastActionsWrapperWidth||0)+(this._lastStatusesWrapperWidth||0);this._isWidthButtonsMode()?this._firstBlockWrapper.style.maxWidth=`calc(100% - ${Math.max(e,t)}px)`:this._firstBlockWrapper.style.maxWidth=t>0?`calc(100% - ${t}px)`:""}_updateAllButtonsWidth(){this._allButtonsWidth=this._getButtonsCount()*K+1,this._updateTitleMaxWidth()}_updateInvisibleHoverMode(e){null!==this._el&&this._el.classList.toggle(S.invisibleHover,!e)}_updateHideValuesMode(e){null!==this._el&&this._el.classList.toggle(S.hideValues,e)}_showActions(){if(null===this._el||!this._withActions)return;this._el.classList.add(S.withAction);const e=null!==this._valuesParentEl&&null!==this._titlesWrapperEl&&this._valuesParentEl.offsetTop===this._titlesWrapperEl.offsetTop;this._el.classList.toggle(S.withTail,e),this._updateTitleMaxWidth()}_hideActions(){null!==this._el&&this._withActions&&!this._stayInHoveredMode&&(this._el.classList.remove(S.withAction),null!==this._valuesParentEl&&this._valuesParentEl.classList.remove(S.withTail),this._updateTitleMaxWidth())}_handlerRestrictTitleWidth(e){if(null===this._actionsParentEl||null===this._firstBlockWrapper)return;let t=null,s=null;for(const i of e)i.target===this._statusesWrapper&&(t=i.contentRect.width),i.target===this._actionsParentEl&&(s=i.contentRect.width);t===this._lastStatusesWrapperWidth&&s===this._lastActionsWrapperWidth||(null!==t&&(this._lastStatusesWrapperWidth=t),null!==s&&(this._lastActionsWrapperWidth=s),this._updateTitleMaxWidth())}_clearDisableState(){null!==this._el&&(this._el.classList.remove(S.eyeLoading),this._el.classList.remove(S.disabled),this._updateStatusWidgetVisibility(this._disabled.value()),this._updateTitleMaxWidth())}_updateDisabledOnIntervalState(){var e;null===(e=this._el)||void 0===e||e.classList.toggle(S.disabledOnInterval,this._disabledOnInterval.value())}_updateSelectedState(){null!==this._el&&this._withActions&&this._el.classList.toggle(S.selected,this._selected.value())}_updateShowTitles(){null!==this._titlesWrapperEl&&(this._titlesWrapperEl.classList.toggle(f.blockHidden,this._isTitleHidden.value()),null!==this._actionsParentEl&&this._actionsParentEl.classList.toggle(f.blockHidden,this._isTitleHidden.value()))}_updateValues(){this._removeValuesSpawnsSubscriptions(),this._createValuesSpawns(),null!==this._valuesParentEl&&null!==this._valuesAdditionalWrapperEl&&(this._valuesElements=[],this._valuesAdditionalWrapperEl.innerHTML=""),this._renderValues(),this._addValuesSpawnsSubscriptions(),this._updateShowValues()}_updateActionVisibilities(e){null!==this._actionsParentEl&&this._actionsParentEl.querySelectorAll(`.${S.button}`)[e].classList.toggle(f.blockHidden,!this._actionsSpawnArray[e].visible.value())}_updateActionTitle(e){const t=this._actionsSpawnArray[e].title;null!==this._actionsParentEl&&null!==t&&this._actionsParentEl.querySelectorAll(`.${S.button}`)[e].setAttribute("title",t.value())}_updateCustomTextColor(){const e=this._customTextColor.value()||"";for(const t of this._titleContainers)null!==t&&(t.style.color=e)
;const t=(0,n.ensureNotNull)(this._valuesParentEl).querySelectorAll(`.${S.valueTitle}`);for(let s=0;s<t.length;s++)t[s].style.color=e;(0,n.ensureNotNull)(this._el).classList.toggle(S.withCustomTextColor,Boolean(e))}_updateStatusWidgetVisibility(e){null!==this._statusesWrapper&&this._statusesWrapper.classList.toggle(f.blockHidden,e)}}var x=s(316230),k=s(497754),L=s.n(k),V=s(439378),D=s(783036),T=s(494966),A=s(552793),W=s(495217);class P{constructor(e,t){this._lastDrawnLogos=[],this._logoWrapper=null,this._pairContainer=null,this._primaryLogo=null,this._secondaryLogo=null,this._logoContainer=null,this._symbolLetterContainer=null,this._updateLogoVisibility=e=>{this._logoWrapper&&this._logoWrapper.classList.toggle(S.hidden,!e)},this._updateSymbolLogo=async e=>{var t,s,i,o,n,l,a,r,d;if(null===this._logoWrapper&&this._renderSymbolLogo(),0!==this._lastDrawnLogos.length&&0!==e.length&&(0,x.default)(this._lastDrawnLogos,e))return;const u=await(c=e,Promise.all(c.map((e=>(0,A.getImage)(`symbol_logo_${e}`,e,(e=>{e.decoding="async"})).then((e=>e.cloneNode()))))));var c;switch(u.length){case 0:null===(t=this._pairContainer)||void 0===t||t.classList.add(S.hidden),null===(s=this._logoContainer)||void 0===s||s.classList.add(W.hiddenCircleLogoClass),this._updateSymbolLetter(),null===(i=this._symbolLetterContainer)||void 0===i||i.classList.remove(W.hiddenCircleLogoClass),this._lastDrawnLogos=e;break;case 1:H(this._logoContainer,u[0]),null===(o=this._pairContainer)||void 0===o||o.classList.add(S.hidden),null===(n=this._logoContainer)||void 0===n||n.classList.remove(W.hiddenCircleLogoClass),null===(l=this._symbolLetterContainer)||void 0===l||l.classList.add(W.hiddenCircleLogoClass),this._lastDrawnLogos=e;break;case 2:H(this._primaryLogo,u[0]),H(this._secondaryLogo,u[1]),null===(a=this._pairContainer)||void 0===a||a.classList.remove(S.hidden),null===(r=this._logoContainer)||void 0===r||r.classList.add(W.hiddenCircleLogoClass),null===(d=this._symbolLetterContainer)||void 0===d||d.classList.add(W.hiddenCircleLogoClass),this._lastDrawnLogos=e}},this._model=e,this._parentElement=t,this._renderSymbolLogo(),this._logoUrls=e.symbolLogoUrls().spawn(),this._logoUrls.subscribe(this._updateSymbolLogo,{callWithLast:!0}),this._isLogoVisible=e.isSymbolLogoVisible().spawn(),this._isLogoVisible.subscribe(this._updateLogoVisibility,{callWithLast:!0})}destroy(){var e;null===(e=this._logoWrapper)||void 0===e||e.remove(),this._logoWrapper=null,this._pairContainer=null,this._primaryLogo=null,this._secondaryLogo=null,this._logoContainer=null,this._symbolLetterContainer=null,this._logoUrls.destroy(),this._isLogoVisible.destroy()}_renderSymbolLogo(){if(!this._logoWrapper){const e=this._logoWrapper=document.createElement("div");e.classList.add(S.logoWrapper);const t=this._pairContainer=e.appendChild(document.createElement("span"));t.classList.add(S.pairContainer,S.hidden);const s=t.appendChild(document.createElement("span"));s.className=(0,V.getBlockStyleClasses)("xxxsmall");(this._secondaryLogo=s.appendChild(document.createElement("span"))).className=L()((0,
V.getLogoStyleClasses)("xxxsmall"),S.logo);(this._primaryLogo=s.appendChild(document.createElement("span"))).className=L()((0,V.getLogoStyleClasses)("xxxsmall"),S.logo);(this._logoContainer=e.appendChild(document.createElement("span"))).className=L()((0,D.getStyleClasses)("xxxsmall"),S.logo,W.hiddenCircleLogoClass);(this._symbolLetterContainer=e.appendChild(document.createElement("span"))).className=L()((0,D.getStyleClasses)("xxxsmall"),S.logo),this._updateSymbolLetter()}this._parentElement.insertBefore(this._logoWrapper,this._parentElement.firstChild)}_updateSymbolLetter(){var e;if(this._symbolLetterContainer){const t=(0,T.safeShortName)(null!==(e=this._model.symbol())&&void 0!==e?e:"")[0];(0,h.updateTextNode)(this._symbolLetterContainer,t)}}}function H(e,t){e&&e.replaceChildren(t)}class B extends M{constructor(e,t,s){super(e,t,s),this._symbolLogoRenderer=null,this._clientHeight=null,this._updateLinkedState=()=>{var e;(0,n.ensureNotNull)(this._el).classList.toggle(S.linked,Boolean(null===(e=this._linked)||void 0===e?void 0:e.value())),this._updateTitleMaxWidth()},this._flagged=this._model.flagged().spawn(),this._flagged.subscribe(this._updateFlaggedState.bind(this)),this._linked=this._model.linked().spawn(),this._updateLinkedState&&this._linked.subscribe(this._updateLinkedState.bind(this),{callWithLast:!0}),this._updateStates(),s.statusWidgetEl&&this._addStatusesWidget(s.statusWidgetEl,s.hideInvisibleHover,s.hideValues),this._selected.subscribe(this._updateTitleMaxWidth.bind(this));const i=e.symbolLogoViewModel().value();i&&(this._symbolLogoRenderer=new P(i,(0,n.ensureNotNull)(this._titleContainers[0])))}destroy(){var e,t,s;super.destroy(),null===(e=this._flagged)||void 0===e||e.destroy(),null===(t=this._symbolLogoRenderer)||void 0===t||t.destroy(),null===(s=this._linked)||void 0===s||s.destroy()}getHeight(){return null===this._el?null:(null===this._clientHeight&&(this._clientHeight=this._el.clientHeight,0===this._clientHeight&&(this._clientHeight=null)),this._clientHeight)}_getButtonsCount(){return 1===this._mode?1:4}_render(){super._render();const e=(0,n.ensureNotNull)(this._el);e.classList.add(S.item,S.series),e.classList.toggle(S.onlyOneButtonCanBeStick,this._model.isOneButtonCanBeStick()),e.dataset.name="legend-series-item"}_updateStates(){var e;super._updateStates(),this._updateFlaggedState(),null===(e=this._updateLinkedState)||void 0===e||e.call(this)}_renderValues(){const e=this._initWrappersIfNotInitialized(),t=this._values.value();for(const s of t){const t=document.createElement("div");t.classList.add(S.valueItem),t.classList.toggle(f.blockHidden,!s.visible.value()),t.classList.toggle(S.unimportant,s.unimportant.value());const i=document.createElement("div"),o=s.title.value()||"";i.classList.add(S.valueTitle),i.classList.toggle(f.blockHidden,0===o.length),i.appendChild(document.createTextNode(o)),t.appendChild(i);const n=document.createElement("div");n.classList.add(S.valueValue),n.style.color=s.color.value()||"",n.appendChild(document.createTextNode(s.value.value())),t.appendChild(n),
this._valuesElements.push({title:i,value:n}),e.appendChild(t)}}_createTitlesSpawns(){const e=this._model.titles(),t=this._model.titleActions();this._titlesSpawns=[{...t.title,title:e.title.spawn(),class:S.mainTitle,dataSetName:"legend-source-title"},{...t.description,title:e.description.spawn(),class:S.descTitle,dataSetName:"legend-source-description"},{...t.interval,title:e.interval.spawn(),class:S.intervalTitle,dataSetName:"legend-source-interval"},{...t.provider,title:e.provider.spawn(),class:S.providerTitle,dataSetName:"legend-source-provider"},{...t.exchange,title:e.exchange.spawn(),class:S.exchangeTitle,dataSetName:"legend-source-exchange"},{...t.chartStyle,title:e.chartStyle.spawn(),class:S.styleTitle,dataSetName:"legend-source-style"},{...t.priceSource,title:e.priceSource.spawn(),class:S.priceSourceTitle,dataSetName:"legend-source-price-source"}]}_updateValuesTitleHTMLElHandler(e,t=""){const s=(0,n.ensure)(this._valuesElements[e].title);(0,h.updateTextNode)(s,t),s.classList.toggle(f.blockHidden,0===t.length),this._updateShowValues()}_isWidthButtonsMode(){var e;return null!==this._el&&(void 0!==this._flagged&&Boolean(this._flagged.value())||(null===(e=this._linked)||void 0===e?void 0:e.value())||super._isWidthButtonsMode())}_updateFlaggedState(){if(void 0===this._flagged)return;(0,n.ensureNotNull)(this._el).classList.toggle(S.flagged,Boolean(this._flagged.value())),this._updateTitleMaxWidth()}}const N=c.isSafari?"click":"auxclick";class I extends M{constructor(e,t,s){super(e,t,s),this._wheelClickHandler=null,this._symbolLogoRenderer=null,this._updateSymbolLogoRenderer=e=>{var t;null===(t=this._symbolLogoRenderer)||void 0===t||t.destroy(),this._symbolLogoRenderer=e?new P(e,(0,n.ensureNotNull)(this._titleContainers[0])):null},this._canUpdateRowVisibility=!0,this._globalRowVisibility=this._model.globalVisibility().spawn(),this._globalRowVisibility.subscribe(this._updateShowLine.bind(this),{callWithLast:!0}),this._has5Buttons=this._model.isPineScriptDataSource().spawn(),this._has5Buttons.subscribe(this._update5ButtonsStyles.bind(this)),this._updateStates(!this._disabled.value()),s.statusWidgetEl&&this._addStatusesWidget(s.statusWidgetEl,s.hideInvisibleHover,s.hideValues),this._selected.subscribe(this._updateTitleMaxWidth.bind(this)),s.withActions&&(this._wheelClickHandler=this._onWheelClicked.bind(this),null!==this._titlesWrapperEl&&this._titlesWrapperEl.addEventListener(N,this._wheelClickHandler));const i=e.symbolLogoViewModel().value();this._updateSymbolLogoRenderer(i),e.symbolLogoViewModel().subscribe(this._updateSymbolLogoRenderer)}destroy(){var e;this._model.symbolLogoViewModel().unsubscribe(this._updateSymbolLogoRenderer),null===(e=this._symbolLogoRenderer)||void 0===e||e.destroy(),this._has5Buttons.destroy(),this._globalRowVisibility&&this._globalRowVisibility.destroy(),null!==this._wheelClickHandler&&null!==this._titlesWrapperEl&&this._titlesWrapperEl.removeEventListener(N,this._wheelClickHandler),super.destroy()}_updateShowLine(){if(null===this._el||!this._canUpdateRowVisibility)return
;const e=!this._globalRowVisibility.value();e?this._el.classList.toggle(f.blockHidden,e):super._updateShowLine()}_getButtonsCount(){switch(this._mode){case 4:return this._has5Buttons.value()?5:4;case 3:return 3;default:return 2}}_render(){super._render();const e=(0,n.ensureNotNull)(this._el);e.classList.add(S.item,S.study),e.dataset.name="legend-source-item",e.dataset.entityId=this._model.getSource().id()}_createTitlesSpawns(){const e=this._model.titles(),t=this._model.titleActions();this._titlesSpawns=[{...t.title,title:e.title.spawn(),class:S.mainTitle,dataSetName:"legend-source-title"},{...t.args,title:e.args.spawn(),class:S.descTitle,dataSetName:"legend-source-description"}]}_renderValues(){const e=this._initWrappersIfNotInitialized(),t=this._values.value();for(const s of t){const t=document.createElement("div");t.classList.add(S.valueItem),t.classList.toggle(f.blockHidden,!s.visible.value());const i=document.createElement("div");i.classList.add(S.valueValue),i.style.color=s.color.value()||"",i.appendChild(document.createTextNode(s.value.value()));const o=s.title.value();void 0!==o&&(i.classList.add("apply-common-tooltip"),i.title=o),t.appendChild(i),this._valuesElements.push({value:i}),e.appendChild(t)}}_updateValuesTitleHTMLElHandler(e,t=""){const s=(0,n.ensure)(this._valuesElements[e].value);s.classList.toggle("apply-common-tooltip",0!==t.length),s.title=t}_update5ButtonsStyles(e){null!==this._el&&(this._el.classList.toggle(S.has5Buttons,e),this._updateAllButtonsWidth())}_onWheelClicked(e){1===e.button&&this._model.onRemoveSource()}}var R=s(444372),O=s(345848);function z(e){(0,O.trackEvent)("GUI","Legend action",e)}var F=s(947036),U=s(662920),G=s(65300),j=s(736885);const Z=R.t(null,void 0,s(721686)),$=R.t(null,void 0,s(328705)),q=R.t(null,void 0,s(551072));class X{constructor(e,t,s){this._el=null,this._counterEl=null,this._arrowIconEL=null,this._objectTreeEl=null,this._mode=0,this._parentEl=e,this._themedColor=t.spawn(),this._themedColor.subscribe(this._updateThemedColor.bind(this)),this._showCollapserWithOneIndicator=s.showCollapserWithOneIndicator.spawn(),this._showCollapserWithOneIndicator.subscribe(this._updateSourceCount.bind(this)),this._sourceCount=s.visibleDataSourceCount.spawn(),this._sourceCount.subscribe(this._updateSourceCount.bind(this)),this._isStateOpen=s.isDataSourcesCollapsed.spawn(),this._isStateOpen.subscribe(this._updateState.bind(this)),this._showObjectsTree=s.showObjectsTree.spawn(),this._showObjectsTree.subscribe(this._updateObjectTreeVisibility.bind(this)),this._render(),this._updateState(),this._updateThemedColor(this._themedColor.value()),this._updateObjectTreeVisibility(this._showObjectsTree.value()),this._toggleStateHandler=(0,b.wrapHandlerWithPreventEvent)(s.onCollapseDataSources),this._showObjectTreeHandler=(0,b.wrapHandlerWithPreventEvent)(s.onShowObjectsTreeDialog),null!==this._el&&(this._el.addEventListener("touchend",this._toggleStateHandler),this._el.addEventListener("click",this._toggleStateHandler),this._el.addEventListener("contextmenu",(e=>{e.preventDefault(),
e.stopPropagation()}))),null!==this._objectTreeEl&&(this._objectTreeEl.addEventListener("touchend",this._showObjectTreeHandler),this._objectTreeEl.addEventListener("click",this._showObjectTreeHandler))}destroy(){this._sourceCount.destroy(),this._isStateOpen.destroy(),this._showCollapserWithOneIndicator.destroy(),null!==this._objectTreeEl&&(this._objectTreeEl.removeEventListener("touchend",this._showObjectTreeHandler),this._objectTreeEl.removeEventListener("click",this._showObjectTreeHandler),this._objectTreeEl=null),this._arrowIconEL=null,this._counterEl=null,null!==this._el&&(this._el.removeEventListener("touchend",this._toggleStateHandler),this._el.removeEventListener("click",this._toggleStateHandler),this._el.innerHTML="",this._el=null)}setMode(e){this._mode=e?1:0,this._updateTooltip()}_render(){this._el=document.createElement("div"),this._el.className=`${S.toggler} apply-common-tooltip`,this._arrowIconEL=document.createElement("div"),this._arrowIconEL.classList.add(S.iconArrow),this._arrowIconEL.innerHTML=_.trackingModeIsAvailable?U:F,this._el.appendChild(this._arrowIconEL),this._objectTreeEl=document.createElement("div"),this._objectTreeEl.classList.add(S.objectTree),this._objectTreeEl.innerHTML=_.trackingModeIsAvailable?j:G,this._el.appendChild(this._objectTreeEl),this._counterEl=document.createElement("div"),this._counterEl.classList.add(S.counter),this._counterEl.appendChild(document.createTextNode(String(this._sourceCount.value()))),this._el.appendChild(this._counterEl),this._parentEl.appendChild(this._el)}_updateThemedColor(e){if(null!==this._el)if(e.length>0){const[t,s,i]=(0,r.parseRgb)(e);this._el.style.backgroundColor=(0,r.rgbaToString)([t,s,i,(0,r.normalizeAlphaComponent)(.8)])}else this._el.style.removeProperty("background-color")}_updateSourceCount(){const e=this._sourceCount.value(),t=(0,n.ensureNotNull)(this._counterEl);(0,h.updateTextNode)(t,String(e));const s=(0,n.ensureNotNull)(this._el),i=e<1;s.classList.toggle(f.blockHidden,i);const o=1===e;s.classList.toggle(S.onlyOneSourceShown,o&&!this._showCollapserWithOneIndicator.value())}_updateState(){const e=!this._isStateOpen.value();this._parentEl.classList.toggle(S.closed,e),this._updateTooltip(),z((e?"Hide":"Show")+" not main sources")}_tooltip(){return 1===this._mode?q:this._isStateOpen.value()?Z:$}_updateTooltip(){null!==this._el&&this._el.setAttribute("title",this._tooltip())}_updateObjectTreeVisibility(e){(0,n.ensureNotNull)(this._el).classList.toggle(S.objectsTreeCanBeShown,e)}}var J=s(309103);const K=_.trackingModeIsAvailable?44:28,Q=u.enabled("object_tree_legend_mode");class Y{constructor(e,t){this._renderToggler=null,this._mainDataSourceRenderer=null,this._dataSourceRenderers=[],this._parentEl=document.createElement("div"),this._mainDataSourceEl=null,this._dataSourcesEl=null,this._dataSourcesAdditionalWrapperEl=null,this._collapsedDataSourcesWrapperEl=null,this._collapsedDataSourcesEl=null,this._outsideEventForCollapsedTooltip=null,this._options=e,this._togglerOptions=t,this._isStudiesLegendHidden=e.isStudiesLegendHidden.spawn(),
this._isStudiesLegendHidden.subscribe(this._updateLegendVisibility.bind(this)),this._isAllLegendHidden=e.isAllLegendHidden.spawn(),this._isAllLegendHidden.subscribe(this._updateLegendVisibility.bind(this)),this._updateLegendVisibility(),this._hideAllExceptFirstLine=e.hideAllExceptFirstLine.spawn(),this._hideAllExceptFirstLine.subscribe(this._updateAllHiddenExeptFirstLine.bind(this)),this._themedColor=e.themedColor.spawn(),this._themedColor.subscribe(this._setCustomBg.bind(this)),this._showBackground=e.showBackground.spawn(),this._showBackground.subscribe(this._setCustomBg.bind(this)),this._backgroundTransparency=e.backgroundTransparency.spawn(),this._backgroundTransparency.subscribe(this._setCustomBg.bind(this)),this._collapsedDataSourcesCountSpawn=e.collapsedDataSourcesCount.spawn(),this._collapsedDataSourcesCountSpawn.subscribe(this._updateCollapsedSourcesCount.bind(this)),this._showCollapsedDataSourcesTooltipHandler=this._showCollapsedDataSourcesTooltip.bind(this),this._parentEl.classList.add(S.legend),this._parentEl.classList.toggle(S.noWrap,!_.trackingModeIsAvailable),this._parentEl.classList.toggle(S.noActions,!this._options.withActions),this._parentEl.classList.toggle(S.touchMode,_.trackingModeIsAvailable),this._parentEl.classList.toggle(S.wrappable,!this._hideAllExceptFirstLine.value()),this._parentEl.dataset.name="legend",this._parentEl.style.setProperty("--legend-source-item-button-width",`${K}px`),p.PLATFORM_ACCESSIBILITY_ENABLED&&this._parentEl.setAttribute("aria-hidden","true");const s=t=>{t.preventDefault(),e.showLegendWidgetContextMenu(t)};this._mouseEventHandler=new v.MouseEventHandler(this._parentEl,{contextMenuEvent:s,touchContextMenuEvent:s})}destroy(){if(this._isStudiesLegendHidden.destroy(),this._isAllLegendHidden.destroy(),this._hideAllExceptFirstLine.destroy(),this._themedColor.destroy(),this._showBackground.destroy(),this._backgroundTransparency.destroy(),this._collapsedDataSourcesCountSpawn.destroy(),_.trackingModeIsAvailable&&null!==this._collapsedDataSourcesWrapperEl&&this._collapsedDataSourcesWrapperEl.removeEventListener("touchend",this._showCollapsedDataSourcesTooltipHandler),this._outsideEventForCollapsedTooltip&&this._outsideEventForCollapsedTooltip(),null!==this._dataSourcesAdditionalWrapperEl&&(this._dataSourcesAdditionalWrapperEl.innerHTML="",this._dataSourcesAdditionalWrapperEl=null),null!==this._dataSourcesEl&&(this._dataSourcesEl.innerHTML="",this._dataSourcesEl=null),null!==this._renderToggler&&(this._renderToggler.destroy(),this._renderToggler=null),null!==this._mainDataSourceRenderer&&(this._mainDataSourceRenderer.destroy(),this._mainDataSourceRenderer=null),0!==this._dataSourceRenderers.length){for(const e of this._dataSourceRenderers)e.destroy();this._dataSourceRenderers=[]}this._mouseEventHandler.destroy(),this._parentEl.innerHTML="",delete this._parentEl}addMainDataSource(e,t){this._renderMainDataSourceEl(),this._mainDataSourceRenderer=new B(e,(0,n.ensureNotNull)(this._mainDataSourceEl),{withActions:this._options.withActions,customTextColor:this._options.customTextColor,
statusWidgetEl:t.getElement(),hideInvisibleHover:t.visibility(),hideValues:t.errorWidgetIsShown}),this._updateLegendVisibility(),e.onDestroy().subscribe(this,(()=>{null!==this._mainDataSourceRenderer&&(this._mainDataSourceRenderer.destroy(),this._mainDataSourceRenderer=null)}),!0)}addDataSources(e,t){this._renderDataSourcesEl();const s=(0,n.ensureNotNull)(this._dataSourcesAdditionalWrapperEl);for(let i=0;i<e.length;i++){const o=e[i],n=new I(o,s,{withActions:this._options.withActions,customTextColor:this._options.customTextColor,statusWidgetEl:t[i].getElement(),hideInvisibleHover:t[i].visibility(),hideValues:t[i].errorWidgetIsShown});this._dataSourceRenderers.push(n),this._updateLegendVisibility(),o.onDestroy().subscribe(this,(()=>{const e=this._dataSourceRenderers.indexOf(n);-1!==e&&(this._dataSourceRenderers[e].destroy(),this._dataSourceRenderers.splice(e,1))}),!0)}}addCustomWidget(e,t){if(0===t.block){this._renderMainDataSourceEl();const s=(0,n.ensureNotNull)(this._mainDataSourceEl);1===t.position&&e.renderTo(s,s.firstChild),0===t.position&&e.renderTo(s)}if(1===t.block){this._renderDataSourcesEl();const s=(0,n.ensureNotNull)(this._dataSourcesAdditionalWrapperEl);1===t.position&&e.renderTo(s,s.firstChild),0===t.position&&e.renderTo(s)}}firstTitle(){return this._parentEl.firstElementChild}getElement(){return this._parentEl}updateMode(e){const t=Q&&e<133?1:e<205?2:e<222?3:4;null!==this._mainDataSourceRenderer&&this._mainDataSourceRenderer.updateMode(t);for(const e of this._dataSourceRenderers)e.updateMode(t);this._parentEl.classList.toggle(S.medium,3===t),this._parentEl.classList.toggle(S.minimized,2===t),this._parentEl.classList.toggle(S.micro,1===t),null!==this._renderToggler&&this._renderToggler.setMode(1===t);{const t=e<442;this._parentEl.classList.toggle(S.hideExchangeProviderTitles,t);const s=e<192;this._parentEl.classList.toggle(S.microHideIntervalTitle,s);const i=e<442;this._parentEl.classList.toggle(S.minHideIntervalTitle,i)}const s=!this._hideAllExceptFirstLine.value()&&(_.trackingModeIsAvailable||e<542);this._parentEl.classList.toggle(S.directionColumn,s),this._parentEl.classList.toggle(S.hideUniportantValueItems,!c.CheckMobile.any()&&e<=272)}getMainSourceHeight(){return null===this._mainDataSourceRenderer?0:this._mainDataSourceRenderer.getHeight()}getDataSourceHeight(){return 0===this._dataSourceRenderers.length?0:this._dataSourceRenderers[0].getHeight()}_renderMainDataSourceEl(){null===this._mainDataSourceEl&&(this._mainDataSourceEl=document.createElement("div"),this._mainDataSourceEl.classList.add(S.legendMainSourceWrapper),this._parentEl.insertBefore(this._mainDataSourceEl,this._dataSourcesEl))}_renderDataSourcesEl(){null===this._dataSourcesEl&&(this._dataSourcesEl=document.createElement("div"),this._dataSourcesEl.classList.add(S.sourcesWrapper),this._renderToggle(this._dataSourcesEl),this._dataSourcesAdditionalWrapperEl=document.createElement("div"),this._dataSourcesAdditionalWrapperEl.classList.add(S.sources),this._dataSourcesEl.appendChild(this._dataSourcesAdditionalWrapperEl),
this._renderCollapsedCounter(this._dataSourcesAdditionalWrapperEl),this._parentEl.appendChild(this._dataSourcesEl))}_renderToggle(e){this._options.showToggleButton&&(this._renderToggler=new X(e,this._options.themedColor,this._togglerOptions))}_renderCollapsedCounter(e){this._collapsedDataSourcesWrapperEl=document.createElement("div"),this._collapsedDataSourcesWrapperEl.className=`${S.item} ${S.last}`,this._collapsedDataSourcesEl=document.createElement("span"),this._collapsedDataSourcesEl.className=`${S.text} apply-common-tooltip`,this._collapsedDataSourcesWrapperEl.append(this._collapsedDataSourcesEl),e.append(this._collapsedDataSourcesWrapperEl),_.trackingModeIsAvailable&&this._collapsedDataSourcesWrapperEl.addEventListener("touchend",this._showCollapsedDataSourcesTooltipHandler),this._updateCollapsedSourcesCount(this._collapsedDataSourcesCountSpawn.value())}_showCollapsedDataSourcesTooltip(){(0,J.showOnElement)(this._collapsedDataSourcesEl,{text:this._options.collapsedDataSourcesTitle.value()}),this._addOutsideEventForHideTooltip()}_addOutsideEventForHideTooltip(){null!==this._outsideEventForCollapsedTooltip&&this._outsideEventForCollapsedTooltip(),this._outsideEventForCollapsedTooltip=(0,d.addOutsideEventListener)(new CustomEvent("timestamp").timeStamp,this._collapsedDataSourcesWrapperEl,(()=>{null!==this._outsideEventForCollapsedTooltip&&this._outsideEventForCollapsedTooltip(),(0,J.hide)()}),window.document,{touchEnd:!0})}_updateCollapsedSourcesCount(e){if(null===this._collapsedDataSourcesWrapperEl||null===this._collapsedDataSourcesEl)return;const t=0===e;this._collapsedDataSourcesWrapperEl.classList.toggle(f.blockHidden,t),t||((0,h.updateTextNode)(this._collapsedDataSourcesEl,`+${e}`),this._collapsedDataSourcesEl.setAttribute("title",this._options.collapsedDataSourcesTitle.value()))}_updateLegendVisibility(){this._parentEl.classList.toggle(f.blockHidden,this._isAllLegendHidden.value()),null!==this._dataSourcesEl&&this._dataSourcesEl.classList.toggle(f.blockHidden,this._isStudiesLegendHidden.value())}_updateAllHiddenExeptFirstLine(){this._parentEl.classList.toggle(S.wrappable,!this._hideAllExceptFirstLine.value())}_setCustomBg(){const e=this._showBackground.value(),t=this._themedColor.value(),s=this._backgroundTransparency.value();let i="";if(e){const[e,o,n]=(0,r.parseRgb)(t);i=(0,r.rgbaToString)([e,o,n,(0,r.normalizeAlphaComponent)(1-s/100)])}this._parentEl.style.color=i}}var ee=s(461794),te=s(837032);var se=s(230296),ie=s(560420),oe=s(246733),ne=s(809796),le=s(707957),ae=s(31341),re=s(66732),de=s(982217);function ue(e){return void 0!==e?oe.resetTransparency(e):e}const ce=new ne.TranslatedString("show {title}",R.t(null,void 0,s(787358))),he=new ne.TranslatedString("hide {title}",R.t(null,void 0,s(470301))),pe=R.t(null,void 0,s(581428)),_e=R.t(null,void 0,s(831971));class me{constructor(e,t,s,i,o){this._values=new l.WatchedValue([]),this._actions=[],this._onDestroy=new le.Delegate,this._loading=new l.WatchedValue(!1),this._symbolLogoViewModel=new l.WatchedValue(null),this._moreActionCM=null,
this._updateLoadingStatus=()=>{this._loading.setValue(this._source.isLoading())},this._model=e,this._source=t,this._options=s,this._callbacks=i,this._contextMenuOptions=o,this._disabled=new l.WatchedValue(this._getDisabledState()),this._disabledOnInterval=new l.WatchedValue(this._getDisabledOnIntervalState()),this._selected=new l.WatchedValue(!1),this._isTitleHidden=new l.WatchedValue(this._getTitleHiddenValue()),this._isValuesHidden=new l.WatchedValue(this._getValuesHiddenValue()),this._isRowHidden=new l.WatchedValue(this._getRowHiddenValue()),this._isEditable=new l.WatchedValue(this._getIsEditable()),(0,re.combine)((()=>({})),this._isTitleHidden.weakReference(),this._isValuesHidden.weakReference(),this._disabled.weakReference()).subscribe(this._updateRowVisibilities.bind(this)),this._values.subscribe((()=>{this._isValuesHidden.setValue(this._getValuesHiddenValue())}))}destroy(){var e;null===(e=this._symbolLogoViewModel.value())||void 0===e||e.destroy()}onDestroy(){return this._onDestroy}titles(){return this._titles}titleActions(){return this._titleActions}values(){return this._values.readonly()}actions(){return this._actions}disabled(){return this._disabled.readonly()}disabledOnInterval(){return this._disabledOnInterval.readonly()}selected(){return this._selected.readonly()}loading(){return this._loading.readonly()}isTitleHidden(){return this._isTitleHidden.readonly()}isValuesHidden(){return this._isValuesHidden.readonly()}isRowHidden(){return this._isRowHidden.readonly()}isEditable(){return this._isEditable.readonly()}symbolLogoViewModel(){return this._symbolLogoViewModel}update(){var e,t;this._updateTitles(),this._updateValues(),this._updateStates(),null===(t=null===(e=this.symbolLogoViewModel())||void 0===e?void 0:e.value())||void 0===t||t.update()}updateSource(e){this._source!==e&&(this._source=e,this.update(),this._isTitleHidden.setValue(this._getTitleHiddenValue()),this._isValuesHidden.setValue(this._getValuesHiddenValue()))}onToggleDisabled(){const e=this._source.properties().childs().visible,t=!e.value();this._model.setProperty(e,t,(t?ce:he).format({title:new ne.TranslatedString(this._source.name(),this._source.title(de.TitleDisplayTarget.StatusLine))})),z((t?"Show":"Hide")+" source")}onShowSettings(e){this._source.userEditEnabled()&&(this.setSourceSelected(),this._callbacks.showChartPropertiesForSource(this._source,e),z("Settings for source"))}onShowMoreActions(e){return this._options.readOnlyMode?Promise.resolve(null):(this._callbacks.updateActions(),z("Show source context menu"),this._callbacks.showContextMenuForSources([this._source],this._calcNewPosition(e),this._contextMenuOptions,{origin:"LegendPropertiesContextMenu"}))}setSourceSelected(){this._model.selectionMacro((e=>{e.clearSelection(),e.addSourceToSelection(this._source)}))}_moreActionHandler(e){e.preventDefault(),null!==this._moreActionCM&&this._moreActionCM.isShown()?this._moreActionCM=null:(this.setSourceSelected(),this.onShowMoreActions(e).then((e=>{this._moreActionCM=e})))}_updateStates(){this._disabled.setValue(this._getDisabledState()),
this._disabledOnInterval.setValue(this._getDisabledOnIntervalState()),this._selected.setValue(this._model.selection().isSelected(this._source)),this._isEditable.setValue(this._getIsEditable()),this._updateLoadingStatus()}_hasValues(){return this._values.value().length>0}_getEyeTitle(){return this._disabled.value()?pe:_e}_getIsEditable(){return this._source.userEditEnabled()}_getDisabledState(){return!this._source.properties().visible.value()}_updateRowVisibilities(){this._isRowHidden.setValue(this._getRowHiddenValue())}_getRowHiddenValue(){return this._options.readOnlyMode&&this._disabled.value()||this._isTitleHidden.value()&&(this._isValuesHidden.value()||this._disabled.value())}_calcNewPosition(e){let t={};if(e.hasOwnProperty("touches")&&e.touches.length>0)t={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY};else if(null!==e.target){const s=e.target.getBoundingClientRect();t={clientX:(0,ae.isRtl)()?s.right:s.left,clientY:s.top+s.height+3}}else{const s=e;t={clientX:s.clientX,clientY:s.clientY}}return t}}var ge=s(345890),ve=s(94196),be=s(861814),ye=s(328530),we=s(373571),Se=s(783375),fe=s(12943),Ce=s(686303);class Ee{constructor({linkingGroupIndex:e,isLinkingAvailable:t,onClickHandler:i,setLinkingGroupIndex:o}){this._contextMenu=null,this._isDestroyed=!1,this._linkingModeSubscription=e=>{if(null===e)return void(this._legendActionButtonElem.innerHTML=ve);const t=document.createElement("img");t.src=(0,ye.getTwemojiUrl)(fe.icons[e],"svg"),t.width=t.height=18,this._legendActionButtonElem.replaceChildren(t)},this._setLinkingGroupIndexImpl=async e=>{this._setLinkingGroupIndex(e===this._linkingGroupIndex.value()?null:e);const t=await this._contextMenu;null!==t&&t.isShown()&&t.hide()},this._showContextMenu=async e=>{var t;e.preventDefault();const s=e.currentTarget;if(!(s&&s instanceof HTMLElement))return;null===(t=this._onClickHandler)||void 0===t||t.call(this),null===this._contextMenu&&(this._contextMenu=this._createContextMenu());const i=await this._contextMenu;if(null!==i)if(i.isShown())i.hide();else{const{left:e,bottom:t}=s.getBoundingClientRect();i.show({clientX:e,clientY:t})}},this._linkingGroupIndex=e.spawn(),this._isLinkingAvailable=t.spawn(),this._onClickHandler=i,this._setLinkingGroupIndex=o;const n=this._legendActionButtonElem=document.createElement("span");n.className=Ce.legendActionButton,this._action={iconMap:new Map([["large",n],["small",n]]),title:new l.WatchedValue(R.t(null,void 0,s(905736))),action:this._showContextMenu,visible:new l.WatchedValue(!1),className:S.linking,dataset:{name:"legend-layout-chart-sync-action"}},this._linkingGroupIndex.subscribe(this._linkingModeSubscription,{callWithLast:!0}),this._isLinkingAvailable.subscribe((e=>this._action.visible.setValue(e)),{callWithLast:!0})}destroy(){var e;this._isDestroyed=!0,this._linkingGroupIndex.destroy(),this._isLinkingAvailable.destroy(),null===(e=this._contextMenu)||void 0===e||e.then((e=>e&&e.isShown()&&e.hide()))}getAction(){return this._action}async _createContextMenu(){
const[e,{LayoutChartsSyncContextMenuTitle:t},{LayoutChartsSyncContextMenuItem:i}]=await Promise.all([Promise.resolve().then(s.t.bind(s,50959,19)),Promise.all([s.e(68992),s.e(81643),s.e(18182),s.e(9988),s.e(10184)]).then(s.bind(s,193573)),Promise.all([s.e(68992),s.e(81643),s.e(18182),s.e(9988),s.e(10184)]).then(s.bind(s,339148))]);if(this._isDestroyed)return null;const o=fe.icons.map(((e,t)=>new we.Action({actionId:"Chart.LinkingGroupSync.ChangeGroup",options:{label:e,checkable:!0,checked:this._linkingGroupIndex.value()===t,onExecute:()=>this._setLinkingGroupIndexImpl(t)}})));this._linkingGroupIndex.subscribe((e=>{o.forEach(((t,s)=>{t.update({checked:s===e})}))}));const n=new we.Action({actionId:"Chart.LinkingGroupSync",options:{icon:be,label:R.t(null,void 0,s(680818)),subItems:o},customActionOptions:{jsxLabel:e.createElement(e.Fragment,null,e.createElement(t,null),e.createElement(i,{active:this._linkingGroupIndex,icons:fe.icons,onClick:this._setLinkingGroupIndexImpl})),doNotCloseOnClick:!0,noInteractive:!0}});return Se.ContextMenuManager.createMenu([n],{},{menuName:"SymbolIntervalChartSyncingMenu"})}}var Me=s(533699),xe=s(607546),ke=s(849204),Le=s(824837),Ve=s(407478);const De=new Ve.CircularCacheBuffer(100);class Te{constructor(e,t){this._symbolLogoUrls=new l.WatchedValue([]),this._quoteDataForLogos=null,this._logoDataUpdated=()=>{var e;const t=this.symbol(),s=this._logoData.value();s&&t&&De.set(t,s);const i=De.get(t);this._quoteDataForLogos=(0,a.merge)(null!=i?i:{},null!==(e=this._logoData.value())&&void 0!==e?e:{}),this._symbolLogoUrls.setValue((0,xe.removeUsdFromCryptoPairLogos)((0,xe.resolveLogoUrls)(this._quoteDataForLogos,ke.LogoSize.Medium)))},this._logoModel=e,this._isLogoVisible=(0,Le.createWVFromGetterAndSubscription)((()=>t.showLogo.value()),t.showLogo),this._logoData=this._logoModel.logoData().spawn(),this._logoData.subscribe(this._logoDataUpdated,{callWithLast:!0})}destroy(){this._isLogoVisible.destroy(),this._logoModel.destroy()}isSymbolLogoVisible(){return this._isLogoVisible}symbolLogoUrls(){return this._symbolLogoUrls}symbol(){return this._logoModel.symbol()}update(){this._logoModel.update()}}function Ae(e,t){return new Te(e,t)}var We=s(794349);const Pe=(0,s(194582).getLogger)("Chart.LegendWidget");function He(e){const t={};for(const s of["logoid","currency-logoid","base-currency-logoid"])if(s in e){const i=s;t[i]=e[i]}return t}class Be{constructor(e){this._logoData=new l.WatchedValue(null),this._prevSymbol="",this._source=e,this._source.quotesProvider().quotesUpdate().subscribe(this,this._onQuoteSymbolDataUpdated),this.update()}destroy(){this._source.quotesProvider().quotesUpdate().unsubscribeAll(this)}symbol(){return this._source.symbol()}logoData(){return this._logoData}update(){const e=this.symbol();this._prevSymbol!==e&&(this._prevSymbol=e,this._onSourceSymbolChange())}_onQuoteSymbolDataUpdated(e,t){const s=t.values;!this._source.symbolSameAsCurrent(e.values.pro_name)||void 0===s.logoid&&void 0===s["currency-logoid"]&&void 0===s["base-currency-logoid"]||this._logoData.setValue(He(s))}
async _onSourceSymbolChange(){const e=this.symbol();let t=null;try{this._logoData.setValue(null),t=await this._source.quotesProvider().quotesSnapshot(e)}catch(e){Pe.logError(`Quote snapshot error: ${e}`)}finally{this.symbol()===e&&(null===t?this._logoData.setValue(null,!0):this._logoData.setValue(He(t)))}}_onSourceSymbolResolved(){0}}var Ne=s(754336),Ie=s(841674),Re=s(387258),Oe=s(645534);const ze=R.t(null,void 0,s(141610)),Fe=R.t(null,void 0,s(593666)),Ue=R.t(null,void 0,s(608209)),Ge=R.t(null,void 0,s(423398)),je=R.t(null,void 0,s(556934)),Ze=R.t(null,void 0,s(699374)),$e=u.enabled("legend_inplace_edit"),qe=u.enabled("show_hide_button_in_legend"),Xe=u.enabled("hide_resolution_in_legend"),Je=u.enabled("marked_symbols"),Ke=!c.CheckMobile.any();class Qe extends me{constructor(e,t,s,i,o){super(e,t,s,i,o),this._titles={title:new l.WatchedValue(""),description:new l.WatchedValue(""),interval:new l.WatchedValue(""),provider:new l.WatchedValue(""),exchange:new l.WatchedValue(""),chartStyle:new l.WatchedValue(""),priceSource:new l.WatchedValue("")},this._titleActions={title:void 0,description:void 0,interval:void 0,provider:void 0,exchange:void 0,chartStyle:void 0,priceSource:void 0},this._symbolMarker=null,this._symbolMarkerIcon=null,this._flagged=new l.WatchedValue(null),this._symbolAction=null,this._symbolForMarker=null,this._isOneButtonCanBeStick=!1,this._layoutChartSyncLegendRenderer=null,this._isChartLinked=new l.WatchedValue(!1).readonly().spawn(),Ke&&(this._isLayoutChartSyncVisible=(0,re.combine)(((e,t,s)=>e&&(t||s)),this._model.isMultipleLayout().weakReference(),this._model.chartWidgetCollectionLock().symbol.weakReference(),this._model.chartWidgetCollectionLock().interval.weakReference()),this._isChartLinked=(0,re.combine)(((e,t)=>t&&null!==e),this._model.model().linkingGroupIndex().weakReference(),(this._isLayoutChartSyncVisible||new l.WatchedValue(!1)).weakReference())),this._initializeTitleActions(),this._createActions(),this._updateSymbolMarker();const n=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs();this._symbolLogoViewModel.setValue(Ae(new Be(t),n)),n.showSeriesTitle.subscribe(this,(()=>{this._isTitleHidden.setValue(this._getTitleHiddenValue())})),this._isPriceSourceHidden=(0,te.createWVFromGetterAndSubscription)((()=>!n.showPriceSource.value()),n.showPriceSource),this._valuesVisibleProperty=(0,te.combineProperty)(((e,t,s,i)=>e||t||s||i),n.showSeriesOHLC.weakReference(),n.showBarChange.weakReference(),n.showVolume.weakReference(),n.showLastDayChange.weakReference()),this._valuesVisibleProperty.subscribe(null,(()=>{this._isValuesHidden.setValue(this._getValuesHiddenValue())})),this.update(),this._source.onStatusChanged().subscribe(this,this._updateLoadingStatus)}destroy(){var e,t;Ke&&(null===(e=this._layoutChartSyncLegendRenderer)||void 0===e||e.destroy(),this._isChartLinked.destroy(),null===(t=this._isLayoutChartSyncVisible)||void 0===t||t.destroy()),super.destroy(),
this._model.model().properties().childs().paneProperties.childs().legendProperties.childs().showSeriesTitle.unsubscribeAll(this),this._source.onStatusChanged().unsubscribeAll(this),this._valuesVisibleProperty.destroy(),this._isPriceSourceHidden.destroy(),this._onDestroy.fire()}flagged(){return this._flagged}linked(){return this._isChartLinked}onShowSettings(){this._source.userEditEnabled()&&this._callbacks.showGeneralChartProperties(We.TabNames.symbol)}isOneButtonCanBeStick(){return this._isOneButtonCanBeStick}_updateTitles(){const e=(0,n.ensureNotNull)(this._source.statusView()).getSplitTitle();this._titles.title.setValue((0,ee.clean)(e.title,!0)),this._titles.description.setValue((0,ee.clean)(e.description,!0)),Xe||this._titles.interval.setValue((0,ee.clean)(e.interval,!0)),this._titles.provider.setValue((0,ee.clean)(e.provider,!0)),this._titles.exchange.setValue((0,ee.clean)(e.exchange,!0)),this._titles.chartStyle.setValue((0,ee.clean)(e.chartStyle,!0)),this._titles.priceSource.setValue((0,ee.clean)(this._isPriceSourceHidden.value()?"":e.priceSource,!0))}_updateValues(){const e=this._source.legendView(),t=this._values.value(),s=e.marketTitle(),i=e.marketTitle().length>0;if(0===t.length){const t={value:new l.WatchedValue(""),color:new l.WatchedValue(""),visible:new l.WatchedValue(i),title:new l.WatchedValue(s),unimportant:new l.WatchedValue(!1)},o=e.items().map((e=>({value:new l.WatchedValue(e.value()),color:new l.WatchedValue(ue(e.color())),visible:new l.WatchedValue(e.visible()),title:new l.WatchedValue(e.title()),unimportant:new l.WatchedValue(e.unimportant())})));this._values.setValue([t].concat(o))}else{t[0].title.setValue(s),t[0].visible.setValue(i);const o=e.items();for(let e=0;e<o.length;e++){const s=o[e];t[e+1].value.setValue(s.value()),t[e+1].color.setValue(ue(s.color())),t[e+1].visible.setValue(s.visible()),t[e+1].title.setValue(s.title())}}}_updateStates(){super._updateStates(),this._updateSymbolMarker()}_getDisabledOnIntervalState(){return!1}_getTitleHiddenValue(){return!this._model.model().properties().childs().paneProperties.childs().legendProperties.childs().showSeriesTitle.value()}_getValuesHiddenValue(){return!this._hasValues()||!this._valuesVisibleProperty.value()}_initializeTitleActions(){if(!$e)return;const e=()=>{const e=this._model.mainSeries(),t=e.symbol(),s=e.properties().childs().shortName.value();(0,ie.showDialog)({defaultValue:e.isSpread()?t:s||t||""})};this._titleActions.title={onClick:e,tooltip:Ge},this._titleActions.description={onClick:e,tooltip:je},this._titleActions.interval={onClick:()=>{(0,se.showChangeIntervalDialogAsync)({initVal:this._model.mainSeries().interval(),selectOnInit:!0})},tooltip:Ze}}_createActions(){if(Je&&this._options.symbolMarkerEnabled){const e=document.createElement("div");e.classList.add(S.markerContainer),this._symbolMarkerIcon=e,this._symbolAction={iconMap:new Map([["large",e],["small",e]]),action:(0,b.wrapHandlerWithPreventEvent)(this._symbolActionHandler.bind(this)),visible:new l.WatchedValue(!0),className:S.flag,
title:new l.WatchedValue(this._getMarkerTitle()),dataset:{name:"legend-flag-action"}},this._actions.push(this._symbolAction)}if(Ke&&this._isLayoutChartSyncVisible&&(this._layoutChartSyncLegendRenderer=new Ee({linkingGroupIndex:this._model.model().linkingGroupIndex().readonly(),setLinkingGroupIndex:e=>this._model.setLinkingGroupIndex(e),isLinkingAvailable:this._isLayoutChartSyncVisible,onClickHandler:()=>this.setSourceSelected()}),this._actions.push(this._layoutChartSyncLegendRenderer.getAction())),qe){const e=function(e){const t=new l.WatchedValue(e.value());let s=!1;e.subscribe(t,(()=>{s||(s=!0,t.setValue(e.value()),s=!1)}));const i=()=>{s||(s=!0,e.setValue(t.value()),s=!1)};return t.subscribe(i),t.spawn((()=>{e.unsubscribeAll(t),t.unsubscribe(i)}))}((0,te.combineProperty)((e=>!e),this._source.properties().childs().visible.weakReference())),t={iconMap:new Map([["large",Ie],["small",Ne]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onToggleDisabled.bind(this)),visible:e,className:S.eye,title:new l.WatchedValue(this._getEyeTitle()),dataset:{name:"legend-show-hide-action"}};this._actions.push(t),this._disabled.subscribe((()=>{t.title.setValue(this._getEyeTitle())}))}this._actions.push({iconMap:new Map([["large",Oe],["small",Re]]),action:this._moreActionHandler.bind(this),visible:new l.WatchedValue(!0),title:new l.WatchedValue(ze),dataset:{name:"legend-more-action"}})}_getMarkerTitle(){return null!==this._symbolMarker?this._symbolMarker.isMarked()?Ue:Fe:""}_symbolActionHandler(){null!==this._symbolMarker&&(this._updateSymbolMarker(),z("Change flag state"))}_updateSymbolMarker(){var e,t;if(Je&&this._options.symbolMarkerEnabled){const s=(0,n.ensureNotNull)(this._symbolAction),i=(0,n.ensureNotNull)(this._symbolMarkerIcon),o=null!==(t=null===(e=this._model.model().mainSeries().symbolInfo())||void 0===e?void 0:e.pro_name)&&void 0!==t?t:this._model.model().mainSeries().symbol();this._symbolMarker?this._symbolForMarker!==o&&(this._symbolMarker.bindTo(o,i),this._symbolForMarker=o):(this._symbolMarker=(0,ge.createSymbolMarkerStandalone)({symbol:o,container:i,specialImage:Me,className:S.flagWrapper,onMarkedChanged:()=>this._updateSymbolMarker()}),this._symbolForMarker=o),this._flagged.setValue(this._symbolMarker.isMarked());(0,n.ensureDefined)(s.title).setValue(this._getMarkerTitle())}else this._isOneButtonCanBeStick=!0}}var Ye=s(373017),et=s(663554),tt=s(827710),st=s(7195),it=s(981107),ot=s(943855),nt=s(34831),lt=s(972680),at=s(251954),rt=s(854798),dt=s(516684),ut=s(566119),ct=s(791488),ht=s(33900),pt=s(201089),_t=s(583637),mt=s(34882),gt=s(488658),vt=s(252506);const bt=(0,
pt.getLogger)("Chart.LegendWidget"),yt=R.t(null,void 0,s(389517)),wt=R.t(null,void 0,s(966324)),St=R.t(null,void 0,s(734596)),ft=R.t(null,void 0,s(141610)),Ct=R.t(null,void 0,s(482751)),Et=R.t(null,void 0,s(189790)),Mt=R.t(null,void 0,s(337809)),xt=R.t(null,void 0,s(423398)),kt=u.enabled("study_buttons_in_legend"),Lt=u.enabled("show_hide_button_in_legend"),Vt=u.enabled("property_pages"),Dt=u.enabled("format_button_in_legend"),Tt=u.enabled("delete_button_in_legend"),At=u.enabled("legend_inplace_edit");class Wt extends me{constructor(e,t,s,i,o){super(e,t,s,i,o),this._titles={title:new l.WatchedValue(""),args:new l.WatchedValue("")},this._titleActions={title:void 0,args:void 0},this._error=new l.WatchedValue(!1),this._isPineScriptDataSource=new l.WatchedValue(!1),this._pineAction=null,this._globalVisibility=new l.WatchedValue(!0),this._updateSymbolLogoModel(),this._initializeTitleActions(),this._createActions();const n=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs(),a=[n.showSeriesTitle,n.showStudyTitles];for(const e of a)e.subscribe(this,(()=>{this._isTitleHidden.setValue(this._getTitleHiddenValue())}));const r=[n.showSeriesOHLC,n.showBarChange,n.showStudyValues,n.showLastDayChange];for(const e of r)e.subscribe(this,(()=>{this._isValuesHidden.setValue(this._getValuesHiddenValue())}));this.update(),at.subscribe(ct.TV_SCRIPT_DELETED,this.update,this),this._updateAbleShowSourceCode()}destroy(){super.destroy();const e=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs();e.showSeriesTitle.unsubscribeAll(this),e.showStudyTitles.unsubscribeAll(this),e.showSeriesOHLC.unsubscribeAll(this),e.showBarChange.unsubscribeAll(this),e.showStudyValues.unsubscribeAll(this),e.showLastDayChange.unsubscribeAll(this),at.unsubscribe(ct.TV_SCRIPT_DELETED,this.update,this),this._onDestroy.fire()}error(){return this._error.readonly()}isPineScriptDataSource(){return this._isPineScriptDataSource.readonly()}updateSource(e){this._source!==e&&(this._values.setValue([]),super.updateSource(e),this._updateVisibilityPineAction(!1),this._updateAbleShowSourceCode(),this._updateSymbolLogoModel())}onRemoveSource(){this._source.isUserDeletable()&&(this._source.hasChildren()?(0,et.showDeleteStudyTreeConfirm)(this._model.removeSource.bind(this._model,this._source,!1)):this._model.removeSource(this._source,!1),z("Remove sources"))}onShowSourceCode(){if((0,Ye.isStudy)(this._source)){const e=this._source.metaInfo(),t=void 0!==e.pine?e.pine.version:"",s=e.scriptIdPart;Promise.resolve((0,dt.getPineSourceCode)(s,t)).then((e=>{const t=(0,n.ensureDefined)(e),i=rt.Version.parse(t.version),o=t.lastVersionMaj?rt.Version.parse(t.lastVersionMaj):new rt.Version(0,0),l={scriptSource:t.source,scriptIdPart:s,scriptName:t.scriptName,scriptTitle:t.scriptTitle,version:t.version,isOld:!o.isZero()&&o.major()!==i.major()};void 0!==window.TradingView.bottomWidgetBar&&window.TradingView.bottomWidgetBar.activateScriptEditorTab(l),z("Open source code for pine scripts")}),(e=>{bt.logError(e),(0,
ht.showNoticeDialog)({title:Ct,content:Et})}))}}setGlobalVisibility(e){this._globalVisibility.setValue(e)}globalVisibility(){return this._globalVisibility.readonly()}getFullTitle(){return[this._titles.title,this._titles.args].map((e=>e.value())).join(" ")}getSource(){return this._source}_updateTitles(){const e=(0,n.ensureNotNull)(this._source.statusView()).getSplitTitle();this._titles.title.setValue((0,ee.clean)(e[0],!0));const t=Array.isArray(e[1])?e[1].join(" "):e[1]||"";this._titles.args.setValue((0,ee.clean)(t,!0))}_updateValues(){const e=this._source.legendView();if(null===e)return;if(0===e.items().length)return;const t=this._values.value();if(0===t.length){const t=e.items().map((e=>({value:new l.WatchedValue(e.value()),color:new l.WatchedValue(ue(e.color())),visible:new l.WatchedValue(e.visible()),unimportant:new l.WatchedValue(e.unimportant()),title:new l.WatchedValue(e.title())})));this._values.setValue(t)}else{const s=e.items();for(let e=0;e<s.length;e++){const i=t[e],o=s[e];i.value.setValue(o.value()),i.color.setValue(ue(o.color())),i.visible.setValue(o.visible()),i.title.setValue(o.title())}}}_updateStates(){super._updateStates(),void 0!==this._error&&this._error.setValue(Boolean(this._source.isFailed()))}_getTitleHiddenValue(){const e=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs();return this._isSymbolLikeStudy()?!e.showSeriesTitle.value():!e.showStudyTitles.value()}_getDisabledOnIntervalState(){return!(!(0,Ye.isStudy)(this._source)&&!(0,Ye.isStudyStub)(this._source))&&!this._source.isActualInterval()}_getValuesHiddenValue(){if(!this._hasValues())return!0;const e=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs();return this._isSymbolLikeStudy()?!e.showSeriesOHLC.value()&&!e.showBarChange.value()&&!e.showLastDayChange.value():!e.showStudyValues.value()}_initializeTitleActions(){const e=this._source;if(!At||!(0,it.isSymbolSourceWithQuotesProvider)(e))return;this._titleActions.title={onClick:()=>{let t=null;const s=t=(0,nt.loadNewSymbolSearch)().then((i=>{var o;if(s!==t)return;const n=e.symbol(),l=(0,T.safeShortName)(n),a="spread"===(null===(o=e.symbolInfo())||void 0===o?void 0:o.type)?n:l||n||"",r=(0,lt.getSymbolSearchCompleteOverrideFunction)();i.showSymbolSearchItemsDialog({onSearchComplete:t=>{r(t[0].symbol,t[0].result).then((t=>{this._model.setSymbol(e,t.symbol)}))},dialogTitle:xt,defaultValue:a,showSpreadActions:u.enabled("show_spread_operators")&&u.enabled("studies_symbol_search_spread_operators")})}))},tooltip:xt}}_isSymbolLikeStudy(){return this._source instanceof st.study_Overlay||this._source instanceof ot.StudyCompare}_updateAbleShowSourceCode(){var e;if((0,Ye.isStudy)(this._source)&&kt&&this._options.canShowSourceCode){const t=this._source.metaInfo(),s=window.TradingView.isExistent(t.pine),i=t.scriptIdPart;if(s){const s=(null===(e=t.pine)||void 0===e?void 0:e.version)||"last";(0,ut.isAuthToGetPineSourceCode)(i,s).then((e=>{let t=!0;e||(t=!1),this._updateVisibilityPineAction(t)}),(e=>{
bt.logError("Failed isAuthToGetPineSourceCode, reason: "+e)}))}}}_updateVisibilityPineAction(e){null!==this._pineAction&&(this._pineAction.visible.setValue(e),this._isPineScriptDataSource.setValue(e))}_createActions(){if(this._options.readOnlyMode)return;if(this._pineAction={iconMap:new Map([["large",mt],["small",mt]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onShowSourceCode.bind(this)),visible:new l.WatchedValue(!1),title:new l.WatchedValue(wt),dataset:{name:"legend-pine-action"}},Lt){const e={iconMap:new Map([["large",Ie],["small",Ne]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onToggleDisabled.bind(this)),visible:new l.WatchedValue(!this._getDisabledOnIntervalState()),className:S.eye,title:new l.WatchedValue(this._getEyeTitle()),dataset:{name:"legend-show-hide-action"}};this._actions.push(e),this._disabled.subscribe((()=>{e.title.setValue(this._getEyeTitle())}));const t={iconMap:new Map([["large",Ie],["small",Ne]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onShowSettings.bind(this,We.TabNames.visibility)),visible:new l.WatchedValue(this._getDisabledOnIntervalState()),className:S.intervalEye,title:new l.WatchedValue(Mt),dataset:{name:"legend-interval-show-hide-action"}};this._actions.push(t),this._disabledOnInterval.subscribe((s=>{t.visible.setValue(s),e.visible.setValue(!s)}))}if(Vt&&Dt&&(!(0,Ye.isStudy)(this._source)||new tt.MetaInfoHelper(this._source.metaInfo()).hasUserEditableOptions())){const e={iconMap:new Map([["large",_t],["small",_t]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onShowSettings.bind(this)),visible:new l.WatchedValue(this._getIsEditable()),title:new l.WatchedValue(yt),dataset:{name:"legend-settings-action"}};this._actions.push(e),this._isEditable.subscribe((t=>{e.visible.setValue(t)}))}if(((0,Ye.isStudy)(this._source)||(0,Ye.isStudyStub)(this._source))&&kt&&this._options.canShowSourceCode&&this._actions.push(this._pineAction),Tt){const e={iconMap:new Map([["large",vt],["small",gt]]),action:(0,b.wrapHandlerWithPreventEvent)(this.onRemoveSource.bind(this)),visible:new l.WatchedValue(this._getIsEditable()),title:new l.WatchedValue(St),dataset:{name:"legend-delete-action"}};this._actions.push(e),this._isEditable.subscribe((t=>{e.visible.setValue(t)}))}const e={iconMap:new Map([["large",Oe],["small",Re]]),action:this._moreActionHandler.bind(this),visible:new l.WatchedValue(this._getIsEditable()),title:new l.WatchedValue(ft),dataset:{name:"legend-more-action"}};this._actions.push(e),this._isEditable.subscribe((t=>{e.visible.setValue(t)}))}_updateSymbolLogoModel(){var e;if(null===(e=this._symbolLogoViewModel.value())||void 0===e||e.destroy(),(0,it.isSymbolSourceWithQuotesProvider)(this._source)){const e=this._model.model().properties().childs().paneProperties.childs().legendProperties.childs();this._symbolLogoViewModel.setValue(Ae(new Be(this._source),e))}else this._symbolLogoViewModel.setValue(null)}}var Pt=s(444331),Ht=s(14952),Bt=s(167975),Nt=s(334652),It=s(747971);function Rt(e,t,s){e.setProperty(t,!t.value(),s)}
const Ot=new ne.TranslatedString("change symbol description visibility",R.t(null,void 0,s(26717))),zt=new ne.TranslatedString("change open market status visibility",R.t(null,void 0,s(118644))),Ft=new ne.TranslatedString("change OHLC values visibility",R.t(null,void 0,s(457889))),Ut=new ne.TranslatedString("change last day change visibility",R.t(null,void 0,s(250058))),Gt=new ne.TranslatedString("change bar change visibility",R.t(null,void 0,s(845110))),jt=new ne.TranslatedString("change indicator titles visibility",R.t(null,void 0,s(231325))),Zt=new ne.TranslatedString("change indicator arguments visibility",R.t(null,void 0,s(96162))),$t=new ne.TranslatedString("change indicator values visibility",R.t(null,void 0,s(399774))),qt=new ne.TranslatedString("change volume values visibility",R.t(null,void 0,s(709455))),Xt=(new ne.TranslatedString("change symbol field visibility",R.t(null,void 0,s(606091))),R.t(null,void 0,s(739339))),Jt=R.t(null,void 0,s(775991)),Kt=R.t(null,void 0,s(199487)),Qt=R.t(null,void 0,s(37274)),Yt=R.t(null,void 0,s(22519)),es=R.t(null,void 0,s(101111)),ts=R.t(null,void 0,s(126315)),ss=R.t(null,void 0,s(26935)),is=R.t(null,void 0,s(584098)),os=(R.t(null,void 0,s(246041)),(0,Bt.appendEllipsis)(R.t(null,void 0,s(389517)))),ns=(e,t)=>e?e.dataset[t]?e.dataset[t]:e.parentElement?ns(e.parentElement,t):null:null;var ls=s(700751),as=s(149511),rs=s(919476),ds=s(860037),us=s(960337),cs=s(269040),hs=s(103931),ps=s(932881),_s=s(734410),ms=s(939680),gs=s(147675),vs=s(62802);const bs="tv.alreadyBlinkedStatuses",ys=[];function ws(){return vs.getJSON(bs,ys)}const Ss=new l.WatchedValue(ws());function fs(e){const t=vs.getJSON(bs,ys);t.includes(e)||(t.push(e),vs.setJSON(bs,t),Ss.setValue(ws()))}vs.onSync.subscribe(null,(()=>Ss.setValue(ws())));const Cs=Ss;var Es=s(776734),Ms=s(781666),xs=s(341779),ks=s(928691),Ls=s(364123);const Vs=(0,
pt.getLogger)("Chart.LegendWidget"),Ds=["TFEXDelayForGuest","MOEXDelayForGuest","CHIXAuDelayForGuest","MILDelayForGuest","NGMDelayForGuest","DEForGuest","ICESGDelayForGuest","TAIFEXDelayForGuest","TURQUOISEDelayForGuest","ADXDelayForGuest","TRADEGATEDelayForGuest","LUXSEDelayForGuest","NSENGDelayForGuest"],Ts=new Map([["DelayToRealtime",hs.delayIconsMap],["DelayNoRealtime",hs.delayIconsMap],["TFEXDelayForGuest",hs.delayIconsMap],["MOEXDelayForGuest",hs.delayIconsMap],["CHIXAuDelayForGuest",hs.delayIconsMap],["MILDelayForGuest",hs.delayIconsMap],["NGMDelayForGuest",hs.delayIconsMap],["ICESGDelayForGuest",hs.delayIconsMap],["TAIFEXDelayForGuest",hs.delayIconsMap],["TURQUOISEDelayForGuest",hs.delayIconsMap],["ADXDelayForGuest",hs.delayIconsMap],["TRADEGATEDelayForGuest",hs.delayIconsMap],["LUXSEDelayForGuest",hs.delayIconsMap],["NSENGDelayForGuest",hs.delayIconsMap],["DEForGuest",hs.delayIconsMap],["EOD",hs.eodIconsMap],["TickByTick",hs.notAccurateIconsMap],["BATSToRealtime",hs.notAccurateIconsMap],["DelayWithoutMarketAgreement",hs.delayIconsMap]]),As=new Map([["DelayToRealtime",Ls.delay],["DelayNoRealtime",Ls.delay],["TFEXDelayForGuest",Ls.delay],["MOEXDelayForGuest",Ls.delay],["CHIXAuDelayForGuest",Ls.delay],["MILDelayForGuest",Ls.delay],["NGMDelayForGuest",Ls.delay],["ICESGDelayForGuest",Ls.delay],["TAIFEXDelayForGuest",Ls.delay],["TURQUOISEDelayForGuest",Ls.delay],["ADXDelayForGuest",Ls.delay],["TRADEGATEDelayForGuest",Ls.delay],["LUXSEDelayForGuest",Ls.delay],["NSENGDelayForGuest",Ls.delay],["DEForGuest",Ls.delay],["EOD",Ls.eod],["TickByTick",Ls.notAccurate],["BATSToRealtime",Ls.notAccurate],["DelayWithoutMarketAgreement",Ls.delay]]),Ws=new Map([["DelayToRealtime",ps.colorDelayMode],["DelayNoRealtime",ps.colorDelayMode],["TFEXDelayForGuest",ps.colorDelayMode],["MOEXDelayForGuest",ps.colorDelayMode],["CHIXAuDelayForGuest",ps.colorDelayMode],["MILDelayForGuest",ps.colorDelayMode],["NGMDelayForGuest",ps.colorDelayMode],["ICESGDelayForGuest",ps.colorDelayMode],["TAIFEXDelayForGuest",ps.colorDelayMode],["TURQUOISEDelayForGuest",ps.colorDelayMode],["ADXDelayForGuest",ps.colorDelayMode],["TRADEGATEDelayForGuest",ps.colorDelayMode],["LUXSEDelayForGuest",ps.colorDelayMode],["NSENGDelayForGuest",ps.colorDelayMode],["DEForGuest",ps.colorDelayMode],["EOD",ps.colorEodMode],["TickByTick",ps.colorNotAccurateMode],["BATSToRealtime",ps.colorNotAccurateMode],["DelayWithoutMarketAgreement",ps.colorDelayMode]]),Ps=R.t(null,void 0,s(236004)),Hs=R.t(null,void 0,s(718429)),Bs=(0,rs.htmlEscape)(R.t(null,void 0,s(825046)));class Ns extends cs.StatusViewModel{constructor(e,t,s){super({iconMap:Ts,classNameMap:As,titleColorMap:Ws,size:t}),this._dataUpdatedInfo=new l.WatchedValue(null).spawn(),this._options=s,this._model=e,this._dataModeBlinkingStatuses=Cs.spawn(),this._dataModeBlinkingStatuses.subscribe(this._updateBlinkingMode.bind(this)),this.turnOffBlinkingMode=this._turnOffBlinking.bind(this),this.setModel(e)}destroy(){this._dataUpdatedInfo.destroy(),this._dataModeBlinkingStatuses.destroy()}setModel(e){if(this._dataUpdatedInfo.destroy(),
null===e)return this._model=e,void(this._dataUpdatedInfo=new l.WatchedValue(null).spawn());this._dataUpdatedInfo=e.status().spawn(),this._dataUpdatedInfo.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_shouldBeHiddenByStatus(e){var t,s;return!!(null===(t=this._options.shouldBeHiddenRegardlessOfStatus)||void 0===t?void 0:t.value())||(!("BATSToRealtime"!==e||!(null===(s=this._model)||void 0===s?void 0:s.isSpread()))||super._shouldBeHiddenByStatus(e))}_getTooltip(){const e=this._getShortTexts();return null===e?null:Object.values(e).join(" · ")}async _updateFullTooltip(){var e;const t=this._dataUpdatedInfo.value(),s=this._status.value();if(null===t||null===s)return void this._fullTooltip.setValue(null);const i=this._getShortTexts(),[o,n]=await Promise.all([this._getHtmls(),this._getActions()]);if(t!==this._dataUpdatedInfo.value())return;const l=[];for(const a of t){const t=a.mode;"BATSToRealtime"===t&&(null===(e=this._model)||void 0===e?void 0:e.isSpread())||l.push({icon:this._getIcon(t),iconClassName:this._getFullTooltipIconClassNames(s),title:i&&i[t],titleColor:this._getTitleColor(t),html:o&&o[t],size:this._size,action:n&&n[t]})}this._fullTooltip.setValue(l)}_updateStatus(e){var t;const s=null!==e?e[0]:null;this._status.setValue(null!==(t=null==s?void 0:s.mode)&&void 0!==t?t:null,!0),this._updateBlinkingMode()}async _getHtmls(){var e,t;const i=this._dataUpdatedInfo.value();if(null===i||null===this._model)return Promise.resolve(null);const o={},n=this._model.symbolName();let l=null,a=null;try{l=await this._model.description(),a=this._model.exchange(),a=(0,w.redefineExchangeName)(a)}catch(e){Vs.logError(`Can't get exchange description, reason: ${(0,ks.errorToString)(e)}`)}for(const r of i){const i=r.mode;if(o[i]=[],["DelayToRealtime","DelayNoRealtime","DelayWithoutMarketAgreement",...Ds].includes(i)&&(o[i].push(ms.delayHtml.format({symbolName:n,time:this._model.time().toString()})),this._options.subscriptionFullInfo&&null!==l&&"DelayToRealtime"===i&&o[i].push(ms.delayToRealtimeHtml.format({description:`<b>${l}</b>`})),"DelayNoRealtime"===i&&o[i].push(ms.delayNoRealtimeHtml),"DelayWithoutMarketAgreement"===i&&o[i].push(ms.delayWithoutMarketAgreement.format({listedExchange:this._model.listedExchange()})),this._options.subscriptionFullInfo&&Ds.includes(i)&&o[i].push(ms.tFEXorMOEXorLSEorChixauHtml.format({listedExchange:this._model.listedExchange()}))),"EOD"===i&&(o[i]=[ms.eodHtml]),"TickByTick"===i){const n=void 0===r.updatePeriod?ms.tickByTickHtml1FullInfo:(0,rs.htmlEscape)(R.t(null,{count:r.updatePeriod,replace:{amount:(null!==(e=r.updatePeriod)&&void 0!==e?e:1).toString()},plural:"Data on our Basic plan is updated once every {amount} seconds, even if there are more updates on the market."},s(602121))),l=void 0===r.updatePeriod?ms.tickByTickHtml1:(0,rs.htmlEscape)(R.t(null,{count:r.updatePeriod,replace:{amount:(null!==(t=r.updatePeriod)&&void 0!==t?t:1).toString()},plural:"Data is updated once every {amount} seconds, even if there are more updates on the market."},s(888841)))
;o[i].push(this._options.subscriptionFullInfo?n:l),this._options.subscriptionFullInfo&&o[i].push(ms.tickByTickHtml2)}if(null!==a&&"BATSToRealtime"===i){let e=this._model.listedExchange();e=(0,w.redefineExchangeName)(e),gs.CRUCIAL_REALTIME_BATS.includes(this._model.listedExchange())?o[i].push(ms.batsToRealtimeCrucialHtml.format({exchange:e,originalExchange:ms.notAccurateCboeTooltip})):o[i].push(ms.batsToRealtimeHtml1.format({symbolName:n,exchange:a}),""!==e?(0,rs.htmlEscape)(ms.batsToRealtimeHtml2WithExchange).format({exchange:e}):(0,rs.htmlEscape)(ms.batsToRealtimeHtml2WithoutExchange))}}return Object.keys(o).length>0?o:null}async _getActions(){var e;const t=this._dataUpdatedInfo.value();if(null===t||null===this._model)return null;const s={};if(this._options.subscriptionFullInfo)for(const i of t){const t=i.mode;if(Ds.includes(i.mode)&&(s[t]={text:Ps,onClick:()=>{(0,Ms.showSignModal)({source:"Data warning indicator"})}}),"DelayWithoutMarketAgreement"===t){const e=this._model.exchange();s[t]={text:Bs,onClick:()=>{(0,xs.showExchangeAgreementDialog)({exchange:e.toLowerCase(),hideCloseButton:!1})}}}if("BATSToRealtime"===t)if(gs.CRUCIAL_REALTIME_BATS.includes(this._model.listedExchange())){let i=this._model.listedExchange();i=(0,w.redefineExchangeName)(i);const o={country:this._model.country(),link:"https://www.cboe.com/us/equities/market_statistics",exchange:null!==(e=this._model.exchange())&&void 0!==e?e:null,originalExchange:ms.notAccurateCboeTooltip,listedExchange:i,symbolName:this._model.symbolName(),proPerm:this._model.proPerm()};s[t]=this._goProDialogAction(t,o)}else s[t]={text:Hs,onClick:()=>{if((0,ds.showSupportDialog)({solutionId:_s.BATS_TO_REALTIME_SOLUTION_ID}),null===this._model)return;const e=this._model.proName();(0,Es.getTracker)().then((t=>t&&e&&t.trackMarketDataSolutionEvent(e)))}};if("TickByTick"===t||"DelayToRealtime"===t){let e=null,i=null;try{e=await this._model.description(),i=this._model.exchange()}catch(e){Vs.logError(`Can't get exchange description, reason: ${(0,ks.errorToString)(e)}`)}const o={time:this._model.time(),exchange:i,listedExchange:this._model.listedExchange(),description:e,symbolName:this._model.symbolName(),username:window.user?window.user.username:"",proPerm:this._model.proPerm()};s[t]=this._goProDialogAction(t,o)}}return Object.keys(s).length>0?s:null}_getShortTexts(){var e,t;const i=this._dataUpdatedInfo.value();if(null===i||null===this._model)return null;const o={};for(const n of i){const i=n.mode;if(["DelayToRealtime","DelayNoRealtime",...Ds,"DelayWithoutMarketAgreement"].includes(i)&&(o[i]=ms.delayTooltip),"EOD"===i&&(o[i]=ms.eodTooltip),"TickByTick"===i){const t=void 0===n.updatePeriod?ms.notAccurate1PerSecondTooltip:(0,rs.htmlEscape)(R.t(null,{plural:"One update every {amount} seconds",count:n.updatePeriod,replace:{amount:(null!==(e=n.updatePeriod)&&void 0!==e?e:1).toString()}},s(705223)));o[i]=t}if("BATSToRealtime"===i){let e=null!==(t=this._model.firstReplacedByBatsExchange())&&void 0!==t?t:"";e=(0,w.redefineExchangeName)(e),
o[i]=""!==e?ms.exchangeByOriginalExchangeTooltip.format({exchange:e,originalExchange:ms.notAccurateCboeTooltip}):ms.notAccurateCboeTooltip}}return Object.keys(o).length>0?o:null}_updateBlinkingMode(){const e=this._dataUpdatedInfo.value();if(null===e)return;const t=this._dataModeBlinkingStatuses.value();for(const s of e)if(!t.includes(s.mode))return void this.isBlinkingMode.setValue(!0);this.isBlinkingMode.setValue(!1)}_turnOffBlinking(){const e=this._dataUpdatedInfo.value();if(null!==e)for(const t of e)fs(t.mode)}_goProDialogAction(e,t={}){return{text:Hs,onClick:()=>{null!==this._model&&(0,us.createGoProDialog)({forceUpgradeBtn:!0,goOnMarkets:!0,customParams:t,upgradeMessage:R.t(null,void 0,s(400719)),feature:e}).then((()=>{(0,O.trackEvent)("Data Warning","Full description visible",e)}))}}}}var Is=s(838373),Rs=s(79304);const Os=R.t(null,void 0,s(539045)),zs=new Map([[!0,new Map([["small",Is],["medium",Rs],["large",Rs]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),Fs=new Map([[!0,Ls.dataProblemLow],[!1,null]]),Us=new Map([[!0,Os],[!1,null]]),Gs=new Map([[!0,Os],[!1,null]]),js=new Map([[!0,as.colorsPalette["color-data-problem"]],[!1,null]]);class Zs extends cs.StatusViewModel{constructor(e,t,s){super({iconMap:zs,classNameMap:Fs,tooltipMap:Us,titleMap:Gs,titleColorMap:js,size:t}),this._dataSourceErrorStatus=new l.WatchedValue(null).spawn(),this._lastError=null,this._options=s,this.setSource(e)}destroy(){this._dataSourceErrorStatus.destroy()}setSource(e){this._dataSourceErrorStatus.destroy(),this._dataSourceErrorStatus=e.errorStatus().spawn(),this._dataSourceErrorStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_getTooltip(e){var t;return null!==(t=e?this._getDataSourceErrorStatusCustomTitle():null)&&void 0!==t?t:super._getTooltip(e)}_getTitle(e){var t;return null!==(t=e?this._getDataSourceErrorStatusCustomTitle():null)&&void 0!==t?t:super._getTitle(e)}async _updateFullTooltip(){const e=this._status.value(),t=this._dataSourceErrorStatus.value();null!==e&&null!==t?this._fullTooltip.setValue([{icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:this._getTitle(e),titleColor:this._getTitleColor(e),html:[(0,rs.htmlEscape)(t.error)],size:this._size,action:this._getAction(e)}]):this._fullTooltip.setValue(null)}_getAction(e){const t=this._dataSourceErrorStatus.value();if(this._options.errorSolution&&null!==t){const{solutionId:e,studyFeature:s}=t;if(e)return{text:Hs,onClick:()=>{(0,ds.showSupportDialog)({solutionId:e})}};if(s)return{text:Hs,onClick:()=>(0,us.createGoProDialog)({feature:s})}}return null}_updateStatus(e){const t=this._status.value();null!==e?(this._status.setValue(!0),t&&this._lastError!==e.error&&this._updateByStatus(!0),this._lastError=e.error):(this._status.setValue(null),this._lastError=null)}_getDataSourceErrorStatusCustomTitle(){var e;return(null===(e=this._dataSourceErrorStatus.value())||void 0===e?void 0:e.title)||null}}
const $s=R.t(null,void 0,s(597325)),qs=new Map([["high",new Map([["small",Is],["medium",Rs],["large",Rs]])],["low",new Map([["small",Is],["medium",Rs],["large",Rs]])]]),Xs=new Map([["high",Ls.dataProblemHigh],["low",Ls.dataProblemLow]]),Js=new Map([["high",$s],["low",$s]]),Ks=new Map([["high",as.colorsPalette["color-data-problem"]],["low",as.colorsPalette["color-data-problem"]]]);class Qs extends cs.StatusViewModel{constructor(e,t){super({tooltipMap:Js,iconMap:qs,classNameMap:Xs,titleMap:Js,titleColorMap:Ks,size:t}),this._dataProblems=new l.WatchedValue([]).spawn(),this._isDataProblemCritical=new l.WatchedValue(!1),this.setModel(e)}destroy(){this._dataProblems.destroy()}isDataProblemCritical(){return this._isDataProblemCritical}setModel(e){this._dataProblems.destroy(),null!==e?(this._dataProblems=e.dataProblems().spawn(),this._dataProblems.subscribe(this._updateStatus.bind(this),{callWithLast:!0})):this._dataProblems=new l.WatchedValue([]).spawn()}async _updateFullTooltip(){const e=this.status().value(),t=this._dataProblems.value();if(null===e||0===t.length)return void this._fullTooltip.setValue(null);const s=t.map(((t,s)=>{var i;return{icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:null!==(i=t.title)&&void 0!==i?i:0===s?this._getTitle(e):null,titleColor:this._getTitleColor(e),html:[(0,rs.htmlEscape)(t.text)],size:this._size,action:this._getAction(e)}}));this._fullTooltip.setValue(s)}_getTooltip(e){var t;return null!==(t=this._getDataProblemCustomTitle())&&void 0!==t?t:super._getTooltip(e)}_getTitle(e){var t;return null!==(t=this._getDataProblemCustomTitle())&&void 0!==t?t:super._getTitle(e)}_updateStatus(e){var t,s;const i=null!==(s=null===(t=e[0])||void 0===t?void 0:t.severity)&&void 0!==s?s:null,o=this._status.value()!==i;this._status.setValue(i),this._isDataProblemCritical.setValue(function(e){return"high"===e}(i)),o||this._updateFullTooltip()}_getDataProblemCustomTitle(){var e,t;return(null===(t=null===(e=this._dataProblems.value())||void 0===e?void 0:e[0])||void 0===t?void 0:t.title)||null}}class Ys extends cs.StatusViewModel{constructor(e,t){super(t),this._booleanStatus=new l.WatchedValue(!1).spawn(),this.updateStatus(e)}destroy(){this._booleanStatus.destroy()}updateStatus(e){this._booleanStatus.destroy(),this._booleanStatus=e.spawn(),this._booleanStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}_updateStatus(e){e?this._status.setValue(!0):this._status.setValue(null)}}var ei=s(73710),ti=s(645503);const si=R.t(null,void 0,s(814177)),ii=R.t(null,void 0,s(262459)),oi=new Map([[!0,new Map([["small",ei],["medium",ti],["large",ti]])],[!1,new Map([["small",""],["medium",""],["large",""]])]]),ni=new Map([[!0,Ls.invalidSymbol],[!1,null]]),li=new Map([[!0,si],[!1,null]]),ai=new Map([[!0,si],[!1,null]]),ri=new Map([[!0,as.colorsPalette["color-invalid-symbol"]],[!1,null]]),di=new Map([[!0,[ii]],[!1,null]]),ui=new Map([[!0,null],[!1,null]]);class ci{constructor(e){this._el=document.createElement("div"),this._prevCustomClass=null,this._prevCustomColor=null,
this._customColor=null,this._size=e.size||"small",this._icon=e.icon.spawn(),this._className=e.className.spawn(),this._visible=e.visible.spawn(),this._el.classList.add(Ls.statusItem,Ls[this._size]),this._icon.subscribe(this._updateIcon.bind(this),{callWithLast:!0}),this._className.subscribe(this._updateClassName.bind(this),{callWithLast:!0}),e.isBlinking&&(this._isBlinking=e.isBlinking.spawn(),this._isBlinking.subscribe(this._updateBlinkingMode.bind(this),{callWithLast:!0}),this._turnOffBlinking=e.turnOffBlinking)}destroy(){this._visible.destroy(),this._icon.destroy(),this._isBlinking&&this._isBlinking.destroy()}onClick(){this._turnOffBlinking&&this._turnOffBlinking()}visible(){return this._visible}element(){return this._el}_updateIcon(e){this._el.innerHTML=e||""}_updateClassName(e){this._prevCustomClass!==e&&(null!==this._prevCustomClass&&this._el.classList.remove(this._prevCustomClass),null!==e&&this._el.classList.add(e),this._prevCustomClass=e)}_updateCustomColor(e){0}_updateBlinkingMode(e){this._el.classList.toggle(Ls.blinking,e)}}function hi(e,t,s){for(const i of t)for(const t of i.split(" "))e.classList.toggle(t,s)}class pi{constructor(e,t,s,i=Ls){this.element=document.createElement("div"),this._blinkingSpawns=[],this._iconsRenderers=[],this._updateIcons=()=>{const[e,t]=this._iconsRenderers.reduce(((e,t)=>{const s=t.element();return t.visible().value()&&e[0].length<3?e[0].push(s):e[1].push(s),e}),[[],[]]);t.forEach((e=>{this.element.contains(e)&&this.element.removeChild(e)})),e.forEach(((e,t)=>{this.element.contains(e)||(t>=this.element.childElementCount?this.element.appendChild(e):this.element.insertBefore(e,this.element.childNodes[t]))}))},this._theme=i;const o=[this._theme.statuses,"apply-common-tooltip","common-tooltip-wide",this._theme[e],this._theme.statuses_hidden];hi(this.element,o,!0),this._tooltips=t.spawn(),this._tooltips.subscribe(this._updateTooltip.bind(this)),this._onClickCallback=s.onClick,this._onClickHandler=this._onClick.bind(this),this.element.addEventListener("click",this._onClickHandler)}destroy(){for(const e of this._iconsRenderers)e.destroy();for(const e of this._blinkingSpawns)e.destroy();this._tooltips.destroy(),this.element.removeEventListener("click",this._onClickHandler),this.element.remove()}setVisibility(e){hi(this.element,[this._theme.statuses_hidden],e)}addStatusModel(e){const t=new ci({visible:e.visible,icon:e.model.icon(),className:e.model.className(),size:e.model.size(),isBlinking:e.model.isBlinkingMode,turnOffBlinking:e.model.turnOffBlinkingMode,customColor:e.model.customColor()});this._iconsRenderers.push(t);const s=e.model.isBlinkingMode.spawn();s.subscribe(this._updateBlinkingMode.bind(this)),t.visible().subscribe(this._updateIcons,{callWithLast:!0}),this._blinkingSpawns.push(s),this._updateBlinkingMode()}_onClick(e){e.preventDefault();const t=this._iconsRenderers.filter((e=>e.visible().value()));for(const e of t)e.onClick();let s=14;t.length>1&&(s-=2);const i=this.element.getBoundingClientRect(),o={x:i.left-s,y:i.bottom+4};this._onClickCallback(o)}_updateTooltip(){
this.element.setAttribute("title",this._tooltips.value().join(" · "))}_updateBlinkingMode(){const e=this._blinkingSpawns.some((e=>e.value()));hi(this.element,[this._theme.blinking],e)}}var _i=s(556174);class mi{constructor(e,t){var s,i;this.errorWidgetIsShown=new l.WatchedValue(!1),this._size=_.trackingModeIsAvailable?"medium":"small",this._tooltips=new l.WatchedValue([]),this._visibilitySpawns=[],this._tooltipSpawns=[],this._statusWidgetInfos=[],this._visibility=new l.WatchedValue(!1),this._renderer=new pi(this._size,this._tooltips,{onClick:this._handleToggleDropdown.bind(this)}),this._symbolInvalidViewModel=null,this._dataSourceErrorStatusViewModel=null,this._marketStatusViewModel=null,this._dataUpdatedModeViewModel=null,this._dataProblemViewModel=null,this._customStatusViewModel=null,this._sessionWidget=null,this._dataSourceHasErrorVisible=null,this._dataSourceErrorCanBeShown=new l.WatchedValue(!1),this._marketStatusCanBeShown=new l.WatchedValue(!1),this._dataUpdatedModeCanBeShown=new l.WatchedValue(!1),this._dataProblemCanBeShown=new l.WatchedValue(!1),this._isDataProblemCritical=null,this._container=document.createElement("div"),this._menuOpened=!1,this._menuPosition=null,this._handleDropdownMenuClose=()=>{var e;this._menuOpened=!1,null===(e=this._source.symbol())||void 0===e||e.unsubscribe(this._handleDropdownMenuClose),this._updateDropdownMenu()},this._updateVisibility=e=>{this._visibility.setValue(!e),this._renderer.setVisibility(e)},this._source=e,this._symbol=null!==(i=null===(s=e.symbol())||void 0===s?void 0:s.spawn())&&void 0!==i?i:null,this._options=t,this._statusProviderHidden=e.hidden().spawn(),this._statusProviderHidden.subscribe(this._updateVisibility,{callWithLast:!0}),this._recreateWidgets(),this._addSubscriptionForSymbolInvalid(),null!==this._dataSourceHasErrorVisible&&(this._dataSourceHasErrorVisible.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),this._dataSourceHasErrorVisible.subscribe(this._updateErrorWidgetIsShown.bind(this))),this._options.dataProblemEnabled&&null!==this._isDataProblemCritical&&this._isDataProblemCritical.subscribe(this._updateStatusWidgetsVisibilities.bind(this));for(const e of this._tooltipSpawns)e.subscribe(this._updateTooltips.bind(this));for(const e of this._visibilitySpawns)e.subscribe(this._updateTooltips.bind(this));this._updateErrorWidgetIsShown(),this._updateStatusWidgetsVisibilities(),this._updateTooltips()}destroy(){var e,t;this._statusProviderHidden.destroy(),this._visibility.unsubscribe(),null===(e=this._symbol)||void 0===e||e.destroy(),null===(t=this._isDataProblemCritical)||void 0===t||t.destroy();for(const e of this._tooltipSpawns)e.destroy();for(const e of this._visibilitySpawns)e.destroy();for(const e of this._statusWidgetInfos)e.model.destroy();this._renderer.destroy()}visibility(){return this._visibility.readonly()}getElement(){return this._renderer.element}updateSource(e){var t,s,i;this._source!==e&&(this._statusProviderHidden.destroy(),null===(t=this._symbol)||void 0===t||t.destroy(),this._source=e,
this._symbol=null!==(i=null===(s=e.symbol())||void 0===s?void 0:s.spawn())&&void 0!==i?i:null,this._statusProviderHidden=e.hidden().spawn(),this._statusProviderHidden.subscribe(this._updateVisibility,{callWithLast:!0}),this._recreateAndUpdateWidgetState())}_updateStatusWidgetsVisibilities(){const e=this._isForceStatusActive();this._dataSourceErrorCanBeShown.setValue(!e),this._marketStatusCanBeShown.setValue(!e),this._dataUpdatedModeCanBeShown.setValue(!e),this._dataProblemCanBeShown.setValue(!this._isPrimaryWidgetShown())}_isPrimaryWidgetShown(){var e,t;return null!==(t=null===(e=this._source.isSymbolInvalid())||void 0===e?void 0:e.value())&&void 0!==t&&t}_isForceStatusActive(){var e,t;return this._isPrimaryWidgetShown()||null!==(t=null===(e=this._isDataProblemCritical)||void 0===e?void 0:e.value())&&void 0!==t&&t}_recreateWidgets(){var e,t,s;if(this._options.sourceStatusesEnabled){const e=this._source.isSymbolInvalid();if(null!==e)if(null===this._symbolInvalidViewModel){this._symbolInvalidViewModel=new Ys(e,{tooltipMap:li,iconMap:oi,classNameMap:ni,titleMap:ai,titleColorMap:ri,htmlMap:di,actionMap:ui,size:this._size});const t=this._symbolInvalidViewModel.visible().spawn();this._visibilitySpawns.push(t),this._tooltipSpawns.push(this._symbolInvalidViewModel.tooltip().spawn());const s={visible:t,model:this._symbolInvalidViewModel};this._statusWidgetInfos.push(s),this._renderer.addStatusModel(s)}else this._symbolInvalidViewModel.updateStatus(e),this._addSubscriptionForSymbolInvalid();if(null===this._dataSourceErrorStatusViewModel){this._dataSourceErrorStatusViewModel=new Zs(this._source,this._size,this._options.sourceStatuses),this._dataSourceHasErrorVisible=(0,re.combine)((()=>this._dataSourceErrorCanBeShown.value()&&(0,n.ensureNotNull)(this._dataSourceErrorStatusViewModel).visible().value()),this._dataSourceErrorCanBeShown.weakReference(),this._dataSourceErrorStatusViewModel.visible().weakReference()),this._visibilitySpawns.push(this._dataSourceHasErrorVisible),this._tooltipSpawns.push(this._dataSourceErrorStatusViewModel.tooltip().spawn());const e={visible:this._dataSourceHasErrorVisible,model:this._dataSourceErrorStatusViewModel};this._statusWidgetInfos.push(e),this._renderer.addStatusModel(e)}else this._dataSourceErrorStatusViewModel.setSource(this._source)}if(this._options.marketStatusEnabled){const t=this._source.marketStatusModel();if(null===this._marketStatusViewModel){this._marketStatusViewModel=new _i.MarketStatusViewModel(t,this._size);const e=(0,re.combine)((()=>this._marketStatusCanBeShown.value()&&(0,n.ensureNotNull)(this._marketStatusViewModel).visible().value()&&!(0,Pt.isEconomicSymbol)(this._source.symbolInfo().value())),this._marketStatusCanBeShown.weakReference(),this._marketStatusViewModel.visible().weakReference(),this._source.symbolInfo().weakReference());this._visibilitySpawns.push(e),this._tooltipSpawns.push(this._marketStatusViewModel.tooltip().spawn());const s={visible:e,model:this._marketStatusViewModel};null!==t&&(this._sessionWidget=new ls.FullSessionScheduleWidget(this._source),
s.additionalWidgets=[this._sessionWidget]),this._statusWidgetInfos.push(s),this._renderer.addStatusModel(s)}else this._marketStatusViewModel.setModel(t),null===(e=this._sessionWidget)||void 0===e||e.updateSource(this._source)}if(this._options.dataUpdateModeEnabled){const e=this._source.dataUpdatedModeModel();if(null===this._dataUpdatedModeViewModel){const i={...this._options.dataUpdateMode,shouldBeHiddenRegardlessOfStatus:null===(s=null===(t=this._source.marketStatusModel())||void 0===t?void 0:t.futuresContractExpirationTime())||void 0===s?void 0:s.expired()};this._dataUpdatedModeViewModel=new Ns(e,this._size,i);const o=(0,re.combine)((()=>this._dataUpdatedModeCanBeShown.value()&&(0,n.ensureNotNull)(this._dataUpdatedModeViewModel).visible().value()&&!(0,Pt.isEconomicSymbol)(this._source.symbolInfo().value())),this._dataUpdatedModeCanBeShown.weakReference(),this._dataUpdatedModeViewModel.visible().weakReference(),this._source.symbolInfo().weakReference());this._visibilitySpawns.push(o),this._tooltipSpawns.push(this._dataUpdatedModeViewModel.tooltip().spawn());const l={visible:o,model:this._dataUpdatedModeViewModel};this._statusWidgetInfos.push(l),this._renderer.addStatusModel(l)}else this._dataUpdatedModeViewModel.setModel(e)}if(this._options.dataProblemEnabled){const e=this._source.dataProblemModel();if(null===this._dataProblemViewModel){this._dataProblemViewModel=new Qs(e,this._size),this._isDataProblemCritical=this._dataProblemViewModel.isDataProblemCritical().spawn();const t=(0,re.combine)((()=>this._dataProblemCanBeShown.value()&&(0,n.ensureNotNull)(this._dataProblemViewModel).visible().value()),this._dataProblemCanBeShown.weakReference(),this._dataProblemViewModel.visible().weakReference());this._visibilitySpawns.push(t),this._tooltipSpawns.push(this._dataProblemViewModel.tooltip().spawn());const s={visible:t,model:this._dataProblemViewModel};this._statusWidgetInfos.push(s),this._renderer.addStatusModel(s)}else this._dataProblemViewModel.setModel(e)}}_updateTooltips(){const e=[];for(let t=0;t<this._tooltipSpawns.length;t++){if(!this._visibilitySpawns[t].value())continue;const s=this._tooltipSpawns[t].value();null!==s&&s.length>0&&e.push(s)}this._tooltips.setValue(e)}_addTooltipSpawn(e){e.subscribe(this._updateTooltips.bind(this)),this._tooltipSpawns.push(e)}_addVisibilitySpawn(e){e.subscribe(this._updateTooltips.bind(this)),this._visibilitySpawns.push(e)}_recreateAndUpdateWidgetState(){this._recreateWidgets(),this._updateStatusWidgetsVisibilities(),this._updateErrorWidgetIsShown(),this._updateTooltips()}_addSubscriptionForSymbolInvalid(){const e=this._source.isSymbolInvalid();this._options.sourceStatusesEnabled&&null!==e&&(e.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),e.subscribe(this._updateErrorWidgetIsShown.bind(this),{callWithLast:!0}))}_updateErrorWidgetIsShown(){var e,t,s,i;const o=null!==(t=null===(e=this._source.isSymbolInvalid())||void 0===e?void 0:e.value())&&void 0!==t&&t,n=null!==(i=null===(s=this._dataSourceHasErrorVisible)||void 0===s?void 0:s.value())&&void 0!==i&&i
;this.errorWidgetIsShown.setValue(o||n)}_handleToggleDropdown(e){var t,s;this._menuPosition=e,this._menuOpened=!this._menuOpened,this._menuOpened&&(null===(t=this._source.symbol())||void 0===t||t.subscribe(this._handleDropdownMenuClose),s=`Open full tooltip for statuses: ${this._tooltips.value().join(", ")}`,(0,O.trackEvent)("GUI","Statuses widget's action",s)),this._updateDropdownMenu()}_updateDropdownMenu(){Promise.all([s.e(53842),s.e(35649),s.e(69502),s.e(10010),s.e(38643)]).then(s.bind(s,389280)).then((e=>{e.render({opened:this._menuOpened,container:this._container,rendererButton:this._renderer.element,statusWidgetInfos:this._statusWidgetInfos,onClose:this._handleDropdownMenuClose,position:(0,n.ensureNotNull)(this._menuPosition)})}))}}var gi=s(74439),vi=s(74733);const bi=R.t(null,void 0,s(504671)),yi=R.t(null,void 0,s(410153)),wi=R.t(null,void 0,s(351811)),Si=R.t(null,void 0,s(564348)),fi=R.t(null,void 0,s(94878)),Ci=R.t(null,void 0,s(641851)),Ei=new Map([[gi.ReplayStatus.Pause,new Map([["small",vi],["medium",vi],["large",vi]])],[gi.ReplayStatus.PointSelect,new Map([["small",vi],["medium",vi],["large",vi]])],[gi.ReplayStatus.AutoPlay,new Map([["small",vi],["medium",vi],["large",vi]])]]),Mi=new Map([[gi.ReplayStatus.AutoPlay,Ls.replayModeAutoPlay],[gi.ReplayStatus.Pause,Ls.replayModePause],[gi.ReplayStatus.PointSelect,Ls.replayModePointSelect]]),xi=new Map([[gi.ReplayStatus.AutoPlay,yi],[gi.ReplayStatus.Pause,yi],[gi.ReplayStatus.PointSelect,yi]]),ki=new Map([[gi.ReplayStatus.AutoPlay,yi],[gi.ReplayStatus.Pause,wi],[gi.ReplayStatus.PointSelect,bi]]),Li=new Map([[gi.ReplayStatus.AutoPlay,(0,as.getHexColorByName)("color-replay-mode")],[gi.ReplayStatus.Pause,(0,as.getHexColorByName)("color-replay-mode")],[gi.ReplayStatus.PointSelect,(0,as.getHexColorByName)("color-replay-mode-point-select")]]),Vi=new Map([[gi.ReplayStatus.AutoPlay,[fi]],[gi.ReplayStatus.Pause,[Ci]],[gi.ReplayStatus.PointSelect,[Si]]]);class Di extends cs.StatusViewModel{constructor(e,t){super({iconMap:Ei,classNameMap:Mi,tooltipMap:ki,titleMap:xi,titleColorMap:Li,htmlMap:Vi,size:t}),this._replayStatus=new l.WatchedValue(gi.ReplayStatus.Undefined).spawn(),this._replayStatus=e,this._replayStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0})}destroy(){this._replayStatus.destroy()}_updateStatus(e){this._status.setValue(e!==gi.ReplayStatus.Undefined?e:null),this.isBlinkingMode.setValue(e===gi.ReplayStatus.AutoPlay)}}var Ti=s(856539),Ai=s(464630);const Wi=new Map([[!0,ms.halalTitle]]);class Pi extends Ys{constructor(e,t){super(e,{iconMap:new Map([[!0,new Map([["small",Ti],["medium",Ti]])]]),tooltipMap:Wi,titleMap:Wi,titleColorMap:new Map([[!0,(0,as.getHexColorByName)("color-iguana-green-400")]]),size:t,classNameMap:new Map([[!0,Ai.halalStatus]]),htmlMap:new Map([[!0,[ms.halalHtml]]]),actionMap:new Map([[!0,{text:R.t(null,void 0,s(718429)),onClick:()=>(0,ds.showSupportDialog)({solutionId:_s.HALAL_SOLUTION_ID})}]])})}}class Hi extends mi{constructor(e,t,s){if(super(e,s),this._isInReplay=new l.WatchedValue(!1).readonly().spawn(),
this._isInReplayCanBeShown=null,this._inited=!1,this._halalViewModel=null,this._halalCanBeShown=new l.WatchedValue(!1),this._options.sourceStatusesEnabled){this._crateHalalStatus();{this._isInReplayCanBeShown=new l.WatchedValue(!1),this._isInReplay=(0,re.combine)((e=>e!==gi.ReplayStatus.Undefined),t.replayStatus().weakReference());const e=new Di(t.replayStatus().spawn(),this._size),s=(0,re.combine)((()=>(0,n.ensureNotNull)(this._isInReplayCanBeShown).value()&&(0,n.ensureNotNull)(e).visible().value()),this._isInReplayCanBeShown.weakReference(),e.visible().weakReference());s.subscribe(this._updateStatusWidgetsVisibilities.bind(this)),s.subscribe(this._updateTooltips.bind(this)),this._visibilitySpawns.push(s);const i=e.tooltip().spawn();i.subscribe(this._updateTooltips.bind(this)),this._tooltipSpawns.push(i);const o={visible:s,model:e};this._statusWidgetInfos.push(o),this._renderer.addStatusModel(o),this._isInReplay.subscribe(this._updateStatusWidgetsVisibilities.bind(this),{callWithLast:!0})}this._inited=!0,this._updateStatusWidgetsVisibilities(),this._updateTooltips()}}destroy(){this._options.sourceStatusesEnabled&&this._isInReplay.destroy(),super.destroy()}updateSource(e){super.updateSource(e),this._inited&&this._halalViewModel&&this._source!==e&&this._halalViewModel.updateStatus(this._getHalalVisibilitySpawn())}_updateStatusWidgetsVisibilities(){var e,t;super._updateStatusWidgetsVisibilities(),this._inited&&this._options.sourceStatusesEnabled&&(this._halalCanBeShown.setValue(!this._isForceStatusActive()),(0,n.ensureNotNull)(this._isInReplayCanBeShown).setValue(!super._isPrimaryWidgetShown()&&null!==(t=null===(e=this._isInReplay)||void 0===e?void 0:e.value())&&void 0!==t&&t))}_isPrimaryWidgetShown(){var e,t;return super._isPrimaryWidgetShown()||null!==(t=null===(e=this._isInReplay)||void 0===e?void 0:e.value())&&void 0!==t&&t}_crateHalalStatus(){const e=new Pi(this._getHalalVisibilitySpawn(),this._size),t=e.visible().spawn(),s={visible:t,model:e};this._statusWidgetInfos.push(s),this._renderer.addStatusModel(s),this._addVisibilitySpawn(t),this._addTooltipSpawn(e.tooltip().spawn()),this._halalViewModel=e}_getHalalVisibilitySpawn(){var e,t;return(0,re.combine)(((e,t,s)=>t&&!s&&!!(null==e?void 0:e["is-shariah-compliant"])),((null===(t=(e=this._source).quotesData)||void 0===t?void 0:t.call(e))||new l.WatchedValue(null).readonly()).weakReference(),this._halalCanBeShown.weakReference(),(this._source.isSymbolInvalid()||new l.WatchedValue(!1).readonly()).weakReference())}}var Bi=s(617540);class Ni{constructor(e,t){this._hidden=new l.WatchedValue(!1),this._symbol=null,this._isSymbolInvalid=null,this._symbolInfo=new l.WatchedValue(null).spawn(),this._source=e,e.properties().hasChild("symbol")&&(this._symbol=(0,te.createWVFromGetterAndSubscription)((()=>e.properties().symbol.value()),e.properties().symbol.listeners()));const s=[];if((0,Bi.isStudyLineTool)(e))s.push(e.onStatusChanged());else if((0,Ye.isStudy)(e)||(0,Ye.isStudyStub)(e))s.push(e.onStatusChanged(),e.onIsActualIntervalChange()),this._isSymbolInvalid=(0,
te.createWVFromGetterAndSubscriptions)((()=>e.isSymbolInvalid()&&e.isActualInterval()),s);else{(0,n.assert)(e===t.mainSeries());const i=t.mainSeries();s.push(i.onStatusChanged()),this._isSymbolInvalid=(0,te.createWVFromGetterAndSubscriptions)((()=>i.isSymbolInvalid()),s),this._symbolInfo=(0,te.createWVFromGetterAndSubscription)(i.symbolInfo.bind(i),i.dataEvents().symbolResolved())}this._dataSourceErrorStatus=(0,te.createWVFromGetterAndSubscriptions)((()=>this._source.statusProvider({}).errorStatus()),s)}destroy(){var e,t;null===(e=this._symbol)||void 0===e||e.destroy(),null===(t=this._isSymbolInvalid)||void 0===t||t.destroy(),this._dataSourceErrorStatus.destroy(),this._symbolInfo.destroy()}symbol(){return this._symbol}isSymbolInvalid(){return this._isSymbolInvalid}errorStatus(){return this._dataSourceErrorStatus}symbolInfo(){return this._symbolInfo}hidden(){return this._hidden.readonly()}marketStatusModel(){return this._source.marketStatusModel()}dataProblemModel(){return this._source.dataProblemModel()}dataUpdatedModeModel(){return this._source.dataUpdatedModeModel()}isMainSeries(){var e,t,s;return null!==(s=null===(t=(e=this._source).isMainSeries)||void 0===t?void 0:t.call(e))&&void 0!==s&&s}}class Ii extends Ni{constructor(e,t){var s;super(e,t),this._quotesData=new l.WatchedValue(null),this._forceDisableHiddenState=new l.WatchedValue(!0),this._forceDisableHiddenStateTimeout=null,this._series=e,this._marketStatus=e.marketStatusModel().status().spawn(),e.quotesProvider().quotesUpdate().subscribe(this,(()=>{this._quotesData.setValue(e.quotesProvider().quotes(),!0)})),e.quotesProvider().quoteSymbolChanged().subscribe(this,(()=>{this._quotesData.setValue(null)})),this._quotesData.setValue(e.quotes()),this._marketStatus.subscribe((e=>{null===e&&(null!==this._forceDisableHiddenStateTimeout&&clearTimeout(this._forceDisableHiddenStateTimeout),this._forceDisableHiddenState.setValue(!1),this._forceDisableHiddenStateTimeout=setTimeout((()=>{this._forceDisableHiddenStateTimeout=null,this._forceDisableHiddenState.setValue(!0)}),3500))}),{callWithLast:!0}),this._dataProblems=this._series.dataProblemModel().dataProblems().spawn(),this._marketStatus.subscribe(this._updateHiddenValue.bind(this)),this._dataProblems.subscribe(this._updateHiddenValue.bind(this)),this._forceDisableHiddenState.subscribe(this._updateHiddenValue.bind(this)),null===(s=e.onInReplayStateChanged)||void 0===s||s.call(e).subscribe(this,this._updateHiddenValue),e.onStatusChanged().subscribe(this,this._updateHiddenValue),this._updateHiddenValue()}quotesData(){return this._quotesData.readonly().spawn()}destroy(){var e,t;this._marketStatus.destroy(),this._dataProblems.destroy(),null===(t=(e=this._series).onInReplayStateChanged)||void 0===t||t.call(e).unsubscribeAll(this),this._series.quotesProvider().quotesUpdate().unsubscribeAll(this),this._series.quotesProvider().quoteSymbolChanged().unsubscribeAll(this),this._series.onStatusChanged().unsubscribeAll(this),null!==this._forceDisableHiddenStateTimeout&&clearTimeout(this._forceDisableHiddenStateTimeout),
super.destroy()}_updateHiddenValue(){const e=this._series.status(),t=this._forceDisableHiddenState.value()||this._series.isInReplay()||12===e||4===e||null!==this._marketStatus.value()&&2!==e&&1!==e||this._dataProblems.value().some((e=>"high"===e.severity));this._hidden.setValue(!t)}}var Ri=s(308721);const Oi={readOnlyMode:!1,contextMenu:{settings:!0,mainSeries:!0,studies:!0,showOpenMarketStatus:!1},symbolMarkerEnabled:!1,showToggleButton:!0,canShowSourceCode:!1,statusesWidgets:{sourceStatusesEnabled:!1,sourceStatuses:{errorSolution:!0},marketStatusEnabled:!1,marketStatus:{preMarketSolution:!0,postMarketSolution:!0},dataUpdateModeEnabled:!1,dataUpdateMode:{subscriptionFullInfo:!0},dataProblemEnabled:!1}},zi=u.enabled("hide_legend_by_default"),Fi=u.enabled("fundamental_widget"),Ui=u.enabled("legend_context_menu"),Gi=2*parseInt(S.marginlegendhoriz);class ji{constructor(e,t,s,i,n,r,d,u){this._mainSeriesViewModel=null,this._dataSourceViewModels=[],this._visibleDataSourceCount=new l.WatchedValue(0),this._themedColor=new l.WatchedValue(""),this._mainSeriesRowHidden=null,this._dataSourceRowsHidden=[],this._customWidgetsVisibilities=[],this._allLegendHidden=new l.WatchedValue(!1),this._studiesLegendHidden=new l.WatchedValue(!1),this._showCollapserWithOneIndicator=new l.WatchedValue(!1),this._customWidgetsHeights=[],this._onLegendVisibilityToggled=null,this._availableHeight=0,this._collapsedDataSourcesCount=new l.WatchedValue(0),this._collapsedDataSourcesTitle=new l.WatchedValue(""),this._mainSeriesStatusWidget=null,this._dataSourcesStatusesWidgets=[],this._statusProviders=new Map,this._size=null,this._customLegendWidgetsFactoriesMap=new Map,this._customLegendWidgetsMap=new Map,this._margin=0,this._model=e,this._paneWidget=t,this._options=(0,a.merge)((0,a.clone)(Oi),d),this._callbacks=u,this._mainSeriesViewModelsOptions={readOnlyMode:this._options.readOnlyMode,symbolMarkerEnabled:this._options.symbolMarkerEnabled},this._dataSourceViewModelsOptions={...this._mainSeriesViewModelsOptions,canShowSourceCode:this._options.canShowSourceCode},this._backgroundThemeName=s;const c=this._showLegendCalculatedProperty();if(this._isDataSourcesCollapsed=new l.WatchedValue(c.value()),c.subscribe(this,(()=>{this._isDataSourcesCollapsed.setValue(c.value())})),zi&&!vs.getBool("legend.isVisibilityToggled")){const e=this._showLegendOriginalProperty();this._onLegendVisibilityToggled=this._setLegendVisibilityToggled.bind(this),e.setValue(!1),e.subscribe(this,this._onLegendVisibilityToggled)}const h=new l.WatchedValue(this._getCustomTextColorValue()),p=this._model.model().properties().childs();p.scalesProperties.childs().textColor.subscribe(this,(()=>{h.setValue(this._getCustomTextColorValue())}));const _=p.paneProperties.childs().legendProperties.childs().showBackground,m=new l.WatchedValue(_.value());_.subscribe(this,(()=>{m.setValue(_.value())}));const g=p.paneProperties.childs().legendProperties.childs().backgroundTransparency,v=new l.WatchedValue(g.value());g.subscribe(this,(()=>{v.setValue(g.value())})),this._hideNotMainSources=i,
this._hideNotMainSources.subscribe(this._updateLegendVisibilities.bind(this)),this._hideAllExceptFirstLine=n,this._hideAllExceptFirstLine.subscribe(this._updateCollapsedSourcesMode.bind(this)),this._hideWholeLegend=r,this._hideWholeLegend.subscribe(this._updateLegendVisibilities.bind(this)),this._isPaneMain=new l.WatchedValue(this._getIsPaneMainValue()),this._updateCollapsedSourcesModeThrottle=(0,o.default)(this._updateCollapsedSourcesMode.bind(this),100),this._isPaneMain.subscribe((e=>this._showCollapserWithOneIndicator.setValue(e)),{callWithLast:!0}),this._renderer=new Y({withActions:!this._options.readOnlyMode,showToggleButton:this._options.showToggleButton,isStudiesLegendHidden:this._studiesLegendHidden.readonly(),isAllLegendHidden:this._allLegendHidden.readonly(),customTextColor:h.readonly(),themedColor:this._themedColor.readonly(),showBackground:m.readonly(),backgroundTransparency:v.readonly(),collapsedDataSourcesCount:this._collapsedDataSourcesCount.readonly(),collapsedDataSourcesTitle:this._collapsedDataSourcesTitle.readonly(),showLegendWidgetContextMenu:this.onShowLegendWidgetContextMenu.bind(this),hideAllExceptFirstLine:this._hideAllExceptFirstLine},{showCollapserWithOneIndicator:this._showCollapserWithOneIndicator.readonly(),visibleDataSourceCount:this._visibleDataSourceCount.readonly(),isDataSourcesCollapsed:this._isDataSourcesCollapsed.readonly(),showObjectsTree:this._isPaneMain.readonly(),onCollapseDataSources:this.onCollapseDataSources.bind(this),onShowObjectsTreeDialog:this._callbacks.showObjectsTreeDialog})}destroy(){this._backgroundThemeName.release(),this._hideNotMainSources.release(),this._hideAllExceptFirstLine.release(),this._hideWholeLegend.release(),null!==this._mainSeriesViewModel&&this._destroyMainDataSource();for(const[,e]of this._statusProviders)e.destroy();for(const e of this._dataSourceViewModels)e.destroy();for(const e of this._dataSourcesStatusesWidgets)e.destroy();this._clearSubscriptions();for(const e of Array.from(this._customLegendWidgetsMap.keys()))this._destroyCustomWidgetFromLayerBlock(e);this._customLegendWidgetsMap.clear(),this._renderer.destroy(),delete this._renderer,this._showLegendCalculatedProperty().unsubscribeAll(this),this._showLegendOriginalProperty().unsubscribeAll(this);const e=this._model.model().properties().childs();e.scalesProperties.childs().textColor.unsubscribeAll(this),e.paneProperties.childs().legendProperties.childs().showBackground.unsubscribeAll(this),e.paneProperties.childs().legendProperties.childs().backgroundTransparency.unsubscribeAll(this)}addCustomWidgetToLegend(e,t){const s=this._customLegendWidgetsFactoriesMap.get(t.block)||new Map,i=s.get(t.position)||[];i.push(e),s.set(t.position,i),this._customLegendWidgetsFactoriesMap.set(t.block,s),this.updateLayout(),this._updateCustomWidgetModeBySize()}onShowLegendWidgetContextMenu(e,t){if(this._options.readOnlyMode||!Ui)return Promise.resolve();z("Show legend context menu");const s=new Map;for(const e of Array.from(this._customLegendWidgetsMap.keys())){const t=(0,
n.ensureDefined)(this._customLegendWidgetsMap.get(e)),i=new Map;for(const e of Array.from(t.keys())){const s=(0,n.ensureDefined)(t.get(e)),o=i.get(e)||[];for(const e of s)o.push(...e.contextMenuActions());i.set(e,o)}s.set(e,i)}return function(e,t,s,i,o,n){const l=[],a=i.get(0);if(void 0!==a){const e=a.get(1);void 0!==e&&e.length>0&&(l.push(...e),l.push(new we.Separator))}const r=e.model().properties().childs().paneProperties.childs().legendProperties.childs();l.push(new we.Action({actionId:"Chart.Legend.ToggleSymbolVisibility",options:{checkable:!0,checked:r.showSeriesTitle.value(),label:Xt,statName:"Show Symbol",onExecute:()=>Rt(e,r.showSeriesTitle,Ot)}})),t.showOpenMarketStatus&&"market"===e.mainSeries().marketStatusModel().status().value()&&!(0,Pt.isEconomicSymbol)(e.mainSeries().symbolInfo())&&l.push(new we.Action({actionId:"Chart.Legend.ToggleOpenMarketStatusVisibility",options:{checkable:!0,checked:Ht.showMarketOpenStatusProperty.value(),label:Jt,statName:"Show Open market status",onExecute:()=>Rt(e,Ht.showMarketOpenStatusProperty,zt)}})),l.push(new we.Action({actionId:"Chart.Legend.ToggleOhlcValuesVisibility",options:{checkable:!0,checked:r.showSeriesOHLC.value(),label:Kt,statName:"Show OHLC Values",onExecute:()=>Rt(e,r.showSeriesOHLC,Ft)}}));const d=12!==e.mainSeries().style();if(d&&!Nt.alwaysShowLastPriceAndLastDayChange&&l.push(new we.Action({actionId:"Chart.Legend.ToggleBarChangeValuesVisibility",options:{checkable:!0,checked:r.showBarChange.value(),label:Yt,statName:"Show Bar Change Values",onExecute:()=>Rt(e,r.showBarChange,Gt)}})),l.push(new we.Action({actionId:"Chart.Legend.ToggleVolumeVisibility",options:{checkable:!0,checked:r.showVolume.value(),label:es,statName:"Show Volume",onExecute:()=>Rt(e,r.showVolume,qt)}})),d&&(Nt.lastDayChangeAvailable||Nt.alwaysShowLastPriceAndLastDayChange)){const t=Nt.alwaysShowLastPriceAndLastDayChange?r.showBarChange:r.showLastDayChange;l.push(new we.Action({actionId:"Chart.Legend.ToggleLastDayChangeValuesVisibility",options:{checkable:!0,checked:t.value(),label:Qt,statName:"Last day change values",onExecute:()=>Rt(e,t,Ut)}}))}if(l.push(new we.Separator),void 0!==a){const e=a.get(0);void 0!==e&&e.length>0&&(l.push(...e),l.push(new we.Separator))}const u=i.get(1);if(void 0!==u){const e=u.get(1);void 0!==e&&e.length>0&&(l.push(...e),l.push(new we.Separator))}if(e.model().priceDataSources().some((e=>!(0,it.isActingAsSymbolSource)(e)&&e.showInObjectTree()))&&(l.push(new we.Action({actionId:"Chart.Legend.ToggleIndicatorTitlesVisibility",options:{checkable:!0,checked:r.showStudyTitles.value(),label:ts,statName:"Show Indicator Titles",onExecute:()=>Rt(e,r.showStudyTitles,jt)}})),l.push(new we.Action({actionId:"Chart.Legend.ToggleIndicatorArgumentsVisibility",options:{checkable:!0,checked:r.showStudyArguments.value(),label:ss,statName:"Show Indicator Arguments",onExecute:()=>Rt(e,r.showStudyArguments,Zt)}})),l.push(new we.Action({actionId:"Chart.Legend.ToggleIndicatorValuesVisibility",options:{checkable:!0,checked:r.showStudyValues.value(),label:is,
statName:"Show Indicator Values",onExecute:()=>Rt(e,r.showStudyValues,$t)}}))),void 0!==u){const e=u.get(0);void 0!==e&&e.length>0&&(l.push(...e),l.push(new we.Separator))}t.settings&&(l[l.length-1]instanceof we.Separator||l.push(new we.Separator),l.push(new It.ActionWithStandardIcon({actionId:"Chart.Dialogs.ShowGeneralSettings.LegendTab",options:{label:os,iconId:"Settings",statName:"Settings...",onExecute:()=>s(We.TabNames.legend)}})));const c=ns(o.target,"entityId"),h={menuName:"LegendPropertiesContextMenu",detail:{type:c?"study":"series",id:null!=c?c:"_seriesId"}};return Se.ContextMenuManager.showMenu(l,o,void 0,h,n)}(this._model,this._options.contextMenu,this._callbacks.showGeneralChartProperties,s,e,t)}onCollapseDataSources(){const e=this._showLegendOriginalProperty();e.setValue(!e.value())}updateLayout(){const e=this._paneWidget.state().sourcesByGroup().legendViewSources().filter((e=>null!==e.statusView()&&e.isDisplayedInLegend())),t=Array.from(this._statusProviders.keys()).filter((t=>!e.includes(t)));for(const e of t){const t=this._statusProviders.get(e);t&&(t.destroy(),this._statusProviders.delete(e))}if(0===e.length)return;const s=this._model.mainSeries(),i=e.indexOf(s);i>-1?(e.splice(i,1),Fi||null!==this._mainSeriesViewModel||(this._mainSeriesViewModel=new Qe(this._model,s,this._mainSeriesViewModelsOptions,this._callbacks,this._options.contextMenu),this._mainSeriesStatusWidget=new Hi(this._statusSourceAdapter(s),this._model.model(),this._options.statusesWidgets),this._renderer.addMainDataSource(this._mainSeriesViewModel,this._mainSeriesStatusWidget)),this._addCustomWidgetForLayerBlock(0)):null!==this._mainSeriesViewModel&&(this._destroyMainDataSource(),this._destroyCustomWidgetFromLayerBlock(0));const o=[],l=[],a=this._dataSourceViewModels.length;if(0===a)for(let t=e.length-1;t>=0;t--){const s=e[t];o.push(new Wt(this._model,s,this._dataSourceViewModelsOptions,this._callbacks,this._options.contextMenu)),l.push(new mi(this._statusSourceAdapter(s),this._options.statusesWidgets))}else{let t=0;for(let s=e.length-1;s>=0;s--){const i=e[s];this._dataSourceViewModels[t]?(this._dataSourceViewModels[t].updateSource(i),this._dataSourcesStatusesWidgets[t].updateSource(this._statusSourceAdapter(i))):(o.push(new Wt(this._model,i,this._dataSourceViewModelsOptions,this._callbacks,this._options.contextMenu)),l.push(new mi(this._statusSourceAdapter(i),this._options.statusesWidgets))),t++}for(;this._dataSourceViewModels.length>t;)(0,n.ensureDefined)(this._dataSourceViewModels.pop()).destroy();for(;this._dataSourcesStatusesWidgets.length>t;)(0,n.ensureDefined)(this._dataSourcesStatusesWidgets.pop()).destroy()}0!==o.length&&(this._renderer.addDataSources(o,l),this._dataSourceViewModels.push(...o),this._dataSourcesStatusesWidgets.push(...l)),a!==this._dataSourceViewModels.length&&this._updateCollapsedSourcesMode(),this._dataSourceViewModels.length>0?this._addCustomWidgetForLayerBlock(1):this._destroyCustomWidgetFromLayerBlock(1),this._recreateSubscriptions(),this._isPaneMain.setValue(this._getIsPaneMainValue()),this.update(),
this._updateWidgetModeByWidth()}update(){null!==this._mainSeriesViewModel&&this._mainSeriesViewModel.update();for(const e of this._dataSourceViewModels)e.update()}updateThemedColors(e){null===e&&(e=(0,Ri.getStdThemedValue)("chartProperties.paneProperties.background",this._backgroundThemeName.value())),this._themedColor.setValue(e||"")}firstTitle(){return this._renderer.firstTitle()}getElement(){return this._renderer.getElement()}addMargin(e){if(this._margin===e)return;this._margin=e;this._renderer.getElement().style.maxWidth=0===this._margin?"":`calc(100% - ${this._margin+Gi}px)`,this._updateWidgetModeBySize()}updateWidgetModeBySize(e){this._size=e,this._updateWidgetModeBySize()}_statusSourceAdapter(e){let t=this._statusProviders.get(e);return void 0===t&&(t=e!==this._model.mainSeries()?new Ni(e,this._model.model()):new Ii(this._model.mainSeries(),this._model.model()),this._statusProviders.set(e,t)),t}_updateWidgetModeBySize(){this._updateWidgetModeByWidth(),this._updateWidgetModeByHeight(),this._updateCustomWidgetModeBySize()}_updateWidgetModeByWidth(){if(null===this._size)return;const e=this._availableWidth();this._renderer.updateMode(e),this._paneWidget.hasState()&&this._paneWidget.state().containsMainSeries()&&this._model.mainSeries().setTextSourceIsAlwaysTickerRestrictionEnabled(e<=132)}_updateWidgetModeByHeight(){null!==this._size&&(this._availableHeight=.8*this._size.height,this._updateCollapsedSourcesModeThrottle())}_updateCustomWidgetModeBySize(){if(null===this._size)return;const e=(0,i.size)({width:this._availableWidth(),height:this._size.height});for(const t of Array.from(this._customLegendWidgetsMap.values()))for(const s of Array.from(t.values()))for(const t of s)t.updateWidgetModeBySize(e)}_destroyMainDataSource(){(0,n.ensureNotNull)(this._mainSeriesStatusWidget).destroy(),this._mainSeriesStatusWidget=null,(0,n.ensureNotNull)(this._mainSeriesViewModel).destroy(),this._mainSeriesViewModel=null}_updateCollapsedSourcesMode(){const e=this._dataSourceViewModels.length,t=this._hideAllExceptFirstLine.value();if(this._availableHeight>0&&e>2){const s=Number(this._renderer.getMainSourceHeight()),i=this._renderer.getDataSourceHeight(),o=this._getCustomWidgetsHeight();if(null!==i){const n=Math.floor((this._availableHeight-s-o)/i),l=Math.max(n,2)-1;if(e>l+1){let s="";for(let i=0;i<e;i++){const e=i<l;this._dataSourceViewModels[i].setGlobalVisibility(e&&(!t||0===i)),e||(s+=`${0===s.length?"":", "}${this._dataSourceViewModels[i].getFullTitle()}`)}return this._collapsedDataSourcesTitle.setValue(s),void this._collapsedDataSourcesCount.setValue(e-l)}}}for(let e=0;e<this._dataSourceViewModels.length;++e)this._dataSourceViewModels[e].setGlobalVisibility(!t||0===e);this._collapsedDataSourcesCount.setValue(0),this._collapsedDataSourcesTitle.setValue("")}_getCustomWidgetsHeight(){let e=0;for(const t of Array.from(this._customLegendWidgetsMap.values()))for(const s of Array.from(t.values()))for(const t of s)e+=t.height().value();return e}_getCustomTextColorValue(){
const e=this._model.model().properties().childs().scalesProperties.childs().textColor.value();return(0,Ri.isStdThemedDefaultValue)("chartProperties.scalesProperties.textColor",e,(0,Ri.getCurrentTheme)().name)?null:e}_clearSubscriptions(){null!==this._mainSeriesRowHidden&&(this._mainSeriesRowHidden.destroy(),this._mainSeriesRowHidden=null);for(const e of this._dataSourceRowsHidden)e.destroy();this._dataSourceRowsHidden=[];for(const e of this._customWidgetsVisibilities)e.destroy();this._customWidgetsVisibilities=[];for(const e of this._customWidgetsHeights)e.destroy();this._customWidgetsHeights=[]}_recreateSubscriptions(){this._clearSubscriptions(),null!==this._mainSeriesViewModel&&(this._mainSeriesRowHidden=this._mainSeriesViewModel.isRowHidden().spawn(),this._mainSeriesRowHidden.subscribe(this._updateLegendVisibilities.bind(this)));for(const e of this._dataSourceViewModels){const t=e.isRowHidden().spawn();this._dataSourceRowsHidden.push(t),t.subscribe(this._updateVisibleDataSourceCount.bind(this)),t.subscribe(this._updateLegendVisibilities.bind(this))}for(const e of Array.from(this._customLegendWidgetsMap.values()))for(const t of Array.from(e.values()))for(const e of t){const t=e.visibility().spawn();this._customWidgetsVisibilities.push(t),t.subscribe(this._updateLegendVisibilities.bind(this));const s=e.height().spawn();this._customWidgetsHeights.push(s),s.subscribe(this._updateCollapsedSourcesMode.bind(this))}this._updateVisibleDataSourceCount(),this._updateLegendVisibilities()}_updateLegendVisibilities(){if(this._hideWholeLegend.value())return void this._allLegendHidden.setValue(!0);const e=this._dataSourceRowsHidden.every((e=>e.value())),t=this._hideNotMainSources.value()||e;this._studiesLegendHidden.setValue(t);const s=null===this._mainSeriesRowHidden||this._mainSeriesRowHidden.value(),i=this._customWidgetsVisibilities.some((e=>e.value()));this._allLegendHidden.setValue(e&&s&&!i)}_updateVisibleDataSourceCount(){const e=this._dataSourceRowsHidden.filter((e=>!e.value())).length;this._visibleDataSourceCount.setValue(e)}_setLegendVisibilityToggled(){vs.setValue("legend.isVisibilityToggled",!0);this._showLegendOriginalProperty().unsubscribe(this,(0,n.ensureNotNull)(this._onLegendVisibilityToggled))}_getIsPaneMainValue(){return this._paneWidget.containsMainSeries()}_showLegendCalculatedProperty(){return this._model.model().showLegend()}_showLegendOriginalProperty(){return this._model.model().properties().childs().paneProperties.childs().legendProperties.childs().showLegend}_addCustomWidgetForLayerBlock(e){const t=this._customLegendWidgetsFactoriesMap.get(e);if(void 0===t)return;const s=this._customLegendWidgetsMap.get(e)||new Map;let i=!1;for(const o of Array.from(t.keys())){const n=s.get(o)||[],l=t.get(o)||[];for(let t=n.length;t<l.length;t++){const s=l[t](this._model.model(),this._backgroundThemeName.spawnOwnership());0===e&&0===o&&s.setGlobalVisibility((0,re.combine)(((e,t)=>!e&&!t),this._hideNotMainSources.weakReference(),this._hideAllExceptFirstLine.weakReference()).ownership()),n.push(s),
this._renderer.addCustomWidget(s,{block:e,position:o}),i=!0}i&&s.set(o,n)}i&&this._customLegendWidgetsMap.set(e,s)}_destroyCustomWidgetFromLayerBlock(e){const t=this._customLegendWidgetsMap.get(e);if(void 0!==t){for(const e of Array.from(t.values()))for(const t of e)t.destroy();t.clear(),this._customLegendWidgetsMap.delete(e)}}_availableWidth(){return null===this._size?0:this._size.width-this._margin-Gi}}},146111:(e,t,s)=>{"use strict";s.d(t,{reactLoaderRendererCreator:()=>l});var i=s(265742),o=s(50959),n=s(707488);function l(e,t){return(s,l)=>function(e,t,s,l){const a=document.createElement("span"),r=(0,i.createRoot)(a);function d(e){a.classList.toggle(n.blockHidden,!e)}d(!1);const{className:u}=null!=l?l:{};return u&&a.classList.add(u),r.render((0,o.createElement)(t,s)),e.appendChild(a),{toggleVisibility:d,destroy:function(){r.unmount()}}}(s,e,t,l)}},486029:(e,t,s)=>{"use strict";s.d(t,{createPointsLoaderRenderer:()=>o});var i=s(265005);const o=(0,s(146111).reactLoaderRendererCreator)(i.Loader,{staticPosition:!0,size:"small"})},580723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PaneControlsWidget:()=>K});var i=s(778785),o=s(345848),n=s(444372),l=s(470316),a=s(939702),r=s(373017),d=s(650151),u=s(724377),c=s(156836),h=s(45156),p=s(580602),_=s(694815),m=s(707488);class g{constructor(e,t,s){this._parentEl=document.createElement("div"),this._listActionsWrapperEl=null,this._listActionsElements={},this._actionsSpawns={},this._onMouseEnterLeaveEventHandler=null,this._mouseOverWidget=!1,this._wrapEl=e,this._onMouseEnterLeaveEventHandler=this._onMouseEnterLeaveEvent.bind(this),this._wrapEl.addEventListener("mouseenter",this._onMouseEnterLeaveEventHandler),this._wrapEl.addEventListener("mouseleave",this._onMouseEnterLeaveEventHandler),this._actions=t,this._globalVisibility=s.globalVisibility.spawn(),this._globalVisibility.subscribe(this._updatePaneControlsWidgetVisibility.bind(this)),this._visibilityType=s.visibilityType.spawn(),this._visibilityType.subscribe(this._updatePaneControlsWidgetVisibility.bind(this)),this._doNotSwitchToContextMenuMode=s.doNotSwitchToContextMenuMode,this._themedColor=s.themedColor.spawn(),this._themedColor.subscribe(this._updateThemedColor.bind(this));for(const[e,t]of Object.entries(this._actions)){const s=e;this._actionsSpawns[s]={visible:t.visible.spawn(),title:void 0===t.title?null:t.title.spawn()},this._actionsSpawns[s].visible.subscribe(this._updateActionVisibilities.bind(this,s));const i=this._actionsSpawns[s].title;null!==i&&i.subscribe(this._updateActionTitle.bind(this,s))}this._render(),this._updatePaneControlsWidgetVisibility(),this._updateThemedColor(this._themedColor.value()),this._parentEl.classList.toggle(_.touchMode,c.trackingModeIsAvailable),this._parentEl.addEventListener("contextmenu",(e=>e.preventDefault())),p.PLATFORM_ACCESSIBILITY_ENABLED&&this._parentEl.setAttribute("aria-hidden","true")}destroy(){this._visibilityType.destroy(),this._themedColor.destroy();for(const e of Object.keys(this._actionsSpawns)){const t=e;this._actionsSpawns[t].visible.destroy()
;const s=this._actionsSpawns[t].title;null!==s&&s.destroy()}null!==this._onMouseEnterLeaveEventHandler&&(this._wrapEl.removeEventListener("mouseenter",this._onMouseEnterLeaveEventHandler),this._wrapEl.removeEventListener("mouseleave",this._onMouseEnterLeaveEventHandler),this._onMouseEnterLeaveEventHandler=null),this._parentEl.innerHTML="",delete this._parentEl}getElement(){return this._parentEl}bottomWithMargin(){const e=this._parentEl.classList.contains(_.touchMode)?Number(_.css_value_pane_controls_button_touch_size):Number(_.css_value_pane_controls_button_size);return 2*Number(_.css_value_pane_controls_margin_top)+e}updateWidgetModeByWidth(e){const t=!this._doNotSwitchToContextMenuMode.value()&&e<356,s=!this._doNotSwitchToContextMenuMode.value()&&e<666.65,i=(0,d.ensureNotNull)(this._listActionsWrapperEl),o=(0,d.ensureNotNull)(this._listActionsElements.more);i.classList.toggle(m.blockHidden,t||s),o.classList.toggle(m.blockHidden,t||!s||!this._actions.more.visible.value())}_render(){this._renderActions(),this._parentEl.classList.add(_.paneControls),this._wrapEl.append(this._parentEl)}_renderActions(){null===this._listActionsWrapperEl&&(this._listActionsWrapperEl=document.createElement("div"),this._listActionsWrapperEl.classList.add(_.buttonsWrapper),this._parentEl.append(this._listActionsWrapperEl));const e=c.trackingModeIsAvailable?"large":"small";this._listActionsElements.up=(0,h.createActionElement)(this._actions.up,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.down=(0,h.createActionElement)(this._actions.down,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.collapse=(0,h.createActionElement)(this._actions.collapse,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.restore=(0,h.createActionElement)(this._actions.restore,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.close=(0,h.createActionElement)(this._actions.close,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.maximize=(0,h.createActionElement)(this._actions.maximize,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsElements.minimize=(0,h.createActionElement)(this._actions.minimize,_.button,_.buttonIcon,m.blockHidden,e),this._listActionsWrapperEl.append(this._listActionsElements.up,this._listActionsElements.down,this._listActionsElements.close,this._listActionsElements.collapse,this._listActionsElements.restore,this._listActionsElements.maximize,this._listActionsElements.minimize),this._listActionsElements.more=(0,h.createActionElement)(this._actions.more,_.button,_.buttonIcon,m.blockHidden,e);for(const e of Object.keys(this._listActionsElements))(0,d.ensureNotNull)(this._listActionsElements[e]).classList.add(_.newButton);this._parentEl.append(this._listActionsElements.more)}_updateActionVisibilities(e,t){(0,d.ensureNotNull)(this._listActionsElements[e]).classList.toggle(m.blockHidden,!t)}_updateActionTitle(e,t){(0,d.ensureNotNull)(this._listActionsElements[e]).setAttribute("title",t)}_onMouseEnterLeaveEvent(e){this._mouseOverWidget="mouseenter"===e.type,
"visibleOnMouseOver"===this._visibilityType.value()&&this._updatePaneControlsWidgetVisibility()}_updatePaneControlsWidgetVisibility(){let e,t=!1;switch(this._visibilityType.value()){case"alwaysOff":e=!1,t=!0;break;case"alwaysOn":e=this._globalVisibility.value();break;case"visibleOnMouseOver":e=this._globalVisibility.value()&&this._mouseOverWidget}this._parentEl.classList.toggle(_.hidden,!e),this._parentEl.classList.toggle(_.forceHidden,!this._globalVisibility.value()||t)}_updateThemedColor(e){if(e.length>0){const[t,s,i]=(0,u.parseRgb)(e);this._parentEl.style.color=(0,u.rgbaToString)([t,s,i,(0,u.normalizeAlphaComponent)(.8)])}else this._parentEl.style.removeProperty("color")}}var v=s(373571),b=s(783375),y=s(636016),w=s(472899),S=s(648344),f=s(99539),C=s(520465),E=s(334763);const M=n.t(null,void 0,s(68854)),x=M,k=(0,l.humanReadableModifiers)(l.Modifiers.Mod)+M;var L=s(129025),V=s(308721),D=s(604286),T=s(572237),A=s(981020),W=s(203515),P=s(279526),H=s(682847),B=s(374362),N=s(970471),I=s(671402),R=s(142930);const O=i.mobiletouch,z=n.t(null,void 0,s(683498)),F=n.t(null,void 0,s(370343)),U=n.t(null,void 0,s(939899)),G=n.t(null,void 0,s(819603)),j=n.t(null,void 0,s(491029)),Z=n.t(null,void 0,s(39589)),$=n.t(null,void 0,s(335732)),q=n.t(null,void 0,s(68854)),X=(0,D.hotKeySerialize)({keys:[""],text:q}),J=(0,D.hotKeySerialize)({keys:[(0,l.humanReadableModifiers)(l.Modifiers.Mod,!1)],text:`{0} + ${q}`});class K{constructor(e,t,s,i,o){this._actions={},this._moreCMShown=!1,this._themedColor=new L.WatchedValue(""),this._model=e,this._paneWidget=t,this._callbacks=i,this._closeButtonVisibility=new L.WatchedValue(this._getCloseButtonVisibility()),this._upButtonVisibility=new L.WatchedValue(this._getUpButtonVisibility()),this._downButtonVisibility=new L.WatchedValue(this._getDownButtonVisibility()),this._maximizeButtonVisibility=new L.WatchedValue(this._getMaximizeButtonVisibility()),this._minimizeButtonVisibility=new L.WatchedValue(this._getMinimizeButtonVisibility()),this._collapseButtonVisibility=new L.WatchedValue(this._getCollapseButtonVisibility()),this._restoreButtonVisibility=new L.WatchedValue(this._getRestoreButtonVisibility()),this._createActions(),this._visibilityTypeProperty=(0,a.actualBehavior)(),this._visibilityTypeProperty.subscribe(this,(e=>{this._visibilityType.setValue(e.value())})),this._visibilityType=new L.WatchedValue(this._visibilityTypeProperty.value()),this._isPaneMaximize=new L.WatchedValue(this._getIsPaneMaximizeValue()),this._isWidgetShow=new L.WatchedValue(this._getIsWidgetShow()),this._backgroundThemeName=s.backgroundThemeName,this._renderer=new g(o,this._actions,{visibilityType:this._visibilityType.readonly(),globalVisibility:this._isWidgetShow.readonly(),doNotSwitchToContextMenuMode:this._isPaneMaximize.readonly(),themedColor:this._themedColor.readonly()})}destroy(){this._visibilityTypeProperty.unsubscribeAll(this),this._renderer.destroy()}getElement(){return this._renderer.getElement()}bottomWithMargin(){return this._renderer.bottomWithMargin()}action(){return this._actions}update(){
this._updateButtonsVisibility(),this._isPaneMaximize.setValue(this._getIsPaneMaximizeValue()),this._isWidgetShow.setValue(this._getIsWidgetShow())}updateWidgetModeByWidth(e){this._renderer.updateWidgetModeByWidth(e)}updateThemedColors(e){null===e&&(e=(0,V.getStdThemedValue)("chartProperties.paneProperties.background",this._backgroundThemeName.value())),this._themedColor.setValue(e||"")}_updateButtonsVisibility(){this._closeButtonVisibility.setValue(this._getCloseButtonVisibility()),this._upButtonVisibility.setValue(this._getUpButtonVisibility()),this._downButtonVisibility.setValue(this._getDownButtonVisibility()),this._maximizeButtonVisibility.setValue(this._getMaximizeButtonVisibility()),this._minimizeButtonVisibility.setValue(this._getMinimizeButtonVisibility()),this._collapseButtonVisibility.setValue(this._getCollapseButtonVisibility()),this._restoreButtonVisibility.setValue(this._getRestoreButtonVisibility())}_createActions(){this._actions.up={iconMap:new Map([["large",A],["small",A]]),action:this._onUpDownButton.bind(this,"up"),visible:this._upButtonVisibility,title:new L.WatchedValue(F),className:_.up,dataset:{name:"pane-button-up"}},this._actions.down={iconMap:new Map([["large",W],["small",W]]),action:this._onUpDownButton.bind(this,"down"),visible:this._downButtonVisibility,title:new L.WatchedValue(U),className:_.down,dataset:{name:"pane-button-down"}},this._actions.close={iconMap:new Map([["large",T],["small",T]]),action:this._onCloseButton.bind(this),visible:this._closeButtonVisibility,title:new L.WatchedValue(z),dataset:{name:"pane-button-close"}},this._actions.maximize={iconMap:new Map([["large",B],["small",P]]),action:this._onToggleMaximizeButton.bind(this,"Maximize pane"),visible:this._maximizeButtonVisibility,title:new L.WatchedValue(G),hotKeyTitle:X,className:_.maximize,dataset:{name:"pane-button-maximize"}},this._actions.minimize={iconMap:new Map([["large",B],["small",P]]),action:this._onToggleMaximizeButton.bind(this,"Minimize pane"),visible:this._minimizeButtonVisibility,title:new L.WatchedValue(j),hotKeyTitle:X,className:_.minimize,dataset:{name:"pane-button-minimize"}},this._actions.collapse={iconMap:new Map([["large",I],["small",I]]),action:this._onToggleCollapseButton.bind(this,"Collapse pane"),visible:this._collapseButtonVisibility,title:new L.WatchedValue(Z),hotKeyTitle:J,className:_.collapse,dataset:{name:"pane-button-collapse"}},this._actions.restore={iconMap:new Map([["large",R],["small",R]]),action:this._onToggleCollapseButton.bind(this,"Restore pane"),visible:this._restoreButtonVisibility,title:new L.WatchedValue(j),hotKeyTitle:J,className:_.restore,dataset:{name:"pane-button-restore"}},this._actions.more={iconMap:new Map([["large",N],["small",H]]),action:this._showButtonsInContextMenu.bind(this),visible:new L.WatchedValue(!O),title:new L.WatchedValue($),dataset:{name:"pane-button-more"}}}_getCloseButtonVisibility(){const e=this._paneWidget.state();let t=!1;return e.containsMainSeries()||e.maximized().value()||O||(t=e.dataSources().some((e=>(0,r.isStudy)(e)))),t}_onCloseButton(){
this._trackEvent("Delete pane");const e=this._model.model().panes().indexOf(this._paneWidget.state());this._model.removePane(e)}_getUpButtonVisibility(){const e=this._paneWidget.state();return this._model.model().panes().indexOf(e)>0&&!e.maximized().value()&&!O}_getDownButtonVisibility(){const e=this._paneWidget.state(),t=this._model.model().panes();return t.indexOf(e)<t.length-1&&!e.maximized().value()&&!O}_onUpDownButton(e){this._trackEvent(`Move pane ${e}`);const t=this._model.model().panes().indexOf(this._paneWidget.state());this._model.rearrangePanes(t,e)}_getMaximizeButtonVisibility(){const e=this._paneWidget.state();return this._model.model().panes().length>1&&!e.maximized().value()&&!O}_getMinimizeButtonVisibility(){const e=this._paneWidget.state();return this._model.model().panes().length>1&&e.maximized().value()}_getCollapseButtonVisibility(){if(O)return!1;const e=this._paneWidget.state();return!e.maximized().value()&&!e.collapsed().value()&&this._model.model().paneCollapsingAvailable().value()}_getRestoreButtonVisibility(){const e=this._paneWidget.state();return!e.maximized().value()&&e.collapsed().value()}_onToggleMaximizeButton(e){this._trackEvent(e),this._callbacks.toggleMaximizePane(this._paneWidget)}_onToggleCollapseButton(e){this._trackEvent(e),this._model.toggleCollapsedPane(this._paneWidget.state())}_showButtonsInContextMenu(e){e.preventDefault(),this._moreCMShown||function(e,t,s){const i=[];if(e.maximize.visible.value()){const t=(0,d.ensure)(e.maximize.title),s=(0,d.ensureNotNull)(e.maximize.action);i.push(new v.Action({actionId:"Chart.PaneControls.MaximizePane",options:{icon:f,label:t.value(),statName:"Maximize Pane",shortcutHint:x,onExecute:()=>s()}}))}else if(e.minimize.visible.value()){const t=(0,d.ensure)(e.minimize.title),s=(0,d.ensureNotNull)(e.minimize.action);i.push(new v.Action({actionId:"Chart.PaneControls.MinimizePane",options:{icon:f,label:t.value(),statName:"Minimize Pane",shortcutHint:x,onExecute:()=>s()}}))}if(e.collapse.visible.value()){const t=(0,d.ensure)(e.collapse.title),s=(0,d.ensureNotNull)(e.collapse.action);i.push(new v.Action({actionId:"Chart.PaneControls.CollapsePane",options:{icon:C,label:t.value(),statName:"Collapse pane",shortcutHint:k,onExecute:()=>s()}}))}if(e.restore.visible.value()){const t=(0,d.ensure)(e.restore.title),s=(0,d.ensureNotNull)(e.restore.action);i.push(new v.Action({actionId:"Chart.PaneControls.RestorePane",options:{icon:E,label:t.value(),statName:"Restore pane",shortcutHint:k,onExecute:()=>s()}}))}if(e.up.visible.value()){const t=(0,d.ensure)(e.up.title),s=(0,d.ensureNotNull)(e.up.action);i.push(new v.Action({actionId:"Chart.PaneControls.MovePaneUp",options:{icon:w,label:t.value(),statName:"Move pane up",onExecute:()=>s()}}))}if(e.down.visible.value()){const t=(0,d.ensure)(e.down.title),s=(0,d.ensureNotNull)(e.down.action);i.push(new v.Action({actionId:"Chart.PaneControls.MovePaneDown",options:{icon:S,label:t.value(),statName:"Move pane down",onExecute:()=>s()}}))}if(e.close.visible.value()){const t=(0,d.ensure)(e.close.title),s=(0,
d.ensureNotNull)(e.close.action);i.push(new v.Action({actionId:"Chart.PaneControls.DeletePane",options:{icon:y,label:t.value(),statName:"Delete pane",onExecute:()=>s()}}))}const o=(0,d.ensureNotNull)(t.target).getBoundingClientRect();return b.ContextMenuManager.showMenu(i,{clientX:o.right,clientY:o.top+o.height+3,attachToXBy:"right"},void 0,void 0,s)}(this._actions,e,(()=>{this._moreCMShown=!1})).then((()=>{this._moreCMShown=!0}))}_getIsPaneMaximizeValue(){return this._paneWidget.state().maximized().value()}_getIsWidgetShow(){return this._model.model().panes().length>1}_trackEvent(e){(0,o.trackEvent)("GUI","Pane action",e)}}},45156:(e,t,s)=>{"use strict";s.d(t,{createActionElement:()=>o});var i=s(389137);function o(e,t,s,o,n){const l=document.createElement("div");l.className=t,l.classList.toggle(o,!e.visible.value()),Object.assign(l.dataset,e.dataset),void 0!==e.className&&l.classList.add(e.className),void 0!==e.title&&(l.classList.add("apply-common-tooltip"),l.setAttribute("title",e.title.value()),void 0!==e.hotKeyTitle&&(l.dataset.tooltipHotkey=e.hotKeyTitle)),l.addEventListener("touchend",e.action),l.addEventListener("mousedown",(t=>{0===t.button&&e.action(t)}));const a=document.createElement("div");a.classList.add(s);const r=e.iconMap.get(n)||"";return(0,i.isString)(r)?a.innerHTML=r:a.appendChild(r),l.appendChild(a),l}},556174:(e,t,s)=>{"use strict";s.d(t,{MarketStatusViewModel:()=>y});var i=s(919476),o=s(129025),n=s(14952),l=s(269040),a=s(149511),r=s(444372),d=s(364123),u=s(792845),c=s(109494);const h=new Map([["small",u],["medium",c],["large",c]]),p=d.marketStatusExpired,_=r.t(null,void 0,s(911235)),m=r.t(null,void 0,s(911235)),g=a.colorsPalette["color-market-expired"],v=r.t(null,void 0,s(929493));var b=s(380271);class y extends l.StatusViewModel{constructor(e,t,s=!1){super({tooltipMap:b.tooltipMap,iconMap:b.iconMap,classNameMap:b.classNameMap,titleMap:b.titleMap,titleColorMap:b.titleColorMap,actionMap:b.actionMap,size:t}),this._model=null,this._expiredStatus=null,this._marketStatus=new o.WatchedValue(null).spawn(),this._sessionEdge=new o.WatchedValue(null).spawn(),this._ignoreHideStatusSettings=s,this.setModel(e),n.showMarketOpenStatusProperty.subscribe(this,this._showMarketOpenStatusPropertyChanged)}destroy(){this._marketStatus.destroy(),this._sessionEdge.destroy(),this._model=null,n.showMarketOpenStatusProperty.unsubscribeAll(this)}setModel(e){var t;if(this._marketStatus.destroy(),this._sessionEdge.destroy(),null===(t=this._expiredStatus)||void 0===t||t.destroy(),null===e)return this._marketStatus=new o.WatchedValue(null).spawn(),this._sessionEdge=new o.WatchedValue(null).spawn(),void(this._expiredStatus=null);this._model=e;const s=e.futuresContractExpirationTime();s&&(this._expiredStatus=s.expired().spawn(),this._expiredStatus.subscribe((e=>{e&&this._updateByStatus(this._marketStatus.value())}))),this._marketStatus=e.status().spawn(),this._marketStatus.subscribe(this._updateStatus.bind(this),{callWithLast:!0}),this._sessionEdge=e.nextSessionEdge().spawn(),
this._sessionEdge.subscribe(this._updateTooltip.bind(this)),this._updateTooltip()}async _updateFullTooltip(){const e=this.status().value();if(null===e)return void this._fullTooltip.setValue(null);let t;if(this._isExpiredFutures())t=[(0,i.htmlEscape)(v)];else{t=[(0,i.htmlEscape)(b.marketStatusDescription[e])];const s=this._marketStatus.value();if(null!==this._model&&null!==s){const s=this._model.nextSessionEdge().value();null!==s&&t.push({text:b.countdownFnMap[e](s),bold:!0})}}this._fullTooltip.setValue([{icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:this._getTitle(e),titleColor:this._getTitleColor(e),html:t,size:this._size,action:this._getAction(e)}])}_shouldBeHiddenByStatus(e){return!this._ignoreHideStatusSettings&&!n.showMarketOpenStatusProperty.value()&&"market"===e}_getTooltip(e){return this._isExpiredFutures()?_:super._getTooltip(e)}_getIcon(e){return this._isExpiredFutures()?h.get(this._size)||null:super._getIcon(e)}_getClassName(e){return this._isExpiredFutures()?p:super._getClassName(e)}_getTitle(e){return this._isExpiredFutures()?m:super._getTitle(e)}_getTitleColor(e){return this._isExpiredFutures()?g:super._getTitleColor(e)}_isExpiredFutures(){var e,t,s;return null!==(s=null===(t=null===(e=this._model)||void 0===e?void 0:e.futuresContractExpirationTime())||void 0===t?void 0:t.expired().value())&&void 0!==s&&s}_updateStatus(e){this._status.setValue(e)}_updateTooltip(){this._updateFullTooltip()}_showMarketOpenStatusPropertyChanged(){this._updateByStatus(this._status.value())}}},269040:(e,t,s)=>{"use strict";s.d(t,{StatusViewModel:()=>l});var i=s(129025),o=s(919476),n=s(364123);class l{constructor(e){this.isBlinkingMode=new i.WatchedValue(!1),this._status=new i.WatchedValue(null),this._fullTooltip=new i.WatchedValue(null),this._iconClassNames=new i.WatchedValue(null),this._visible=new i.WatchedValue(!1),this._tooltip=new i.WatchedValue(null),this._icon=new i.WatchedValue(null),this._className=new i.WatchedValue(null),this._customColor=new i.WatchedValue(null),this._infoMaps=e,this._size=e.size||"small",this._status.subscribe(this._updateByStatus.bind(this),{callWithLast:!0})}turnOffBlinkingMode(){}status(){return this._status}tooltip(){return this._tooltip}icon(){return this._icon}className(){return this._className}visible(){return this._visible}size(){return this._size}fullInfo(){return this._fullTooltip}customColor(){return this._customColor}_getTooltip(e){var t,s;return null!==(s=null===(t=this._infoMaps.tooltipMap)||void 0===t?void 0:t.get(e))&&void 0!==s?s:null}_getIcon(e){let t;const s=this._infoMaps.iconMap.get(e);return void 0!==s&&(t=s.get(this._size)),t||null}_getClassName(e){return this._infoMaps.classNameMap.get(e)||null}_getFullTooltipIconClassNames(e){const t=this._getClassName(e);return t?[n.statusItem,t]:[]}_getTitle(e){var t,s;return null!==(s=null===(t=this._infoMaps.titleMap)||void 0===t?void 0:t.get(e))&&void 0!==s?s:null}_getTitleColor(e){var t,s;return null!==(s=null===(t=this._infoMaps.titleColorMap)||void 0===t?void 0:t.get(e))&&void 0!==s?s:null}
_getAction(e){var t,s;return null!==(s=null===(t=this._infoMaps.actionMap)||void 0===t?void 0:t.get(e))&&void 0!==s?s:null}_getHTML(e){var t,s,i;return null!==(i=null===(s=null===(t=this._infoMaps.htmlMap)||void 0===t?void 0:t.get(e))||void 0===s?void 0:s.map(o.htmlEscape))&&void 0!==i?i:[]}async _updateFullTooltip(){const e=this._status.value();null!==e?this._fullTooltip.setValue([{icon:this._getIcon(e),iconClassName:this._getFullTooltipIconClassNames(e),title:this._getTitle(e),titleColor:this._getTitleColor(e),html:this._getHTML(e),size:this._size,action:this._getAction(e)}]):this._fullTooltip.setValue(null)}_updateByStatus(e){if(null===e||this._shouldBeHiddenByStatus(e))return this._icon.setValue(null),this._tooltip.setValue(null),void this._visible.setValue(!1);this._icon.setValue(this._getIcon(e)),this._className.setValue(this._getClassName(e)),this._tooltip.setValue(this._getTooltip(e)),this._visible.setValue(!0),this._updateFullTooltip()}_shouldBeHiddenByStatus(e){return!1}}},156836:(e,t,s)=>{"use strict";s.d(t,{trackingModeIsAvailable:()=>i});const i=s(638456).CheckMobile.any()},972680:(e,t,s)=>{"use strict";s.d(t,{getSymbolSearchCompleteOverrideFunction:()=>o});let i=(e,t)=>Promise.resolve({symbol:e,name:e});function o(){return i}},341779:(e,t,s)=>{"use strict";s.d(t,{showExchangeAgreementDialog:()=>o});var i=s(807655);async function o(e){void 0===e.isExpert&&(e={...e,isExpert:window.user.declared_status===i.UserStatus.Pro});(await Promise.all([s.e(18809),s.e(74972),s.e(22666),s.e(5993),s.e(62253),s.e(92191),s.e(34465),s.e(32109),s.e(9817),s.e(69121),s.e(53842),s.e(4015),s.e(92108),s.e(88194),s.e(13423),s.e(87845),s.e(48986),s.e(93502),s.e(13152),s.e(36884),s.e(84281),s.e(542),s.e(8740),s.e(87689),s.e(73028),s.e(37221),s.e(20563),s.e(962),s.e(31165),s.e(16480),s.e(45071),s.e(82786),s.e(67410),s.e(61932)]).then(s.bind(s,269255))).openExchangeAgreementDialog(e)}},689612:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.83 3.92 12.28 9l-4.45 5.08-1.13-1L10.29 9l-3.6-4.09 1.14-.99Z"/></svg>'},23317:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M14 10H4V8.5h10V10Z"/></svg>'},577576:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M8.25 13.75v-9.5h1.5v9.5h-1.5Z"/><path fill="currentColor" d="M13.75 9.75h-9.5v-1.5h9.5v1.5Z"/></svg>'},691986:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M14.5 8V3.5H10V2h6v6h-1.5Zm-11 2v4.5H8V16H2v-6h1.5Z"/></svg>'},776996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M11.5 2v4.5H16V8h-6V2h1.5Zm-5 14v-4.5H2V10h6v6H6.5Z"/></svg>'},678529:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.45 3.5 12.48 9l-5.03 5.49 1.1 1.01L14.52 9 8.55 2.49 7.45 3.5Z"/><path fill="currentColor" d="m3.93 5.99 2.58 3-2.58 3.02 1.14.98 3.42-4-3.42-3.98L3.93 6Z"/></svg>'},593724:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M10 6.38V8L6 5.5 10 3v1.85A5.25 5.25 0 1 1 3.75 10a.75.75 0 0 1 1.5 0A3.75 3.75 0 1 0 10 6.38Z"/></svg>'},94196:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M10.31 4.13 8.3 6.14a.5.5 0 1 1-.7-.7l2.13-2.12a3.5 3.5 0 1 1 4.95 4.95l-2.11 2.11a.51.51 0 1 1-.73-.72l2-2a2.5 2.5 0 0 0-3.53-3.53Zm-2.14 9.3 2.01-2a.5.5 0 0 1 .7.69l-2.13 2.12A3.5 3.5 0 0 1 3.8 9.29l2.11-2.11a.51.51 0 0 1 .72.72l-2 2a2.5 2.5 0 0 0 3.54 3.54ZM11 7.02a.49.49 0 0 0-.69 0L7.47 9.87a.49.49 0 0 0 .68.69l2.86-2.86a.49.49 0 0 0 0-.7Z"/></svg>'},79304:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 2.5c-1.06 0-1.88.93-1.75 1.98l.63 5.03a1.13 1.13 0 0 0 2.25 0l.62-5.03A1.77 1.77 0 0 0 9 2.5zm0 10a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg>'},838373:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'},986365:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M6 8a1 1 0 0 0 0 2h.23c.35 0 .69-.15.92-.42L7.67 9l-.52-.58A1.23 1.23 0 0 0 6.23 8H6Zm3-.51-.35-.4-.75.66.75-.66C8.04 6.4 7.15 6 6.23 6H6a3 3 0 0 0 0 6h.23c.93 0 1.8-.4 2.42-1.1l.35-.39.35.4.75-.66-.75.66c.61.7 1.5 1.09 2.42 1.09H12a3 3 0 1 0 0-6h-.23c-.93 0-1.8.4-2.42 1.1L9 7.48ZM10.33 9l.52.58c.23.27.57.42.92.42H12a1 1 0 1 0 0-2h-.23c-.35 0-.69.15-.92.42l-.52.58Z"/></svg>'},378849:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M9 12a2 2 0 1 0 0 4h.27c.66 0 1.29-.29 1.72-.8l1.03-1.2L11 12.8c-.43-.51-1.06-.8-1.72-.8H9Zm5-.3-.73-.86a5.27 5.27 0 0 0-4-1.84H9a5 5 0 0 0 0 10h.27c1.53 0 3-.67 4-1.84l.73-.86.73.86a5.27 5.27 0 0 0 4 1.84H19a5 5 0 0 0 0-10h-.27c-1.53 0-3 .67-4 1.84l-.73.86Zm1.98 2.3L17 15.2c.43.51 1.06.8 1.72.8H19a2 2 0 1 0 0-4h-.27c-.66 0-1.29.29-1.72.8L15.98 14Z"/></svg>'},645503:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.5 4.5l-9 9M4.5 4.5l9 9"/></svg>'},73710:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.7" d="M12.5 5.5l-7 7m0-7l7 7"/></svg>'},931233:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.57 14.8H5.03V3.36c1.62-.05 2.64-.08 3.06-.08 1.66 0 2.98.49 3.96 1.47a5.23 5.23 0 0 1 1.47 3.88c0 4.11-1.99 6.17-5.95 6.17zm-.5-9.66v7.8c.32.04.67.06 1.05.06 1.03 0 1.83-.38 2.41-1.12.58-.75.88-1.79.88-3.13 0-2.44-1.14-3.67-3.42-3.67-.22 0-.53.02-.93.06z"/></svg>'},512646:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.84 13.7H5.78V4.4l2.48-.06c1.35 0 2.42.4 3.22 1.2.8.78 1.19 1.83 1.19 3.15 0 3.34-1.61 5.01-4.83 5.01zm-.41-7.85v6.35c.26.02.55.03.86.03.83 0 1.48-.3 1.95-.9.48-.6.72-1.46.72-2.54 0-2-.93-2.99-2.78-2.99-.18 0-.43.02-.75.05z"/></svg>'},469410:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.65 5.16v2.68h3.78v1.73H7.65V13h5.19v1.8H5.62V3.35h7.3v1.8H7.65z"/></svg>'},55593:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.9 5.87v2.17h3.07v1.4H7.9v2.8h4.22v1.46H6.25V4.4h5.94v1.47H7.9z"/></svg>'},856539:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.2 7.34c0-1.4.73-2.64 1.82-3.34A5.03 5.03 0 0 0 4 9c0 2.76 2.26 5 5.05 5A5.04 5.04 0 0 0 14 10c-.71.8-1.74 1.29-2.89 1.29A3.93 3.93 0 0 1 7.2 7.34Z"/><path fill="currentColor" d="M11.67 6.33 11 5l-.67 1.33-1.33.2.98 1.03L9.76 9 11 8.34l1.24.66-.22-1.44.98-1.03-1.33-.2Z"/></svg>'},323683:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M7.2 7.34c0-1.4.73-2.64 1.82-3.34A5.03 5.03 0 0 0 4 9c0 2.76 2.26 5 5.05 5A5.04 5.04 0 0 0 14 10c-.71.8-1.74 1.29-2.89 1.29A3.93 3.93 0 0 1 7.2 7.34Z"/><path fill="currentColor" d="M11.67 6.33 11 5l-.67 1.33-1.33.2.98 1.03L9.76 9 11 8.34l1.24.66-.22-1.44.98-1.03-1.33-.2Z"/></svg>'},672844:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M11 11.39c0-2.27 1.19-4.25 3-5.39-4.43.07-8 3.63-8 8 0 4.42 3.64 8 8.13 8A8.1 8.1 0 0 0 22 16a6.55 6.55 0 0 1-11-4.61Z"/><path fill="currentColor" d="m18 10-1-2-1 2-2 .3 1.47 1.54-.32 2.16L17 13l1.85 1-.32-2.16L20 10.29 18 10Z"/></svg>'},109494:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M4.74 3.26a4.62 4.62 0 0 0 1.8 5.3l.67.44-.66.44a4.63 4.63 0 0 0-1.81 5.3c.05.15.2.26.36.26h7.8c.17 0 .31-.1.37-.26a4.62 4.62 0 0 0-1.82-5.3L10.8 9l.66-.44a4.63 4.63 0 0 0 1.82-5.3.39.39 0 0 0-.37-.26H5.1c-.17 0-.31.1-.36.26ZM9 8.32l1.58-1.06a3.06 3.06 0 0 0 1.36-2.7H6.06a3.06 3.06 0 0 0 1.36 2.7L9 8.32Z"/></svg>'
},792845:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M5.45 4.22a3.85 3.85 0 0 0 1.5 4.41l.56.37-.55.37a3.86 3.86 0 0 0-1.51 4.41c.04.13.16.22.3.22h6.5c.14 0 .26-.09.3-.22a3.85 3.85 0 0 0-1.5-4.41L10.48 9l.55-.37a3.86 3.86 0 0 0 1.51-4.41.32.32 0 0 0-.3-.22h-6.5a.32.32 0 0 0-.3.22ZM9 8.44l1.32-.89a2.55 2.55 0 0 0 1.13-2.25h-4.9c-.04.88.37 1.74 1.13 2.25L9 8.44Z"/></svg>'},991665:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M14.48 5.1c-.52 2.03-1.46 3.04-2.82 3.04-.64 0-1.55-.19-2.74-.56-1.17-.38-1.99-.57-2.46-.57-.69 0-1.22.37-1.58 1.13H3.55A4.3 4.3 0 0 1 4.5 6c.5-.6 1.08-.9 1.74-.9.7 0 1.65.2 2.84.58 1.2.37 2.04.55 2.52.55.8 0 1.32-.37 1.59-1.13h1.29zm0 4.84c-.52 2.02-1.46 3.03-2.82 3.03-.64 0-1.55-.19-2.74-.56-1.17-.38-1.99-.57-2.46-.57-.69 0-1.22.38-1.58 1.13H3.55a4.3 4.3 0 0 1 .95-2.14c.5-.6 1.08-.9 1.74-.9.7 0 1.65.2 2.84.58 1.2.37 2.04.56 2.52.56.8 0 1.32-.38 1.59-1.13h1.29z"/></svg>'},552828:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.4 5.9c-.41 1.62-1.16 2.43-2.25 2.43-.52 0-1.25-.15-2.2-.45-.93-.3-1.58-.45-1.96-.45-.55 0-.98.3-1.27.9H4.66c.1-.67.36-1.24.76-1.71.4-.48.86-.72 1.4-.72.56 0 1.31.16 2.27.46.95.3 1.62.45 2.01.45.64 0 1.06-.3 1.27-.9h1.03zm0 3.87c-.41 1.62-1.16 2.43-2.25 2.43-.52 0-1.25-.15-2.2-.45-.93-.3-1.58-.46-1.96-.46-.55 0-.98.3-1.27.9H4.66c.1-.67.36-1.24.76-1.7.4-.48.86-.72 1.4-.72.56 0 1.31.15 2.27.46.95.3 1.62.44 2.01.44.64 0 1.06-.3 1.27-.9h1.03z"/></svg>'},839379:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M4 6.5 6 8l3-3 3 3 2-1.5V10H4V6.5ZM14 13v-2H4v2h10Z"/></svg>'},74733:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13 12.78V5.22a.3.3 0 0 0-.51-.2L8.7 8.78a.3.3 0 0 0 0 .42L12.5 13a.3.3 0 0 0 .51-.21zM8 12.78V5.22a.3.3 0 0 0-.51-.2L3.7 8.78a.3.3 0 0 0 0 .42L7.5 13a.3.3 0 0 0 .51-.21z"/></svg>'},366493:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5 20L11 14.5 16.5 9"/></svg>'},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},252506:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 2 30 24" width="30" height="24" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M15.82 14l5.36-5.36-.82-.82L15 13.18 9.64 7.82l-.82.82L14.18 14l-5.36 5.36.82.82L15 14.82l5.36 5.36.82-.82L15.82 14z"/></svg>'},488658:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24" height="22" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.35 6.35l-10 10-.7-.7 10-10 .7.7z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M6.65 6.35l10 10 .7-.7-10-10-.7.7z"/></svg>'},841674:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="30" height="24" fill="none"><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" class="normal-eye"><path d="M18 7.91C16.7 6.5 14.7 5 12 5S7.3 6.49 6 7.91C6 7.91 4 10 4 11s2 3.09 2 3.09C7.3 15.5 9.3 17 12 17s4.7-1.49 6-2.91c0 0 2-2.09 2-3.09s-2-3.09-2-3.09zm-11.26 5.5C7.94 14.74 9.7 16 12 16s4.05-1.26 5.25-2.59c0 0 1.75-1.91 1.75-2.41 0-.5-1.75-2.41-1.75-2.41C16.05 7.26 14.3 6 12 6S7.95 7.26 6.74 8.59C6.74 8.59 5 10.5 5 11c0 .5 1.74 2.41 1.74 2.41z"/><path d="M12 13a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></g><g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" class="crossed-eye"><path d="M8.85 16.27c.92.44 1.97.73 3.15.73 2.7 0 4.7-1.49 6-2.91 0 0 2-2.09 2-3.09s-2-3.09-2-3.09l-.39-.4-.7.7.34.38S19 10.5 19 11c0 .5-1.75 2.41-1.75 2.41C16.05 14.74 14.3 16 12 16c-.88 0-1.68-.18-2.4-.48l-.75.75zM7.1 13.78l-.36-.37S5 11.5 5 11c0-.5 1.74-2.41 1.74-2.41C7.94 7.26 9.7 6 12 6c.88 0 1.68.18 2.4.48l.75-.75A7.17 7.17 0 0 0 12 5C9.3 5 7.3 6.49 6 7.91 6 7.91 4 10 4 11s2 3.09 2 3.09l.39.4.7-.7z"/><path d="M11.22 13.9a3 3 0 0 0 3.68-3.68l-.9.9A2 2 0 0 1 12.13 13l-.9.9zm.66-4.9A2 2 0 0 0 10 10.88l-.9.9a3 3 0 0 1 3.68-3.68l-.9.9zM5.65 16.65l12-12 .7.7-12 12-.7-.7z"/></g><g class="loading-eye"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M18 7.91C16.7 6.5 14.7 5 12 5S7.3 6.49 6 7.91C6 7.91 4 10 4 11s2 3.09 2 3.09C7.3 15.5 9.3 17 12 17s4.7-1.49 6-2.91c0 0 2-2.09 2-3.09s-2-3.09-2-3.09zm-11.26 5.5C7.94 14.74 9.7 16 12 16s4.05-1.26 5.25-2.59c0 0 1.75-1.91 1.75-2.41 0-.5-1.75-2.41-1.75-2.41C16.05 7.26 14.3 6 12 6S7.95 7.26 6.74 8.59C6.74 8.59 5 10.5 5 11c0 .5 1.74 2.41 1.74 2.41z"/></g><g class="animated-loading-eye"><path stroke="currentColor" stroke-linecap="round" d="M14.5 11a2.5 2.5 0 1 0-2.5 2.5"/></g></svg>'},754336:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24" height="22" fill="none"><g class="normal-eye"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.9948 7.91366C16.6965 6.48549 14.6975 5 11.9999 5C9.30225 5 7.30322 6.48549 6.00488 7.91366C6.00488 7.91366 4 10 4 11C4 12 6.00488 14.0863 6.00488 14.0863C7.30322 15.5145 9.30225 17 11.9999 17C14.6975 17 16.6965 15.5145 17.9948 14.0863C17.9948 14.0863 20 12 20 11C20 10 17.9948 7.91366 17.9948 7.91366ZM6.74482 13.4137C7.94648 14.7355 9.69746 16 11.9999 16C14.3022 16 16.0532 14.7355 17.2549 13.4137C17.2549 13.4137 19 11.5 19 11C19 10.5 17.2549 8.58634 17.2549 8.58634C16.0532 7.26451 14.3022 6 11.9999 6C9.69746 6 7.94648 7.26451 6.74482 8.58634C6.74482 8.58634 5 10.5 5 11C5 11.5 6.74482 13.4137 6.74482 13.4137Z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13ZM12 14C13.6569 14 15 12.6569 15 11C15 9.34315 13.6569 8 12 8C10.3431 8 9 9.34315 9 11C9 12.6569 10.3431 14 12 14Z"/></g><g class="crossed-eye"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M8.8503 16.2712C9.76531 16.7135 10.8152 17 11.9999 17C14.6975 17 16.6965 15.5145 17.9948 14.0863C17.9948 14.0863 20 12 20 11C20 10 17.9948 7.91366 17.9948 7.91366C17.8729 7.77954 17.7448 7.64491 17.6105 7.51105L16.9035 8.2181C17.0254 8.33968 17.1425 8.46276 17.2549 8.58634C17.2549 8.58634 19 10.5 19 11C19 11.5 17.2549 13.4137 17.2549 13.4137C16.0532 14.7355 14.3022 16 11.9999 16C11.1218 16 10.324 15.8161 9.60627 15.5153L8.8503 16.2712ZM7.09663 13.7823C6.97455 13.6606 6.85728 13.5374 6.74482 13.4137C6.74482 13.4137 5 11.5 5 11C5 10.5 6.74482 8.58634 6.74482 8.58634C7.94648 7.26451 9.69746 6 11.9999 6C12.8781 6 13.6761 6.18398 14.394 6.48495L15.1499 5.729C14.2348 5.28657 13.1847 5 11.9999 5C9.30225 5 7.30322 6.48549 6.00488 7.91366C6.00488 7.91366 4 10 4 11C4 12 6.00488 14.0863 6.00488 14.0863C6.12693 14.2206 6.25516 14.3553 6.38959 14.4893L7.09663 13.7823Z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M11.2231 13.8984C11.4709 13.9647 11.7313 14 12 14C13.6569 14 15 12.6569 15 11C15 10.7313 14.9647 10.4709 14.8984 10.2231L13.9961 11.1254C13.934 12.1301 13.1301 12.934 12.1254 12.9961L11.2231 13.8984ZM11.8751 9.00384C10.87 9.06578 10.0658 9.87001 10.0038 10.8751L9.10166 11.7772C9.03535 11.5294 9 11.2688 9 11C9 9.34315 10.3431 8 12 8C12.2688 8 12.5294 8.03535 12.7772 8.10166L11.8751 9.00384Z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M5.64648 16.6465L17.6465 4.64648L18.3536 5.35359L6.35359 17.3536L5.64648 16.6465Z"/></g><g class="loading-eye"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.9948 7.91366C16.6965 6.48549 14.6975 5 11.9999 5C9.30225 5 7.30322 6.48549 6.00488 7.91366C6.00488 7.91366 4 10 4 11C4 12 6.00488 14.0863 6.00488 14.0863C7.30322 15.5145 9.30225 17 11.9999 17C14.6975 17 16.6965 15.5145 17.9948 14.0863C17.9948 14.0863 20 12 20 11C20 10 17.9948 7.91366 17.9948 7.91366ZM6.74482 13.4137C7.94648 14.7355 9.69746 16 11.9999 16C14.3022 16 16.0532 14.7355 17.2549 13.4137C17.2549 13.4137 19 11.5 19 11C19 10.5 17.2549 8.58634 17.2549 8.58634C16.0532 7.26451 14.3022 6 11.9999 6C9.69746 6 7.94648 7.26451 6.74482 8.58634C6.74482 8.58634 5 10.5 5 11C5 11.5 6.74482 13.4137 6.74482 13.4137Z"/></g><g class="animated-loading-eye"><path stroke="currentColor" stroke-linecap="round" d="M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11C9.5 12.3807 10.6193 13.5 12 13.5"/></g></svg>'
},645534:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 2 30 24" width="30" height="24" fill="none"><circle stroke="currentColor" stroke-width="1.15" cx="8.08" cy="14" r="1.73"/><circle stroke="currentColor" stroke-width="1.15" cx="15" cy="14" r="1.73"/><circle stroke="currentColor" stroke-width="1.15" cx="21.92" cy="14" r="1.73"/></svg>'},387258:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 4" width="16" height="4" fill="none"><circle stroke="currentColor" cx="2" cy="2" r="1.5"/><circle stroke="currentColor" cx="8" cy="2" r="1.5"/><circle stroke="currentColor" cx="14" cy="2" r="1.5"/></svg>'},736885:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M8.54.84a.8.8 0 0 1 .92 0l7.5 5.25a.8.8 0 0 1 0 1.32l-7.5 5.25a.8.8 0 0 1-.92 0L1.04 7.4a.8.8 0 0 1 0-1.32L8.54.84zM2.9 6.75L9 11.02l6.1-4.27L9 2.48 2.9 6.75z"/><path fill="currentColor" d="M.84 10.8a.8.8 0 0 1 1.12-.2L9 15.51l7.04-4.93a.8.8 0 0 1 .92 1.32l-7.5 5.25a.8.8 0 0 1-.92 0l-7.5-5.25a.8.8 0 0 1-.2-1.12z"/></svg>'},65300:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><path fill="currentColor" d="M7.23 2.58a.5.5 0 0 1 .54 0l5.5 3.5a.5.5 0 0 1 0 .84l-5.5 3.5a.5.5 0 0 1-.54 0l-5.5-3.5a.5.5 0 0 1 0-.84l5.5-3.5zM2.93 6.5L7.5 9.4l4.57-2.9L7.5 3.6 2.93 6.5z"/><path fill="currentColor" d="M1.58 9.23a.5.5 0 0 1 .69-.15L7.5 12.4l5.23-3.33a.5.5 0 0 1 .54.84l-5.5 3.5a.5.5 0 0 1-.54 0l-5.5-3.5a.5.5 0 0 1-.15-.69z"/></svg>'},34882:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 22" width="24" height="22" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M6 6.5A2.5 2.5 0 0 1 8.5 4H10v1H8.5C7.67 5 7 5.67 7 6.5v1.15a3.5 3.5 0 0 1-1.93 3.13l-.45.22.45.22A3.5 3.5 0 0 1 7 14.35v1.15c0 .83.67 1.5 1.5 1.5H10v1H8.5A2.5 2.5 0 0 1 6 15.5v-1.15a2.5 2.5 0 0 0-1.38-2.23l-1.34-.67a.5.5 0 0 1 0-.9l1.34-.67A2.5 2.5 0 0 0 6 7.65V6.5zM15.5 5H14V4h1.5A2.5 2.5 0 0 1 18 6.5v1.15c0 .94.54 1.8 1.38 2.23l1.34.67a.5.5 0 0 1 0 .9l-1.34.67A2.5 2.5 0 0 0 18 14.35v1.15a2.5 2.5 0 0 1-2.5 2.5H14v-1h1.5c.83 0 1.5-.67 1.5-1.5v-1.15a3.5 3.5 0 0 1 1.93-3.13l.45-.22-.45-.22A3.5 3.5 0 0 1 17 7.65V6.5c0-.83-.67-1.5-1.5-1.5z"/></svg>'},583637:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M8.63 1.08a2.04 2.04 0 0 1-3.26 0c-.51.14-1 .35-1.45.6l.01.2A2.05 2.05 0 0 1 1.7 3.93a6.1 6.1 0 0 0-.6 1.45 2.04 2.04 0 0 1 0 3.26c.13.51.34 1 .6 1.45l.2-.01a2.05 2.05 0 0 1 2.03 2.24c.45.26.94.47 1.45.6a2.04 2.04 0 0 1 3.26 0c.51-.13 1-.34 1.45-.6l-.01-.2a2.05 2.05 0 0 1 2.24-2.03c.26-.45.47-.94.6-1.45a2.04 2.04 0 0 1 0-3.26 6.1 6.1 0 0 0-.6-1.45 2.05 2.05 0 0 1-2.23-2.23 6.1 6.1 0 0 0-1.45-.6zM7.84.42c.17-.24.43-.47.72-.4.84.18 1.62.5 2.32.96.23.15.26.48.22.76a1.03 1.03 0 0 0 1.16 1.16c.28-.04.6-.01.76.22.45.7.78 1.48.97 2.32.06.29-.17.55-.41.72a1.02 1.02 0 0 0 0 1.68c.24.17.47.43.4.72a7.12 7.12 0 0 1-.96 2.32c-.15.23-.48.26-.76.22a1.03 1.03 0 0 0-1.17 1.01l.01.15c.04.28.01.6-.22.76-.7.45-1.48.78-2.32.97-.29.06-.55-.17-.72-.41a1.02 1.02 0 0 0-1.68 0c-.17.24-.43.47-.72.4a7.12 7.12 0 0 1-2.32-.96c-.23-.15-.26-.48-.22-.76v-.15a1.02 1.02 0 0 0-1.16-1c-.28.03-.6 0-.76-.23A7.12 7.12 0 0 1 0 8.56c-.06-.29.17-.55.41-.72a1.02 1.02 0 0 0 0-1.68c-.24-.17-.47-.43-.4-.72.18-.84.5-1.62.96-2.32.15-.23.48-.26.76-.22h.15a1.02 1.02 0 0 0 1-1.16c-.03-.28 0-.6.23-.76C3.82.53 4.6.2 5.44 0c.29-.06.55.17.72.41a1.02 1.02 0 0 0 1.68 0zM9 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm1 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/></svg>'},572237:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><path fill="currentColor" d="M11.65 12.35l-9-9 .7-.7 9 9-.7.7z"/><path fill="currentColor" d="M2.65 11.65l9-9 .7.7-9 9-.7-.7z"/></svg>'},671402:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15" fill="none"><path stroke="currentColor" d="M11 2 7.5 5 4 2" class="bracket-up"/><path stroke="currentColor" d="M4 13l3.5-3 3.5 3" class="bracket-down"/></svg>'},636016:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M7.65 8.35l.7-.7 6.15 6.14 6.15-6.14.7.7-6.14 6.15 6.14 6.15-.7.7-6.15-6.14-6.15 6.14-.7-.7 6.14-6.15-6.14-6.15z"/></svg>'},520465:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="M20.53 3.73 14 9.33 7.47 3.73M7.47 24.27l6.53 -5.60 6.53 5.60"/></svg>'},648344:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M14 7v12.93l5.18-4.31.64.76-6.32 5.27-6.32-5.27.64-.76L13 19.93V7h1z"/></svg>'},99539:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M19.32 6H8.68A2.68 2.68 0 0 0 6 8.68V11h1V8.68C7 7.75 7.75 7 8.68 7h10.64c.93 0 1.68.75 1.68 1.68V11h1V8.68C22 7.2 20.8 6 19.32 6zM7 19.32c0 .93.75 1.68 1.68 1.68h10.64c.93 0 1.68-.75 1.68-1.68V17h1v2.32C22 20.8 20.8 22 19.32 22H8.68A2.68 2.68 0 0 1 6 19.32V17h1v2.32z"/></svg>'},334763:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" d="m7.47 9.33 6.53 -5.60L20.53 9.33M20.53 18.67l-6.53 5.60L7.47 18.67"/></svg>'},472899:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M13.5 6.35l6.32 5.27-.64.76L14 8.07V21h-1V8.07l-5.18 4.31-.64-.76 6.32-5.27z"/></svg>'},970471:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><circle fill="currentColor" cx="15" cy="9" r="1.5"/><circle fill="currentColor" cx="9" cy="9" r="1.5"/><circle fill="currentColor" cx="3" cy="9" r="1.5"/></svg>'},682847:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><circle fill="currentColor" cx="12.75" cy="7.5" r="1.25"/><circle fill="currentColor" cx="7.5" cy="7.5" r="1.25"/><circle fill="currentColor" cx="2.25" cy="7.5" r="1.25"/></svg>'},203515:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><path fill="currentColor" d="M11.83 8.88l-.66-.76L8 10.9V3H7v7.9L3.83 8.12l-.66.76 4.33 3.78 4.33-3.78z"/></svg>'},374362:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M3.5 2.8a.7.7 0 0 0-.7.7V6H1.2V3.5a2.3 2.3 0 0 1 2.3-2.3h11a2.3 2.3 0 0 1 2.3 2.3V6h-1.6V3.5a.7.7 0 0 0-.7-.7h-11z" class="bracket-up"/><path fill="currentColor" d="M3.5 15.2a.7.7 0 0 1-.7-.7V12H1.2v2.5a2.3 2.3 0 0 0 2.3 2.3h11a2.3 2.3 0 0 0 2.3-2.3V12h-1.6v2.5a.7.7 0 0 1-.7.7h-11z" class="bracket-down"/></svg>'},279526:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15" fill="none"><path fill="currentColor" d="M4.5 12A1.5 1.5 0 0 1 3 10.5V9H2v1.5A2.5 2.5 0 0 0 4.5 13h6a2.5 2.5 0 0 0 2.5-2.5V9h-1v1.5c0 .83-.67 1.5-1.5 1.5h-6z" class="bracket-up"/><path fill="currentColor" d="M4.5 3C3.67 3 3 3.67 3 4.5V6H2V4.5A2.5 2.5 0 0 1 4.5 2h6A2.5 2.5 0 0 1 13 4.5V6h-1V4.5c0-.83-.67-1.5-1.5-1.5h-6z" class="bracket-down"/></svg>'},142930:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15" fill="none"><path stroke="currentColor" d="m4 5 3.5-3L11 5" class="bracket-up"/><path stroke="currentColor" d="M11 10l-3.5 3L4 10" class="bracket-down"/></svg>'},981020:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><path fill="currentColor" d="M11.83 6.12l-.66.76L8 4.1V12H7V4.1L3.83 6.88l-.66-.76L7.5 2.34l4.33 3.78z"/></svg>'},339750:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},333765:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},
662920:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path fill="currentColor" d="M2.4 5.46a.8.8 0 0 1 1.14-.05L8 9.42l4.46-4.01a.8.8 0 0 1 1.08 1.18L8 11.58 2.47 6.59a.8.8 0 0 1-.06-1.13z"/></svg>'},947036:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" width="15" height="15"><path fill="currentColor" d="M3.5 5.58c.24-.28.65-.3.92-.07L7.5 8.14l3.08-2.63a.65.65 0 1 1 .84.98L7.5 9.86 3.58 6.49a.65.65 0 0 1-.07-.91z"/></svg>'},507720:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17" fill="currentColor"><path d="m.58 1.42.82-.82 15 15-.82.82z"/><path d="m.58 15.58 15-15 .82.82-15 15z"/></svg>'},69311:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.7 9l4.65-4.65-.7-.7L9 8.29 4.35 3.65l-.7.7L8.29 9l-4.64 4.65.7.7L9 9.71l4.65 4.64.7-.7L9.71 9z"/></svg>'},542205:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 7" width="7" height="7"><path fill="currentColor" d="M3.5 7L7 4H4V0H3V4H0L3.5 7Z"/></svg>'},50119:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 7" width="9" height="7"><path fill="currentColor" d="M.5 3.5L4 0v3h5v1H4v3z"/></svg>'},24122:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" d="M4 8a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},676809:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M0 8a8 8 0 1 0 16 0A8 8 0 1 0 0 8zm2 0a6 6 0 1 0 12 0A6 6 0 1 0 2 8zm2 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},904799:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12" fill="currentColor" focusable="false" preserveAspectRatio="none"><path d="M14 12l-4-6 4-6H0v12z"/></svg>'},533699:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" fill="none"><path fill="currentColor" d="M11.57 0H1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10.57a.5.5 0 0 0 .41-.78l-3.3-4.94a.5.5 0 0 1 0-.56l3.3-4.94a.5.5 0 0 0-.41-.78z"/></svg>'},362884:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 7" width="9" height="7"><path fill="currentColor" d="M8.5 3.5L5 0v3H0v1h5v3z"/></svg>'},250662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 7" width="7" height="7"><path fill="currentColor" d="M3.5 0L0 3h3v4h1V3h3L3.5 0z"/></svg>'}}]);