"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[60662],{26183:(e,t,n)=>{n.d(t,{ExchangeDataType:()=>r,exchangeDataTypeText:()=>c,productNames:()=>a,triesTranslateExchangeDataType:()=>i});var r,o=n(444372);!function(e){e.Stocks="stocks",e.Indices="indices",e.Futures="futures",e.Currency="currency",e.Certificates="certificates",e.Cryptocurrency="cryptocurrency",e.Economy="economy",e.Spot="spot",e.Swap="swap",e.Fundamental="fundamental",e.Bist100="bist_100",e.Bist30="bist_30",e.Rofex20="rofex_20"}(r||(r={}));const a={free:"Basic",product1:"Essential",product2:"Plus",product3:"Premium",product4:"Expert",product5:"Elite",product6:"Ultimate"},c={[r.Stocks]:o.t(null,void 0,n(426294)),[r.Indices]:o.t(null,void 0,n(433468)),[r.Futures]:o.t(null,void 0,n(468631)),[r.Currency]:o.t(null,void 0,n(50985)),[r.Certificates]:o.t(null,void 0,n(128072)),[r.Cryptocurrency]:o.t(null,void 0,n(422319)),[r.Economy]:o.t(null,void 0,n(337556)),[r.Spot]:o.t(null,void 0,n(901698)),[r.Swap]:o.t(null,void 0,n(49625)),[r.Fundamental]:o.t(null,void 0,n(655942)),[r.Bist100]:o.t(null,void 0,n(904721)),[r.Bist30]:o.t(null,void 0,n(137676)),[r.Rofex20]:o.t(null,void 0,n(467280))};function i(e){return c[e]||e}},320724:(e,t,n)=>{var r,o,a;n.d(t,{PaymentMethodType:()=>o,PaymentResult:()=>a,PaymentTab:()=>r}),function(e){e.OneClick="One click",e.CreditCard="Credit card",e.ApplePay="ApplePay",e.GooglePay="GooglePay",e.Paypal="Paypal",e.Coinbase="Coinbase",e.RazorpayCard="Razorpay card",e.RazorpayUpi="Razorpay UPI",e.Dlocal="Dlocal"}(r||(r={})),function(e){e[e.CreditCard=1]="CreditCard",e[e.Paypal=2]="Paypal",e[e.GooglePay=3]="GooglePay",e[e.ApplePay=4]="ApplePay"}(o||(o={})),function(e){e.Success="Success",e.Error="Error"}(a||(a={}))},913633:(e,t,n)=>{n.d(t,{convertCurrencyEnum:()=>l,formatPriceWithCurrency:()=>u,getCountryCurrency:()=>s,getCurrencySign:()=>c,getPriceProps:()=>a});n(444372);var r=n(320724),o=n(644702);function a(e,t,n,r){var o,a;let c=e.getCost({...t,fixed_cost:!0},n);const i=t.cost,u=t.cost_annual,s=i;let l=0,d=e.getCost(t,n);const p={...t};for(const e of["cost_annual","cost_biennial"])delete p[e];const g=e.getCost(p,n);if(void 0!==r){c=e.getCost({...r,fixed_cost:!0},n);const t=Number(null===(o=r.discount)||void 0===o?void 0:o.shown_discount);l=isNaN(t)?null!==(a=r.discount.discount_percent)&&void 0!==a?a:0:t,d=e.getCost(r,n)}const y=Math.round(100*(1-c/i));return{price:c,canceledPrice:s,discount:l,fullPrice:d,canceledFullPrice:g,annualProfit:Math.round(100*(1-c/u)),profit:y,currency:e.getCurrency()}}function c(e=""){return o.currencySignMap[e]||""}const i={[o.Currencies.Usd]:new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),[o.Currencies.Tvc]:new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),[o.Currencies.Myr]:new Intl.NumberFormat("en-US",{maximumFractionDigits:2,minimumFractionDigits:2}),[o.Currencies.Gbp]:new Intl.NumberFormat("en-GB",{maximumFractionDigits:2,minimumFractionDigits:2}),[o.Currencies.Inr]:new Intl.NumberFormat("en-IN",{
maximumFractionDigits:2,minimumFractionDigits:2})};function u(e,t,n={}){const{space:r}=(0,o.getPriceFormatConfig)(t),a=function(e,t=o.Currencies.Usd,n={}){const{fraction:r,thousands:a,isLongCurrency:c}=(0,o.getPriceFormatConfig)(t);return(i[t]||i[o.Currencies.Usd]).formatToParts("number"==typeof e?e:parseFloat(e)).reduce(((e,{type:t,value:o})=>{switch(t){case"integer":return e+o;case"group":return e+a;case"decimal":return c&&n.removeFractions?e:e+=r;case"fraction":return c&&n.removeFractions?e:e+=o;default:return e}}),"")}(e,t,n),u=c(t)||t;return(t===o.Currencies.Usd&&n.isVerboseUSD?"USÂ ":"")+u+r+a}function s(e){const{billingCountry:t,paymentMethod:n}=e;let a=o.Currencies.Usd;return void 0!==t&&t in o.countryToCurrencyMap&&(a=o.countryToCurrencyMap[t]),n!==r.PaymentMethodType.Paypal||o.paypalSupportedCurrencies.includes(a)||(a=o.Currencies.Usd),a}function l(e){return e in o.currencyEnumToCurrencyMap?o.currencyEnumToCurrencyMap[e]:o.Currencies.Usd}},91628:(e,t,n)=>{var r;n.d(t,{Steps:()=>r}),function(e){e.SelectPlan="/select-plan",e.BillingCycle="/billing-cycle",e.MarketData="/market-data",e.PaymentMethod="/payment-method",e.Cheque="/cheque",e.Error="/error",e.Trial="/trial",e.ExchangeAgreement="/exchange-agreement",e.ExchangeAgreementSuccess="/exchange-agreement-success"}(r||(r={}))},660662:(e,t,n)=>{n.d(t,{MainTab:()=>r,afterPaymentSteps:()=>B,exchangeGroupTabTranslate:()=>m,formatPriceWithBillingCycle:()=>k,getAvailableExchanges:()=>E,getBaseProPlanPrice:()=>F,getExchangeRegion:()=>I,getExchangeType:()=>h,getExchangesOrderedByType:()=>P,getInitialExchanges:()=>w,getListExchanges:()=>S,getLocalPricesProducts:()=>T,getPricesForCart:()=>b,hasOrderUrlParams:()=>M,hideCartSteps:()=>U,isExchangeInBundle:()=>f,isExpertMarket:()=>A,trackPaymentOrderDialogChanges:()=>_,trackPaymentOrderDialogInitial:()=>D});var r,o=n(444372),a=n(255453),c=n(26183),i=n(776734),u=n(644702),s=n(125226),l=n(913633),d=n(913345),p=n(91628),g=n(501437),y=n(807655),x=n(594666);function h(e){let t=[];const n=new Map([[c.ExchangeDataType.Stocks,e.is_stocks?c.ExchangeDataType.Stocks:null],[c.ExchangeDataType.Indices,e.is_indices?c.ExchangeDataType.Indices:null],[c.ExchangeDataType.Futures,e.is_futures?c.ExchangeDataType.Futures:null],[c.ExchangeDataType.Currency,e.is_currency?c.ExchangeDataType.Currency:null],[c.ExchangeDataType.Certificates,e.is_certificates?c.ExchangeDataType.Certificates:null],[c.ExchangeDataType.Bist100,null],[c.ExchangeDataType.Bist30,null],[c.ExchangeDataType.Rofex20,null]]);return"bist_mixed"===e.exchange&&(n.set(c.ExchangeDataType.Indices,null),n.set(c.ExchangeDataType.Bist100,c.ExchangeDataType.Bist100),n.set(c.ExchangeDataType.Bist30,c.ExchangeDataType.Bist30)),"matbarofex"===e.exchange&&(n.set(c.ExchangeDataType.Indices,null),n.set(c.ExchangeDataType.Rofex20,c.ExchangeDataType.Rofex20)),n.forEach((e=>{e&&(t=[...t,e])})),t}function m(e){return{[r.SelectCountry]:o.t(null,void 0,n(135443)),[r.Popular]:o.t(null,void 0,n(820250)),[r.StockIndices]:o.t(null,void 0,n(530681)),[r.Futures]:o.t(null,void 0,n(468631)),
[r.Forex]:o.t(null,void 0,n(324241)),[r.Crypto]:o.t(null,void 0,n(612760)),[r.Economy]:o.t(null,void 0,n(337556))}[e]}!function(e){e.SelectCountry="Select country",e.Popular="Popular",e.StockIndices="Stocks & Indices",e.Futures="Futures",e.Forex="Forex",e.Crypto="Crypto",e.Economy="Economy"}(r||(r={}));const C=[r.SelectCountry,r.Popular,r.StockIndices,r.Futures];function v(e){const t=[r.SelectCountry];return(e.is_indices||e.is_stocks)&&t.push(r.StockIndices),e.popularity_rank&&t.push(r.Popular),e.is_futures&&t.push(r.Futures),t}const f=(e,t)=>!e.is_bundle&&t.some((t=>{var n;return t.is_bundle&&(null===(n=t.included_exchanges)||void 0===n?void 0:n.includes(e.exchange))}));function P(e){const t=[];for(const e of C)t.push({name:e,exchanges:[]});for(const n of e){const r=v(n);t.forEach((t=>{r.includes(t.name)&&!f(n,e)&&t.exchanges.push(n)}))}return t.forEach((e=>{e.exchanges.sort(((t,n)=>{var o,a;const c=null!==(o=t.popularity_rank)&&void 0!==o?o:0,i=null!==(a=n.popularity_rank)&&void 0!==a?a:0;return e.name===r.Popular?c>i?-1:1:t.description.toLowerCase()>n.description.toLowerCase()?1:-1})).sort((e=>e.is_bundle?-1:1))})),t}function E(e,t){return t?e.filter((e=>!e.disabled&&e.cost_expert||e.paid_for_expert&&e.cost_expert)):e.filter((e=>!e.disabled&&e.cost))}function T(e,t){const n={};for(let r=0;r<t.length;++r)n[e[r]]=t[r];return n}function S(e,t){return t.exchanges.map((({id:t})=>e.getProduct(t)))}async function _(e,t){const n=await(0,i.getTracker)();null!==n&&n.trackPaymentOrderDialogChanges(e,t)}async function D(e,t,n){const r=await(0,i.getTracker)();null!==r&&r.trackPaymentOrderDialogInitial(e,t.join(";"),n)}function b(e){var t,n,r,o;const{pro:a,cartData:c,listLocalPricesProducts:i,currency:u}=e,{proPlanProductId:s,billingCycle:d}=c;let p,g=0,y=0,x=u,h=0,m=0,C=0,v=0,f=0;if(null===a)return{proPlanCost:g,exchangesCost:C,exchangesCostWithTax:v,totalCostWithTax:m,currency:x,tax:h,proPlanCostWithTax:g,subtotal:f};const P=S(a,c);if(void 0===i||0===Object.keys(i).length){const e=s?a.getProduct(s):null;return g=e?a.getCost(e,d):0,C=P.reduce(((e,t)=>a.getCost(t,d)+e),0),f=g+C,{proPlanCost:g,exchangesCost:C,exchangesCostWithTax:C,totalCostWithTax:f,currency:x,tax:h,proPlanCostWithTax:g,subtotal:f,coupon:p}}const E=void 0!==s?i[s]:null,T=null!==(r=(null===(t=null==E?void 0:E.tax)||void 0===t?void 0:t.included)?0:null===(n=null==E?void 0:E.tax)||void 0===n?void 0:n.tax)&&void 0!==r?r:0;E&&(g=E.price.total,x=(0,l.convertCurrencyEnum)(null!==(o=E.price.currency)&&void 0!==o?o:""),p=E.price.coupon),C=P.reduce(((e,t)=>{var n,r;return(null!==(r=null===(n=i[t.text_id])||void 0===n?void 0:n.price.total)&&void 0!==r?r:0)+e}),0);const _=P.reduce(((e,t)=>{var n,r,o,a,c;return(null!==(c=(null===(r=null===(n=i[t.text_id])||void 0===n?void 0:n.tax)||void 0===r?void 0:r.included)?0:null===(a=null===(o=i[t.text_id])||void 0===o?void 0:o.tax)||void 0===a?void 0:a.tax)&&void 0!==c?c:0)+e}),0);return y=g+T,v=C+_,h=T+_,f=g+C,m=f+h,{proPlanCost:g,exchangesCost:C,exchangesCostWithTax:v,totalCostWithTax:m,currency:x,tax:h,proPlanCostWithTax:y,
subtotal:f,coupon:p}}function F(e,t,n){var r,o,a,c;if(null===e||!t||!n||0===Object.keys(n).length)return 0;const i=t?e.getProduct(t):null,u=i?e.getProduct(i.text_id):null;if(u){const e=n[u.text_id],t=e.price.total-((null===(r=e.price.coupon)||void 0===r?void 0:r.fixed_price)||0)+((null===(o=e.price.coupon)||void 0===o?void 0:o.discount)||0);return(0,s.isFeatureEnabled)("vertex-tax-included")?t:t+(null!==(c=null===(a=e.tax)||void 0===a?void 0:a.tax)&&void 0!==c?c:0)}return 0}const k=(e,t,n)=>`${(0,l.formatPriceWithCurrency)(e,t)}${u.THIN_SPACE_CHAR}/${u.THIN_SPACE_CHAR}${(0,a.billingCycleToTimeUnit)(n)}`,w=e=>e.filter((({id:e})=>{var t,n,r,o,a;const c=null===(t=window.pro)||void 0===t?void 0:t.getProduct(e);return!!((null===(n=window.user)||void 0===n?void 0:n.declared_status)===y.UserStatus.Pro?Boolean(c.cost_expert):Boolean(c.cost))&&((null==c?void 0:c.is_bundle)?!(null===(r=window.pro)||void 0===r?void 0:r.hasPackage(e))&&!(null===(o=c.included_exchanges)||void 0===o?void 0:o.some((e=>{var t;return null===(t=window.pro)||void 0===t?void 0:t.hasPackage(e)}))):!(null===(a=window.pro)||void 0===a?void 0:a.hasPackage(e)))})),I=e=>{const t=e.toLowerCase();return t in x?(0,d.triesTranslateCountrieName)(x[t].title):""},U=new Set([p.Steps.Cheque,p.Steps.Error,p.Steps.SelectPlan,p.Steps.ExchangeAgreement,p.Steps.ExchangeAgreementSuccess]),B=new Set([p.Steps.Cheque,p.Steps.ExchangeAgreement,p.Steps.ExchangeAgreementSuccess]),M=()=>{const e=(0,g.getUrlParams)();return"order_pro_plan_id"in e||"order_exchanges"in e||"exchange-agreement"in e},A=e=>e===y.UserStatus.Pro}}]);