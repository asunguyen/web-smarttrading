"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[18116],{429589:(e,t,r)=>{r.r(t),r.d(t,{invokeAlertEditor:()=>p,invokeAlertEditorWithOnlineSeries:()=>g});var n=r(650151),o=r(862297),i=r(949307),s=r(394093),a=r(726778),l=r(201089),c=r(125226),u=r(537133),d=r(206242);const f=(0,l.getLogger)("Alerts.Price.InvokeAlertEditor");function p(e){(0,d.getAlertsTrackers)().maintenance.syncOnUserAction();const t=(0,o.shouldAbortAlertEditor)(e);if(null!==t)return t!==s.AlertEditorAbortReason.IsAlreadyPresent&&(0,o.showAbortExplainingDialog)(t,(0,o.getAlertDialogType)(e)),f.logWarn(`Aborted: ${t}`),void(e.onAborted&&e.onAborted(t));const{unlockInvocation:a,abortSignal:l}=u.alertEditorInvocationHandler.lockInvocation(e);!(0,c.isFeatureEnabled)("alerts-editor-use-facade")||e.silent?Promise.all([Promise.resolve().then(r.bind(r,908287)),Promise.all([r.e(68716),r.e(46574),r.e(16392),r.e(56122),r.e(24028),r.e(25977),r.e(68647),r.e(62750),r.e(42292),r.e(88124),r.e(44581),r.e(3657),r.e(47944),r.e(41339),r.e(73017),r.e(17540),r.e(1335),r.e(38617),r.e(15716),r.e(93202),r.e(60273)]).then(r.t.bind(r,612708,19)),(0,i.getPriceAlertsDispatcher)(),h(e,a,l)]).then((async e=>{const[{getAlertSession:t},{AlertEditor:r},o,i]=e,s=(0,n.ensureNotNull)(t().user.value());await s.twoFactorTracker.sync(),new r(o,i)}),a):Promise.all([Promise.resolve().then(r.bind(r,908287)),Promise.all([r.e(68716),r.e(46574),r.e(16392),r.e(2741),r.e(56122),r.e(39774),r.e(22666),r.e(5993),r.e(62253),r.e(92191),r.e(34465),r.e(32109),r.e(72639),r.e(9817),r.e(69121),r.e(53842),r.e(4015),r.e(92108),r.e(88194),r.e(87845),r.e(89842),r.e(48986),r.e(68992),r.e(93502),r.e(81643),r.e(13152),r.e(36884),r.e(5145),r.e(38669),r.e(84281),r.e(63987),r.e(3436),r.e(73954),r.e(34545),r.e(49205),r.e(6209),r.e(47981),r.e(90592),r.e(60123),r.e(22486),r.e(47047),r.e(89434),r.e(18511),r.e(24028),r.e(26053),r.e(17301),r.e(75058),r.e(52455),r.e(99872),r.e(19512),r.e(50487),r.e(962),r.e(62750),r.e(42292),r.e(88124),r.e(68985),r.e(44581),r.e(3657),r.e(47944),r.e(41339),r.e(73017),r.e(17540),r.e(1335),r.e(38617),r.e(95216),r.e(76317),r.e(15716),r.e(80018),r.e(18118),r.e(93202),r.e(77895)]).then(r.bind(r,370495)),h(e,a,l)]).then((async([{getAlertSession:e},{invokeDialogAlertEditor:t},r])=>{const o=(0,n.ensureNotNull)(e().user.value());await o.twoFactorTracker.sync(),t(r,o)}),a)}function h(e,t,r){return(e.series?(0,a.hasUserAccessToDataSource)(e.series):Promise.resolve(!0)).then((n=>{const{onDestroy:o}=e,i={...e,abortSignal:r,onDestroy:()=>{t(),o&&o()}};return n||(delete i.series,delete i.value),i}))}function g(e){e.dataSourceHub?(0,o.ensureSeriesIsNotOffline)(e.dataSourceHub.mainSeries()).then((()=>{p(e)})):p(e)}},919892:(e,t,r)=>{function n(e){return"="+JSON.stringify(o(e))}function o(e){return Object.keys(e).sort().reduce(((t,r)=>("[object Object]"===Object.prototype.toString.call(e[r])?t[r]=o(e[r]):t[r]=e[r],t)),{})}function i(e){return Boolean(e.inputs)}function s(e){return i(e)||Boolean(e.replay)||e.session||e.adjustment||e["currency-id"]||e["unit-id"]?n(e):e.symbol}
function a(e){return"="===e[0]}function l(e){if(!a(e))return{symbol:e};try{return JSON.parse(e.slice(1))}catch(t){return{symbol:e}}}function c(e){return"string"==typeof e?e:c(e.symbol)}r.d(t,{compareSymbols:()=>d,decodeExtendedSymbol:()=>l,encodeExtendedSymbolOrGetSimpleSymbolString:()=>s,isEncodedExtendedSymbol:()=>a,isStudySymbol:()=>i,unwrapSimpleSymbol:()=>c});const u=["symbol","session","unit-id","currency-id","adjustment","backadjustment","settlement-as-close"];function d(e,t){return u.every((r=>e[r]===t[r]))}},492335:(e,t,r)=>{r.d(t,{AlertConditionTokenMapType:()=>i.AlertConditionTokenMapType,getAlertConditionTokenMap:()=>l});r(586463);var n=r(444372),o=r(650151),i=r(291206);const s=n.t(null,void 0,r(181138)),a=e=>n.t(null,{plural:"in {count} bars",count:e},r(516722)).format({count:e.toString()});function l(e){const t=(0,o.ensureDefined)(e.get("extra")),r=t.getAlertSeries(),n=t.conditionData();if("alerts"===n.type)return{type:i.AlertConditionTokenMapType.PineScriptAlertFunction,scriptTitle:r.title({short:!0}),isStrategy:"StudyStrategy"===r.type()};if("StudyStrategy"===r.type())return{type:i.AlertConditionTokenMapType.Strategy,strategyTitle:r.title()};if(["pine_script","pine_alertcondition_plot"].includes(n.type))return{type:i.AlertConditionTokenMapType.PineScript,conditionTitle:n.title,conditionMessage:n.message};const l=e.getFormatter();function c(e){const t=e.getPlots();return e.title({formatter:l,withPlotTitle:t&&t.length>1})}let u="";switch(n.type){case"moving":const e=t.movingValue(),r=t.movingPeriod();u=n.percents?`${e}% ${a(r)}`:`${l?l.format(e):e} ${a(r)}`;break;case"comparison":if(n.isChannel){const e=c(t.getUpperBand()),r=c(t.getLowerBand());u=`(${s.format({alertChannelUpperBoundaryTitle:e,alertChannelLowerBoundaryTitle:r})})`}else u=c(t.getBand())}const d=t.getMainSeries(),f=d?d.title({withInterval:!e.get("crossInterval")}):e.shortSymbol();return{conditionTitle:n.descriptionTitle||n.title,conditionOptions:u,..."MainSeries"===r.type()?{type:i.AlertConditionTokenMapType.MainSeries,alertSeries:f}:{type:i.AlertConditionTokenMapType.Study,alertSeries:r.title(),mainSeries:f}}}},291206:(e,t,r)=>{var n;r.d(t,{AlertConditionTokenMapType:()=>n}),function(e){e[e.MainSeries=0]="MainSeries",e[e.Study=1]="Study",e[e.PineScript=2]="PineScript",e[e.Strategy=3]="Strategy",e[e.PineScriptAlertFunction=4]="PineScriptAlertFunction"}(n||(n={}))},185866:(e,t,r)=>{r.r(t),r.d(t,{DESCRIPTION_MAX_LENGTH:()=>o,MAX_MOVING_PERIOD:()=>a,MIN_MOVING_PERIOD_MAIN_SERIES:()=>i,MIN_MOVING_PERIOD_STUDY:()=>s,MOVING_PERCENT_STEP:()=>c,MOVING_PERIOD_STEP:()=>l,NAME_MAX_LENGTH:()=>n});const n=300,o=4e3,i=1,s=2,a=300,l=1,c=.01},651108:(e,t,r)=>{function n(e){e&&document.body.contains(e)&&e instanceof HTMLElement&&e.focus()}r.d(t,{focusElementIfPossible:()=>n})},627604:(e,t,r)=>{r.d(t,{getAlertType:()=>i});const n=new Set(["study_Overlay","study_Compare","StudyStrategy"]);function o({type:e}){return!n.has(e)&&e.toLowerCase().startsWith("study")}function i(e){if(e.isDrawing())return"drawing"
;const t=e.get("extra"),r=null==t?void 0:t.alertSeries();return r&&t?"isTVScriptStrategy"in r&&r.isTVScriptStrategy?"strategy":t.bandsArray("object").some(o)?"indicator":"price":"price"}},724006:(e,t,r)=>{function n(e){return!e.isDrawing()}function o(e){return"drawing"!==e.type}r.d(t,{isAlertCloneable:()=>n,isWidgetAlertCloneable:()=>o})},113778:(e,t,r)=>{var n=r(168647),o=r(960769),i=r(201089).getLogger("Alerts.Price.Abstract"),s=r(731042).getTranslatedResolution,a=r(59171),l=r(31341),c=n.Model.extend({constructor:function(e,t){e=this._prepareToSet(e,!0),n.Model.call(this,e,t)},_prepareToSet:function(e,t){var r,n,o;if(e)for(r in e)e.hasOwnProperty(r)&&(n=e[r],"function"==typeof this[o="_prepareToSet_"+r]&&(e[r]=this[o](n,e,t)));return e},destroy:function(){this.stopListening(),this.trigger("destroy",this)},save:function(){i.logError("[Alerts] Use disaptcher to save")},shortSymbol:function(e){return a?a.shortName(e||this.get("symbol")||""):(i.logWarn("[Alerts] can't get short symbol"),e)},resolutionReadable:function(e){return(e=e||this.get("resolution"))?s(e):""},title:function(e){var t;return t=e?this.get("symbol"):this.shortSymbol(),this.get("crossInterval")||(t=l.isRtl()?t+" "+l.forceRTLStr(" ,"+this.resolutionReadable()):t+", "+this.resolutionReadable()),t},_formatDate:function(e){return o(e||new Date).format("MMM D LTS")}});e.exports=c},726249:(e,t,r)=>{var n=r(113778).extend({_prepareToSet_fireTime:function(e){return new Date(1e3*e)},_prepareToSet_barTime:function(e){return new Date(1e3*e)},_prepareToSet_alertId:function(e){return parseInt(e)},fireTimeReadable:function(){return this._formatDate(this.get("fireTime"))},fireTimeUnix:function(){return Math.round(this.get("fireTime").getTime()/1e3)}});e.exports=n},386922:(e,t,r)=>{var n=r(725977),o=r(823127),i=r(125226).isFeatureEnabled,s=r(113778),a=r(45232).AlertExtra,l=r(855611).FormattersSerializer,c=r(903052).AlertFrequencyController,u=r(731042).getServerInterval,d=r(937994).ensureDurationInSeconds,f=r(492335).getAlertConditionTokenMap,p=r(132392).getAlertDefaultDescription,h=r(348917).getAlertDefaultName,g=r(627604).getAlertType,y=["crossInterval","autoDeactivation","description","sendEmail","expired","extra","showPopup","resolution","script","scriptDeps","sendSms","sendPush","playSound","soundDuration","soundFile","symbol","noExpiration","symbolInternal","webhookUrl","name","alertType"],m=y.concat(["id"]),v=s.extend({constructor:function(e,t){var r={};["autoDeactivation","frequency","extra","crossInterval","alertType"].forEach((function(t){e.hasOwnProperty(t)&&(r[t]=e[t],delete e[t])})),n.isEmpty(r)||(this.__delayedInitAttrs=r),t&&!1===t.shouldRecoverExtra?this.__shouldRecoverExtra=!1:this.__shouldRecoverExtra=!0,e.version=e.version||a.VERSION,s.call(this,e,t),this.frequencyController=new c(this)},initialize:function(){var e=this;function t(t){e.set("crossInterval",!!t)}this.on("change:extra",(function(e,r,n){r&&(r.crossInterval.unsubscribe(t),r.crossInterval.subscribe(t),e.set("crossInterval",r.crossInterval.value()),e.syncAlertType())
})).on("change:crossInterval",(function(e,t,r){var n=e.get("extra");t?e.set("resolution","1"):n&&n.mainSeries()&&e.set("resolution",n.mainSeries().interval)})).on("destroy",(function(){TVSettings.remove(e.TVSettingsPropertiesKey(e.id))})),this.__delayedInitAttrs&&(this.set(this.__delayedInitAttrs),delete this.__delayedInitAttrs)},set:function(e,t,r){var n;return null==e?this:(r=r||{}).noPrepare?s.prototype.set.call(this,e,t,r):("object"==typeof e?(n=e,r=t):(n={})[e]=t,n=this._prepareToSet(n),s.prototype.set.call(this,n,r))},_prepareToSet_soundDuration:function(e){e=parseInt(e);return isNaN(e)&&(e=0),d(e)},_prepareToSet_expired:function(e){return e instanceof Date?e:new Date(1e3*e)},_prepareToSet_extra:function(e){var t=this.get("extra"),r=e&&!(e instanceof a);return t&&e?e=t.update(e):r?(e=new a(e),this.set("scriptDeps",e.getDependencies())):e||(e=null),e&&!e.isValid()&&this.__shouldRecoverExtra&&e.tryToRecover(),e},_prepareToSet_symbolInternal:function(e){if(e)return e},_prepareToSet_alertType:function(e){return"undefined"===e?g(this):e},isPrice:function(){return null!==(this.get("extra")?this.get("extra").price():null)},isDrawing:function(){return!(!this.get("extra")||!this.get("extra").drawing())},isMoving:function(){return this.get("extra")&&"moving"===(this.get("extra").conditionData()||{}).type},isOHLC:function(){var e=this.get("extra");if(e&&e.alertSeries())return"MainSeries"===e.alertSeries().type},isRangeBasedStyle:function(){var e=this.get("extra"),t=e&&e.getMainSeries();return!(!t||"MainSeries"!==t.type()||!t.isRangeBasedStyle())},isComplexSymbol:function(){var e=this.get("symbolInternal");return e!==this.get("symbol")&&e},isPine:function(){var e=this.get("extra"),t=e&&e.alertSeries();return t&&t.alerts},expiredUnix:function(){return Math.round(this.get("expired").getTime()/1e3)},defaultDescription:function(){var e=this.get("extra"),t=e&&e.alertSeries();return e&&["strategy_and_alerts","strategy"].includes(e.conditionId())&&t&&"string"==typeof t.defaultStrategyAlertMessage?t.defaultStrategyAlertMessage:p(f(this))},defaultName:function(){return h(f(this))},setDefaultDescription:function(){this.set("description",this.defaultDescription())},state:function(){return this.toJSON()},toJSON:function(){var e,t,r={};for(e in this.attributes)this.attributes.hasOwnProperty(e)&&(t=this.attributes[e],r[e]=t&&"function"==typeof t.toJSON?t.toJSON():t);return r.expired&&(r.expired=this.expiredUnix()),r},prepareToSend:function(){this.syncAlertType(),this.syncScriptDeps();for(var e,t,r=this.toJSON(),n={},o=m.length-1;o>=0;o--)void 0!==(t=r[e=m[o]])&&(n[e]=t),"resolution"===e&&(n[e]=u(t));return n.playSound||(delete n.soundDuration,delete n.soundFile),n.name||delete n.name,n.extra&&(i("alerts-omit-il-code-before-requests")&&function(e){if(!e.statesForAlert)return;for(const t of Object.values(e.statesForAlert)){if(t.callStudyDependencies)try{const e=JSON.parse(t.callStudyDependencies);_(e),t.callStudyDependencies=JSON.stringify(e)}catch(e){}S(t.inputs),_(t.studyDependencies)}}(n.extra),n.extra=JSON.stringify(n.extra)),
n.scriptDeps&&i("alerts-omit-il-code-before-requests")&&_(n.scriptDeps),n},getLocalClone:function(){var e=this.toJSON(),t=y.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{});return new v(t)},saveState:function(){this._oldState=this.state()},restoreState:function(e,t,r){!(e=e||this._oldState||{}).extra||e.extra instanceof a||(e.extra=new a(e.extra),e.scriptDeps=e.extra.getDependencies()),this.set(e,{silent:r}),t||delete this._oldState},getSavedState:function(){var e;return this._oldState&&(e=o.extend({},this._oldState)).extra&&(e.extra=new a(e.extra),e.scriptDeps=e.extra.getDependencies()),e},createTimeFormatted:function(){var e=this.get("createTime");return e?this._formatDate(1e3*e):null},fireTimeFormatted:function(){var e=this.get("fireTime");return e?this._formatDate(1e3*e):null},TVSettingsPropertiesKey:function(){return e=this.id,"chartproperties.alertsProperties."+parseInt(e);var e},getFormatter:function(){var e=this.get("extra");if(e){var t=e.alertSeries();if(t.formatter)return l.deserialize(t.formatter)}return null},syncAlertType:function(){this.set("alertType",g(this))},syncScriptDeps:function(){var e=this.get("extra").getDependencies();this.set("scriptDeps",e)}});function _(e){if(Array.isArray(e))for(const t of e)S(t.inputs)}function S(e){e&&e.text&&(e.text="")}e.exports.Alert=v},903052:(e,t,r)=>{r.d(t,{AlertFrequencyController:()=>i});var n=r(444331);const o=(0,r(201089).getLogger)("Alerts.Price.FrequencyController");class i{constructor(e){this._alert=e,e.on("change:autoDeactivation",((e,t)=>{const r=e.get("frequency");if(this._isFireRateValid({frequency:r,autoDeactivation:t}))return;const n=this._getValidFireRate({autoDeactivation:t});n?e.set("frequency",n.frequency):(o.logError(`Set invalid autoDeactivation: ${t}. Available: ${JSON.stringify(this.getAvailable())}`),this._setAnyValidFireRate())})),e.on("change:frequency",((e,t)=>{this._putFrequencyToExtra();const r=e.get("autoDeactivation");if(this._isFireRateValid({frequency:t,autoDeactivation:r}))return;const n=this._getValidFireRate({frequency:t});n?e.set("autoDeactivation",n.autoDeactivation):(o.logError(`Set invalid frequency: ${t}. Available: ${JSON.stringify(this.getAvailable())}`),this._setAnyValidFireRate())}))}getAvailable(){const e=this._alert.get("extra");return(()=>{const t=null==e?void 0:e.alertSeries();return t&&"isTVScriptStrategy"in t&&t.isTVScriptStrategy})()||"alerts"===(null==e?void 0:e.conditionId())?[{autoDeactivation:!1,frequency:"60"}]:(()=>{var t;return Boolean(this._alert.isDrawing()&&"LineToolVertLine"===(null===(t=null==e?void 0:e.drawing())||void 0===t?void 0:t.type))})()?[{autoDeactivation:!0,frequency:"on_first_fire"}]:(()=>this._alert.get("crossInterval"))()?[{autoDeactivation:!0,frequency:"on_first_fire"},{autoDeactivation:!1,frequency:"on_first_fire"}]:(()=>{const t=null==e?void 0:e.alertSeries(),r=null==e?void 0:e.mainSeries();return void 0!==t&&"style"in t&&n.hasProjection(t.style)||void 0!==r&&n.hasProjection(r.style)})()?[{autoDeactivation:!0,frequency:"on_bar_close"},{autoDeactivation:!1,
frequency:"on_bar_close"}]:[{autoDeactivation:!0,frequency:"once"},{autoDeactivation:!1,frequency:"on_first_fire"},{autoDeactivation:!1,frequency:"on_bar_close"},{autoDeactivation:!1,frequency:"60"}]}switchFrequencies(){const e=this._alert,t=e.get("frequency"),r=e.get("autoDeactivation");if(!0===r){const t=this._getValidFireRate({autoDeactivation:!0});if(t)return void e.set({autoDeactivation:t.autoDeactivation,frequency:t.frequency})}if(!1===r&&"on_first_fire"===t){const t="60",r=this._getValidFireRate({frequency:t});if(r)return void e.set({autoDeactivation:r.autoDeactivation,frequency:t})}if(!1===r){const t=this._getValidFireRate({autoDeactivation:!1});if(t)return void e.set({autoDeactivation:t.autoDeactivation,frequency:t.frequency})}this._isFireRateValid({frequency:t,autoDeactivation:r})||this._setAnyValidFireRate()}_putFrequencyToExtra(){const e=this._alert.get("extra");e&&e.frequency(this._alert.get("frequency"))}_isFireRateValid(e){return this.getAvailable().some((t=>t.frequency===e.frequency&&t.autoDeactivation===e.autoDeactivation))}_getValidFireRate(e){const[t,r]=Object.entries(e)[0],n=this.getAvailable().find((e=>e[t]===r));return void 0===n?null:n}_setAnyValidFireRate(){const e=this.getAvailable()[0];this._alert.set({frequency:e.frequency,autoDeactivation:e.autoDeactivation}),this._putFrequencyToExtra()}}},998213:(e,t,r)=>{r.r(t),r.d(t,{AlertsDispatcher:()=>j,prepareAlertsModels:()=>K});var n=r(444372),o=r(429589),i=r(394093),s=r(726249),a=r.n(s),l=r(404344),c=r(386922),u=r(516684),d=r.n(u),f=r(339315),p=r(262078),h=r(345848),g=r(740254),y=r(833813),m=r(201089),v=r(650867),_=r(947260),S=r(175203),A=r(313929),b=r(199802),T=r(879273),w=r(150302),E=r(961766),D=r(33900),x=r(779923),P=r(735337),C=r(781310),k=r(226722),M=r(125226),I=r(550483),R=r(707957),q=r(944454),N=r(724006),O=r(594949),F=r(537133),V=r(651108),W=r(937994),L=r(582665),G=r(168647),H=r(823127);const J="cancelled: new alert already generating",$=(0,m.getLogger)("Alerts.Price.Dispatcher"),{maintenance:B}=(0,O.getAlertsTrackers)();function j(){this._loading={},this._alertVersioning=new l.AlertVersioning,this._lastGenIds={},this._onPushStreamMessage=new R.Delegate,this._onPushStreamStatusChanged=e=>{e===q.ConnectionStatus.Open&&this._onPushStreamMessage.fire({source:"host",data:{m:"pushstream_ready"}})},this._onMessage=this._onMessage.bind(this),this.alerts=new(G.Collection.extend({model:c.Alert})),this.events=new(G.Collection.extend({comparator:function(e,t){var r=e.get("fireTime"),n=t.get("fireTime");return r&&n?n-r:r?n?void 0:1:-1},model:a()})),this._attachHandlers()}function U(e){e.forEach((e=>e.set("selected",!1)))}function X(e,t){e.forEach((e=>{e!==t&&e.set("selected",!1)}))}function z(e){const t=new Date;e.get("expired")<t&&(t.setMonth(t.getMonth()+1),e.set("expired",t))}function K(e,t,r){return Promise.all(e.map((function(e){const o=e.id,i=(0,_.server2clientParams)(e);return t(i).catch(n("Migration failed",o)).then((e=>e&&new c.Alert(e,r))).catch(n("Alert creation failed",o))}))).then((e=>e.filter((e=>null!==e))));function n(e,t){
return r=>($.logError(`${e}. Alert ID: ${t}. Error: ${r}`),null)}}function Y(e,t){e.script=t.IL,t.inputs&&(e.inputs=t.inputs),t.genAlertData&&(e.gen_alert_data=t.genAlertData)}function Q(e,...t){"function"==typeof e&&e.apply(this,t)}j.checkProPermissions=function(e){return e.get("noExpiration")&&!(0,g.enabled)(y.ProductFeatures.ALERTS_NO_EXPIRATION)?((0,b.showGoProInfExpDialog)(),!1):"string"!=typeof e.get("webhookUrl")||(0,g.enabled)(y.ProductFeatures.ALERTS_WEBHOOK)?!!(0,C.canPlaceAlertOnResolution)(e.get("resolution"))||((0,P.showGoProAlertsOnSecondsDialog)(),!1):((0,I.showGoProAlertsWebhookDialog)(),!1)},j.hasSecurityIssues=async function(e){const{user:t}=(0,O.getAlertSession)();if("string"!=typeof e.get("webhookUrl"))return!1;const r=t.value().twoFactorTracker;return await r.sync(!0),!r.value()&&((0,E.showAlertsWebhookTwoFactorDialog)(),!0)},j.getAnalyticsHeaders=function(e,t){return{"X-Analytics-Price-Alert-Condition":String(e),"X-Analytics-Price-Alert-Action-Source":String(t)}},j.prototype._onLoginStateChange=function(){is_authenticated?this._refreshPushStream():(this.alerts.reset(),this.events.reset(),this._alertVersioning.cancelAllPossibleExtraUpdates()),this._fullListWasRequested=!1},j.prototype._attachHandlers=function(){var e=this;function t(t){var r=e.chartWidget(),n=r&&r.hasModel()?r.model():null;if(n){var o=n.selection().dataSources().some((function(e){return e.hasAlert().value()&&e.alertId()===t.id}));t.set("selected",o)}}loginStateChange.subscribe(this,this._onLoginStateChange.bind(this)),this._onLoginStateChange(!0),e.alerts.on("add",(r=>{t(r),function(t){if(t.isDrawing()&&e._chartWidgetCollection){var r=t.get("extra").drawing();e._chartWidgetCollection.getAll().forEach((function(e){e.applyAlertIdByExternalSource(r.id,t.id)}))}}(r)})).on("change:selected",((t,r,n)=>{if(r){var o=e.alerts;U(e.events),X(o,t)}})).on("change:id",t).on("destroy",(t=>{t.isNew()||e.events.where({alertId:t.id}).forEach((function(e){e.destroy()}))})),e.events.on("change:selected",((t,r,n)=>{var o=e.events.models;r&&(U(e.alerts),X(o,t))})),e.alerts.on("change:id",(t=>{let r=!1;for(const n of e.alerts.models)n.id===t.id&&(r?$.logWarn(`Two alerts share the same id ${t.id}, which may lead to undefined behaviour`):r=!0)})),k.TVXWindowEvents.on("alertevents-deleted",(e=>{""===e?this.events.reset():this.events.remove(JSON.parse(e))}))},j.prototype._refreshPushStream=function(){p.pushStreamMultiplexer.off("alert",this._onMessage),p.pushStreamMultiplexer.offStatus(this._onPushStreamStatusChanged),is_authenticated&&(p.pushStreamMultiplexer.on("alert",this._onMessage),p.pushStreamMultiplexer.onPrivateStatus(this._onPushStreamStatusChanged))},j.prototype._onMessage=function(e){var t,r,n,o,i,s=this;if(e)switch($.logNormal(e),r=JSON.parse(e),this._onPushStreamMessage.fire({source:"alert",data:r}),t="new_alerts"===(n=r.m)?r.p.alerts.map(_.server2clientParams):(0,_.server2clientParams)(r.p),n){case"alert_running":s._alertVersioning.cancelPossibleExtraUpdate(t.id),s._alertVersioning.migrate(t).then((function(e){
(o=s.alerts.get(e.id))?o.set(e):s.alerts.add(e,{at:0})}));break;case"new_alerts":for(const e of t)s.alerts.add(e);break;case"alert_stopped":if(o=s.alerts.get(t.id)){var l={active:!1,stopReason:t.stopReason,error:t.error};o.set(l)}break;case"alert_deleted":if(s._alertVersioning.cancelPossibleExtraUpdate(t.id),o=s.alerts.get(t.id)){const e=s.chartWidget();if(o.isDrawing()&&e){var c=o.get("extra").drawing();e.deleteAlertByExternalSource(c.id,o.id)}o.destroy()}break;case"event":i=new(a())({...t}),s.events.add(i),i.trigger("fired",i),i.trigger("fired:online",i),void 0!==(o=s.alerts.get(t.alertId))&&(o.set({fireTime:t.fireTime,localFireTime:performance.now()}),o.trigger("fired",o))}},j.prototype.cloneAlert=function(e,t={}){if(!(0,N.isAlertCloneable)(e))return"function"==typeof t.error&&t.error("Cannot clone alert"),void("function"==typeof t.complete&&t.complete());const r=e.getLocalClone();z(r),this.alerts.add(r),this.createAlert(r,{...t,eventName:"clone"})},j.prototype.detachAlert=function(e){var t=this.alerts.get(e);t&&t.destroy()},j.prototype.createLocalAlert=function(e,t){var r;return t&&function(e){if(!e)throw new Error("Can't create alert. 'params' is required");for(var t=["symbol","resolution","expired","autoDeactivation","sendEmail","sendSms","showPopup","playSound","description","script"],r=[],n=t.length-1;n>=0;n--){var o=t[n];o in e||r.push(o)}r.length&&$.logError("[Alerts] Can't create alert. "+r.join(" ,")+(1===r.length?" is":" are")+" required")}(e),r=new c.Alert(e),this.alerts.add(r),r},j.prototype.createAlert=async function(e,t={}){const r=this;function n(e,r){"function"==typeof t.complete&&t.complete(),"function"==typeof t.error&&t.error(e,r)}if(e instanceof c.Alert)if(j.checkProPermissions(e)){if(!t.checkSecurityIssues||!await j.hasSecurityIssues(e)){var o=Date.now(),i=e.prepareToSend();return r._generateScriptWithCancellation(e).then((function(n){return Y(i,n),r.sendRequest({headers:j.getAnalyticsHeaders(e.get("extra").conditionId(),t.actionSource),method:"create_alert",params:i,success:function(n){n=(0,_.server2clientParams)(n||{});const o=r.alerts.get(n.id);o?(r.alerts.remove(e),e=o):(n.active=!0,e.set(n)),r._gaTrackEvent(t.eventName||"create",e,t.eventLabel),"function"==typeof t.success&&t.success(e)},complete:function(){var r=Date.now()-o;S.telemetry.sendReport("alerts","full_time_frame",{value:r}),"function"==typeof t.complete&&t.complete(e)},error:t.error}).catch((()=>{}))})).catch((function(e){if(e===J)return $.logNormal("Alert generation is cancelled because next alert generation is started"),J;"function"==typeof t.error&&t.error("Can't generate source code: "+e),"function"==typeof t.complete&&t.complete()}))}n("cannot create alert with webhook without enabled 2FA",!0)}else n("cannot create alert with current pro plan",!0);else n("'alert' should be instance of Alert")},j.prototype.stopAlert=function(e,t={}){const r=this;let n,o;e instanceof c.Alert?(n=e,o=n.get("id")):(o=e,n=r.alerts.get(o)),o?r.sendRequest({method:"stop_alert",params:{id:o},success:function(){r._gaTrackEvent("stop"),
n&&n.set("active",!1),"function"==typeof t.success&&t.success()},error:t.error,complete:t.complete}):$.logError("Alert id is required to stop alert")},j.prototype.stopAllAlerts=function(e={}){const t=this,r={cross_int:!0};let n;e.symbol&&(r.symbol=e.symbol),e.resolution&&(r.resolution=e.resolution),e.showConfirm&&(n=(0,L.bulkStopConfirmation)(e.symbol||e.resolution)),t.sendRequest({method:"stop_all",params:r,success:function(){t._gaTrackEvent("stop_all"),t.alerts.each((function(e){r.symbol&&r.symbol!==e.get("symbol")||r.resolution&&r.resolution!==e.get("resolution")||e.set("active",!1)})),"function"==typeof e.success&&e.success()},confirmation:n,error:e.error,complete:e.complete})},j.prototype.deleteAlert=function(e,t={}){const o=this;let i,s,a;if(e instanceof c.Alert?(s=e,a=s.get("id")):(a=e,s=o.alerts.get(a)),s&&s.isNew())return s.destroy(),void("function"==typeof t.complete&&t.complete());if(a){if(t.showConfirm){const e=(l=s?s.title():a,(0,W.cutString)(l,100)),t=n.t(null,void 0,r(974834)).format({alert:e});i={title:n.t(null,void 0,r(588511)),text:t}}var l;o.sendRequest({method:"delete_alert",params:{id:a},success:function(){o._gaTrackEvent("delete"),"function"==typeof t.success&&t.success(),s&&s.destroy()},error:t.error,cancel:t.cancel,complete:t.complete,confirmation:i})}else $.logError("Alert id is required to delete alert")},j.prototype.deleteAllAlerts=function(e={}){const t=this,r={crossInterval:!0};let n;e.symbol&&(r.symbol=e.symbol),e.resolution&&(r.resolution=e.resolution),"boolean"==typeof e.active&&(r.active=e.active),e.showConfirm&&(n=!1===r.active?(0,L.bulkRemoveInactiveConfirmation)():(0,L.bulkRemoveConfirmation)(r.active||r.symbol||r.resolution)),t.sendRequest({method:"delete_all",params:r,success:function(){var n,o={};for(t._gaTrackEvent("delete_all"),r.symbol&&(o.symbol=r.symbol),r.resolution&&(o.resolution=r.resolution),"boolean"==typeof r.active&&(o.active=r.active),n=t.alerts.findWhere(o);n;)n.destroy(),n=t.alerts.findWhere(o);"function"==typeof e.success&&e.success()},error:e.error,complete:e.complete,confirmation:n})},j.prototype.restartAlert=async function(e,t={}){const r=this;let n,o;if(e instanceof c.Alert?n=e:(o=e,n=r.alerts.get(o)),n)if(z(n),j.checkProPermissions(n)){if(!t.checkSecurityIssues||!await j.hasSecurityIssues(n)){var i=Date.now(),s=n.prepareToSend();return r._generateScriptWithCancellation(n).then((function(e){return Y(s,e),r.sendRequest({headers:j.getAnalyticsHeaders(n.get("extra").conditionId(),t.actionSource),method:"restart_alert",params:s,success:function(){r._gaTrackEvent("restart",n),n.set("active",!0),"function"==typeof t.success&&t.success(n)},complete:function(){var e=Date.now()-i;S.telemetry.sendReport("alerts","full_time_frame",{value:e}),"function"==typeof t.complete&&t.complete(n)},error:t.error}).catch((()=>{}))})).catch((function(e){if(e===J)return $.logNormal("Alert generation is cancelled because next alert generation is started"),J;"function"==typeof t.error&&t.error("Can't generate alert source code for alert #"+o)}))}
a("cannot restart alert with webhook without enabled 2FA",!0)}else a("cannot restart alert with current pro plan",!0);else r.requestAlert(o,{success:function(e){e?r.restartAlert(e,t):("function"==typeof t.error&&t.error("Can't find alert "+o),"function"==typeof t.complete&&t.complete())}});function a(e,r){"function"==typeof t.complete&&t.complete(),"function"==typeof t.error&&t.error(e,r)}},j.prototype._generateScriptWithCancellation=function(e){if((0,M.isFeatureEnabled)("alerts-do-not-send-pine-facade-data"))return Promise.resolve({});var t=this;null==t._lastGenIds[e.cid]&&(t._lastGenIds[e.cid]=0),t._lastGenIds[e.cid]++;var r=t._lastGenIds[e.cid];return new Promise((function(t,r){const n=e.get("extra");let o=null,i="";if(n.isValid()?(o=n.toGenAlertJSON(e.get("description")),null===o&&(i="Can't generate alert JSON")):i="Can't generate alert on invalid AlertExtra",i)return $.logError(i),void r(i);d().generateAlert(JSON.stringify(o)).then((function(e,r,n,o){t({IL:r,inputs:n,genAlertData:o})}),r)})).then((function(n){return t._lastGenIds[e.cid]!==r?Promise.reject(J):(e.set("script",n.IL),n)}))},j.prototype.restartAllAlerts=function(e={}){const t=this,r={crossInterval:!0};let n;e.symbol&&(r.symbol=e.symbol),e.resolution&&(r.resolution=e.resolution),"boolean"==typeof e.active&&(r.active=e.active),e.showConfirm&&(n=(0,L.bulkRestartConfirmation)(e.symbol||e.resolution));t.alerts.every(j.checkProPermissions)&&t.sendRequest({method:"restart_all",params:r,success:function(){t._gaTrackEvent("restart_all"),t.alerts.each((function(e){r.symbol&&r.symbol!==e.get("symbol")||r.resolution&&r.resolution!==e.get("resolution")||e.set("active",!0)})),"function"==typeof e.success&&e.success()},error:e.error,complete:e.complete,confirmation:n})},j.prototype.requestAlert=function(e,t={}){const r=this,n=parseInt(e);function o(e){var o=r.alerts.get(n)||null;return(o||e)&&("function"==typeof t.success&&t.success(o),"function"==typeof t.complete&&t.complete()),!!o}function i(){r.sendRequest({method:"get_alert",preventMaintenanceDialog:!0,params:{id:n},success:function(e){var n,o=e.alert;o=(0,_.server2clientParams)(o),r._alertVersioning.migrate(o).then((function(e){n=new c.Alert(e),r.alerts.add(n),"function"==typeof t.success&&t.success(n)})).catch((function(e){"function"==typeof t.error&&t.error(e)}))},complete:t.complete,error:function(r){"function"==typeof t.error?t.error(r):$.logError("Error in getting alert "+e+(r?": "+r:""))}})}!0===t.fromCache?o(!0):!1===t.fromCache?i():o()||i()},j.prototype.getAlertSync=function(e){return this.alerts.get(e)||null},j.prototype.ensureFullAlertsList=async function(e={}){try{if(window.is_authenticated||(this._fullListWasRequested=!0),this._fullListWasRequested)return void Q(e.success);const t=await this.sendRequest({method:"list_alerts",preventMaintenanceDialog:!0});if(!t.alerts||!Array.isArray(t.alerts))throw new Error("Not valid params in alert list response");const r=await K(t.alerts,(e=>this._alertVersioning.migrate(e)));this.alerts.set(r),this._fullListWasRequested=!0,Q(e.success)}catch(t){
const r=String(t);throw $.logError(r),Q(e.error,r),t}finally{Q(e.complete)}},j.prototype.requestEventList=function(e={}){const t=this,r={sym:e.symbol,res:e.resolution&&e.resolution.toString?e.resolution.toString():void 0,limit:e.limit,before:e.before,inc_cross_int:void 0===e.includeCrossInterval||e.includeCrossInterval};e.aid&&(r.aid=e.aid),e.aids&&(r.aids=e.aids),this.sendRequest({method:"list_events",preventMaintenanceDialog:!0,params:r,success:async function(r){const n=r.events,o=[];if(n&&Array.isArray(n)){for(const e of n){const r=(0,_.server2clientParams)(e),n=new(a())(r);o.push(n),t.events.add(n)}"function"==typeof e.success&&e.success(t.events.toArray()),"function"==typeof e.onServerEventsReceived&&e.onServerEventsReceived(o)}else console.warn("[Alerts] Not valid params in event list response")},error:e.error,complete:e.complete})},j.prototype.deleteEvents=function(e={}){const t=e.ids;if(t&&0===t.length)return r(),void("function"==typeof e.complete&&e.complete());function r(){"function"==typeof e.success&&e.success()}this.sendRequest({method:"delete_events",params:t?{ids:t}:void 0,success:()=>{t?this.events.remove(t):this.events.reset(),k.TVXWindowEvents.emit("alertevents-deleted",t?JSON.stringify(t):""),r()},error:e.error,complete:e.complete})},j.prototype.stopAlerts=function(e){const{ids:t,success:r,confirmation:n,error:o,complete:i}=e;if(0===t.length)return Q(r),void Q(i);this.sendRequest({method:"stop_alerts",params:{ids:t},success:()=>{this._gaTrackEvent("stop_alerts");for(const e of t){const t=this.alerts.get(e);t&&t.set("active",!1)}Q(r)},error:o,complete:i,confirmation:n})},j.prototype.restartAlerts=function(e){const{ids:t,confirmation:r,success:n,error:o,complete:i}=e;if(0===t.length)return Q(n),void Q(i);const s=[];for(const e of t){const t=this.alerts.get(e);t&&s.push(t)}if(!s.every(j.checkProPermissions))return Q(o,"Cannot restart alerts with current pro plan"),void Q(i);this.sendRequest({method:"restart_alerts",params:{ids:t},success:()=>{this._gaTrackEvent("restart_alerts");for(const e of s)e.set("active",!0);Q(n)},error:o,complete:i,confirmation:r})},j.prototype.cloneAlerts=function(e){const{success:t,error:r,complete:n}=e,o=e.ids.filter((e=>{const t=this.alerts.get(e);return Boolean(t&&(0,N.isAlertCloneable)(t))}));if(0===o.length)return Q(t),void Q(n);this.sendRequest({method:"clone_alerts",params:{ids:o},success:()=>{this._gaTrackEvent("clone_alerts"),Q(t)},error:r,complete:n})},j.prototype.deleteAlerts=function(e){const{ids:t,confirmation:r,success:n,error:o,complete:i}=e;if(0===t.length)return Q(n),void Q(i);this.sendRequest({method:"delete_alerts",params:{ids:t},success:()=>{this._gaTrackEvent("delete_alerts");for(const e of t){const t=this.alerts.get(e);t&&t.destroy()}Q(n)},error:o,complete:i,confirmation:r})},j.prototype.sendRequest=function(e){const t=e.headers||{};(0,M.isFeatureEnabled)("alerts-controller-use-permission-proxy")&&(t["X-UseNewAuth"]="true");const o=e.method,i=(0,_.client2serverParams)(e.params);if(function(e,t){if(["create_alert","restart_alert"].includes(e)){
var r=t.extra&&JSON.parse(t.extra),n=r&&r.condition;["strategy","alerts","strategy_and_alerts"].includes(n.id)&&(t.ns_only_fire=!0)}}(o,i),B.value())return l("maintenance"),c(),Promise.reject("maintenance");if(e.confirmation){const{title:t,text:o}=e.confirmation;return new Promise((function(i){const a=document.activeElement;(0,x.showConfirm)({title:t||n.t(null,void 0,r(474382)),text:o,onConfirm:({dialogClose:e})=>{const t=s();return t.then((function(t){return e(),(0,V.focusElementIfPossible)(a),t})).catch((function(t){return e(),(0,V.focusElementIfPossible)(a),t})),i(t),t},onClose:()=>{"function"==typeof e.cancel&&e.cancel(),c()}})}))}return s();function s(){const r=(0,v.sendRequest)({method:o,params:i,noCache:e.noCache,headers:t});return r.then(a,l),r}function a(t){if("function"==typeof e.success){var r=(0,_.server2clientParams)(t);e.success(r)}return c(),r}function l(t){var r=!1;return t in A.countExceededErrorToFeature?((0,A.showGoProMaxAlertsDialog)(t),r=!0):"max_total_alerts_count_exceeded"===t?((0,T.showWarningAlertsMaxTotalCountExceeded)(),r=!0):"pro_plan_expired"===t?((0,b.showGoProInfExpDialog)(),r=!0):"maintenance"===t&&(e.preventMaintenanceDialog||(setTimeout(w.showAlertsMaintenanceDialog,0),r=!0)),"function"==typeof e.error?e.error(t,r):"maintenance"===t?$.logNormal("Alerts maintenance"):t&&$.logError("Reason: "+t),c(),t}function c(){"function"==typeof e.complete&&e.complete()}},j.prototype.setChartWidgetCollection=function(e){this._chartWidgetCollection=e},j.prototype.chartWidget=function(){var e=null;return this._chartWidgetCollection&&(e=this._chartWidgetCollection.activeChartWidget.value()||null),e},j.prototype.removeAlertFromAllChartsSilently=function(e,t){this._chartWidgetCollection&&this._chartWidgetCollection.getAll().forEach((function(r){r.deleteAlertByExternalSource(e,t)}))},j.prototype._gaTrackEvent=function(e,t,r){var n;(0,h.trackEvent)("alert",e,r),"create"===e&&t instanceof c.Alert&&(n=t.get("extra"),(0,h.trackEvent)("alert","create__style",function(e){var t=e&&e.getMainSeries(),r=t&&t.getStyle&&t.getStyle();return r&&f.STYLE_SHORT_NAMES.hasOwnProperty(r)?f.STYLE_SHORT_NAMES[r]:"unknown"}(n)),(0,h.trackEvent)("alert","create__condition",function(e){var t=e.conditionId();return e.prepareAlertConditions()[t]&&(t="pine_condition"),t||"unknown"}(n)),(0,h.trackEvent)("alert","create__frequency",t.get("frequency")||"unknown"),t.isPrice()?(0,h.trackEvent)("alert","create__on","price"):t.isDrawing()?(0,h.trackEvent)("alert","create__on","drawing"):t.isMoving()?(0,h.trackEvent)("alert","create__on","moving"):n.band()||n.upperBand()||n.lowerBand()?(0,h.trackEvent)("alert","create__on","study"):(0,h.trackEvent)("alert","create__on","unknown"))},j.prototype.getAlertDialogInvocations=function(){return F.alertEditorInvocationHandler.getDialogInvocations()},j.prototype.openCreateDialog=function(e){(0,o.invokeAlertEditor)({type:"create_alert",...e})},j.prototype.openEditDialog=function(e,t={}){const s=this;let a,l;const u=e=>t.onAborted&&t.onAborted(e)
;!t.dataSourceHub&&s.chartWidget()&&(t.dataSourceHub=s.chartWidget().model().model()),e instanceof c.Alert?a=e:(l=e,a=s.alerts.get(l)),a?(t=H.extend(t,{alert:a,type:"edit_alert"}),(0,o.invokeAlertEditor)(t)):l?s.requestAlert(l,{success:function(e){s.openEditDialog(e,t)},error:function(e){"not_exists"===e&&(0,D.showNoticeDialog)({type:"modal",title:n.t(null,void 0,r(474382)),content:n.t(null,void 0,r(578357))}),"function"==typeof t.error&&t.error(e),u(i.AlertEditorAbortReason.AlertIsInvalid)}}):(console.error("[Alerts] alert id is required to edit alert"),u(i.AlertEditorAbortReason.AlertIsInvalid))},j.prototype.subscribeToPushStream=function(e){this._onPushStreamMessage.subscribe(null,e)},j.prototype.unsubscribeFromPushStream=function(e){e?this._onPushStreamMessage.unsubscribe(null,e):this._onPushStreamMessage.unsubscribeAll(null)}},132392:(e,t,r)=>{r.d(t,{getAlertDefaultDescription:()=>a});r(586463);var n=r(444372),o=r(492335);const i=n.t(null,void 0,r(427631)),s=n.t(null,void 0,r(404050));function a(e){switch(e.type){case o.AlertConditionTokenMapType.MainSeries:return`${e.alertSeries} ${e.conditionTitle} ${e.conditionOptions}`;case o.AlertConditionTokenMapType.Study:return i.format({alertSeries:e.alertSeries,chartSeries:e.mainSeries,alertCondition:e.conditionTitle,alertConditionOptions:e.conditionOptions});case o.AlertConditionTokenMapType.PineScript:return e.conditionMessage;case o.AlertConditionTokenMapType.PineScriptAlertFunction:return"";case o.AlertConditionTokenMapType.Strategy:return s.format({strategyName:e.strategyTitle})}}},348917:(e,t,r)=>{r.d(t,{getAlertDefaultName:()=>u});r(586463);var n=r(444372),o=r(492335),i=r(185866);const s=n.t(null,void 0,r(483875)),a=n.t(null,void 0,r(890119)),l=i.NAME_MAX_LENGTH-d(s),c=i.NAME_MAX_LENGTH-d(a);function u(e){switch(e.type){case o.AlertConditionTokenMapType.MainSeries:case o.AlertConditionTokenMapType.Study:case o.AlertConditionTokenMapType.PineScript:case o.AlertConditionTokenMapType.Strategy:return"";case o.AlertConditionTokenMapType.PineScriptAlertFunction:const t=e.scriptTitle;let r,n;return e.isStrategy?(r=a,n=t.length>c?f(t,c):t):(r=s,n=t.length>l?f(t,l):t),r.format({title:n})}}function d(e){return e.replace("{title}","").length}function f(e,t){return`${e.substring(0,t-"…".length)}…`}},150302:(e,t,r)=>{r.d(t,{showAlertsMaintenanceDialog:()=>i});var n=r(394093),o=r(862297);function i(){(0,o.showAbortExplainingDialog)(n.AlertEditorAbortReason.AlertsMaintenance)}},961766:(e,t,r)=>{r.d(t,{showAlertsWebhookTwoFactorDialog:()=>s});var n=r(50959),o=r(444372),i=r(779923);function s(){(0,i.showWarning)({title:o.t(null,void 0,r(692413)),content:n.createElement(a,null),id:"alerts-webhook-2fa-warning",buttonText:o.t(null,void 0,r(875139))})}function a(){const e="/u/#security",t=o.t(null,void 0,r(609725)).split(/{link_start}|{link_end}/);return n.createElement("p",null,t[0],n.createElement("a",{href:e,target:"_blank",onClick:t=>{t.preventDefault(),window.open(e)}},t[1]))}},550483:(e,t,r)=>{r.d(t,{showGoProAlertsWebhookDialog:()=>o});var n=r(960337);function o(){(0,
n.createGoProDialog)({feature:"alertsWebhook"})}},199802:(e,t,r)=>{r.d(t,{showGoProInfExpDialog:()=>o});var n=r(960337);function o(){(0,n.createGoProDialog)({feature:"alertsNoExpiration"})}},313929:(e,t,r)=>{r.d(t,{countExceededErrorToFeature:()=>a,showGoProMaxAlertsDialog:()=>l});var n=r(444372),o=(r(659863),r(960337)),i=r(822122),s=r(371927);const a={max_primitive_alerts_count_exceeded:"primitiveAlerts",max_complex_alerts_count_exceeded:"complexAlerts"};function l(e){const t=window.user.pro_plan;(0,o.createGoProDialog)({feature:a[e],customParams:c(e),actions:t&&t===i.ExpertPlans.PremiumExpert?[{text:n.t(null,void 0,r(875139)),action:s.PredefinedAction.Close}]:void 0})}function c(e){return"max_primitive_alerts_count_exceeded"===e?"primitive":"complex"}},879273:(e,t,r)=>{function n(){Promise.all([r.e(62253),r.e(92191),r.e(33199),r.e(61298),r.e(64534),r.e(41759),r.e(962),r.e(3091)]).then(r.bind(r,890785)).then((e=>e.showWarningAlertsMaxTotalCountExceededImpl()))}r.d(t,{showWarningAlertsMaxTotalCountExceeded:()=>n})}}]);