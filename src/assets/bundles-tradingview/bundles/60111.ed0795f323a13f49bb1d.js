(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[60111],{755596:e=>{e.exports={dialog:"dialog-b8SxMnzX",wrapper:"wrapper-b8SxMnzX",separator:"separator-b8SxMnzX",bounded:"bounded-b8SxMnzX"}},257240:e=>{e.exports={container:"container-M1mz4quA",pairContainer:"pairContainer-M1mz4quA",logo:"logo-M1mz4quA",hidden:"hidden-M1mz4quA"}},869827:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",container:"container-BZKENkhT",unsetAlign:"unsetAlign-BZKENkhT",title:"title-BZKENkhT",subtitle:"subtitle-BZKENkhT",textWrap:"textWrap-BZKENkhT",ellipsis:"ellipsis-BZKENkhT",close:"close-BZKENkhT",icon:"icon-BZKENkhT"}},140281:e=>{e.exports={container:"container-qm7Rg5MB",inputContainer:"inputContainer-qm7Rg5MB",withCancel:"withCancel-qm7Rg5MB",input:"input-qm7Rg5MB",icon:"icon-qm7Rg5MB",cancel:"cancel-qm7Rg5MB"}},283346:e=>{e.exports={smallWidthMenuItem:"smallWidthMenuItem-FQnYHPGe",smallWidthTitle:"smallWidthTitle-FQnYHPGe"}},452597:e=>{e.exports={actions:"actions-rarsm4ka",actionButton:"actionButton-rarsm4ka"}},253588:e=>{e.exports={logo:"logo-d0vVmGvT"}},339339:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",itemRow:"itemRow-oRSs8UQo",multiLine:"multiLine-oRSs8UQo",cell:"cell-oRSs8UQo",itemInfoCell:"itemInfoCell-oRSs8UQo",description:"description-oRSs8UQo",symbolDescription:"symbolDescription-oRSs8UQo",flag:"flag-oRSs8UQo",exchangeDescription:"exchangeDescription-oRSs8UQo",marketType:"marketType-oRSs8UQo",exchangeName:"exchangeName-oRSs8UQo",actionHandleWrap:"actionHandleWrap-oRSs8UQo",source:"source-oRSs8UQo",hover:"hover-oRSs8UQo",selected:"selected-oRSs8UQo",active:"active-oRSs8UQo",highlighted:"highlighted-oRSs8UQo",light:"light-oRSs8UQo","highlight-animation-theme-light":"highlight-animation-theme-light-oRSs8UQo",dark:"dark-oRSs8UQo","highlight-animation-theme-dark":"highlight-animation-theme-dark-oRSs8UQo",markedFlag:"markedFlag-oRSs8UQo",offset:"offset-oRSs8UQo",descriptionCell:"descriptionCell-oRSs8UQo",addition:"addition-oRSs8UQo",exchangeCell:"exchangeCell-oRSs8UQo",fixedWidth:"fixedWidth-oRSs8UQo",expandHandle:"expandHandle-oRSs8UQo",expanded:"expanded-oRSs8UQo",symbolTitle:"symbolTitle-oRSs8UQo",invalid:"invalid-oRSs8UQo",noDescription:"noDescription-oRSs8UQo",highlightedText:"highlightedText-oRSs8UQo",icon:"icon-oRSs8UQo",narrow:"narrow-oRSs8UQo",wide:"wide-oRSs8UQo",dataMode:"dataMode-oRSs8UQo",actionsCell:"actionsCell-oRSs8UQo",action:"action-oRSs8UQo",targetAction:"targetAction-oRSs8UQo",removeAction:"removeAction-oRSs8UQo",addAction:"addAction-oRSs8UQo",markedFlagWrap:"markedFlagWrap-oRSs8UQo",markedFlagMobile:"markedFlagMobile-oRSs8UQo",logo:"logo-oRSs8UQo",isExpandable:"isExpandable-oRSs8UQo",primaryIcon:"primaryIcon-oRSs8UQo"}},433172:e=>{e.exports={icon:"icon-OJpk_CAQ"}},785604:e=>{e.exports={button:"button-xxaFvfwC",opened:"opened-xxaFvfwC"}},263212:e=>{e.exports={otherSymbols:"otherSymbols-Fy3G0dlb",newStyles:"newStyles-Fy3G0dlb",smallFont:"smallFont-Fy3G0dlb",resetFilters:"resetFilters-Fy3G0dlb",bold:"bold-Fy3G0dlb",
exchangeWrap:"exchangeWrap-Fy3G0dlb",icon:"icon-Fy3G0dlb",noResultsDesktop:"noResultsDesktop-Fy3G0dlb",token:"token-Fy3G0dlb",showMe:"showMe-Fy3G0dlb"}},250674:e=>{e.exports={wrap:"wrap-IxKZEhmO",libAllSelected:"libAllSelected-IxKZEhmO",container:"container-IxKZEhmO",iconWrap:"iconWrap-IxKZEhmO",icon:"icon-IxKZEhmO",title:"title-IxKZEhmO",highlighted:"highlighted-IxKZEhmO",description:"description-IxKZEhmO",mobile:"mobile-IxKZEhmO",allSelected:"allSelected-IxKZEhmO",desktop:"desktop-IxKZEhmO",allSelectedIcon:"allSelectedIcon-IxKZEhmO",selected:"selected-IxKZEhmO",focused:"focused-IxKZEhmO",titleWithoutDesc:"titleWithoutDesc-IxKZEhmO",textBlock:"textBlock-IxKZEhmO",bordered:"bordered-IxKZEhmO"}},270699:e=>{e.exports={container:"container-dfKL9A7t",contentList:"contentList-dfKL9A7t",contentListDesktop:"contentListDesktop-dfKL9A7t",searchSourceItemsContainer:"searchSourceItemsContainer-dfKL9A7t",oneColumn:"oneColumn-dfKL9A7t",searchSourceItemsContainerDesktop:"searchSourceItemsContainerDesktop-dfKL9A7t",groupTitleDesktop:"groupTitleDesktop-dfKL9A7t",column:"column-dfKL9A7t",emptyText:"emptyText-dfKL9A7t",emptyIcon:"emptyIcon-dfKL9A7t",noResultsDesktop:"noResultsDesktop-dfKL9A7t"}},423258:e=>{e.exports={title:"title-doKWeaTN"}},37796:e=>{e.exports={wrap:"wrap-gjrLBBL3",item:"item-gjrLBBL3",small:"small-gjrLBBL3",newStyles:"newStyles-gjrLBBL3",mobile:"mobile-gjrLBBL3",text:"text-gjrLBBL3",exchange:"exchange-gjrLBBL3",filterItem:"filterItem-gjrLBBL3",brokerWrap:"brokerWrap-gjrLBBL3"}},852662:e=>{e.exports={wrap:"wrap-dlewR1s1",watchlist:"watchlist-dlewR1s1",noFeed:"noFeed-dlewR1s1",newStyles:"newStyles-dlewR1s1",scrollContainer:"scrollContainer-dlewR1s1",listContainer:"listContainer-dlewR1s1",multiLineItemsContainer:"multiLineItemsContainer-dlewR1s1",withSpinner:"withSpinner-dlewR1s1",spinnerContainer:"spinnerContainer-dlewR1s1",largeSpinner:"largeSpinner-dlewR1s1"}},285544:e=>{e.exports={search:"search-ZXzPWcCf",upperCase:"upperCase-ZXzPWcCf",withFilters:"withFilters-ZXzPWcCf",withButton:"withButton-ZXzPWcCf",symbolType:"symbolType-ZXzPWcCf",spinnerWrap:"spinnerWrap-ZXzPWcCf",emptyText:"emptyText-ZXzPWcCf",emptyIcon:"emptyIcon-ZXzPWcCf",noResultsDesktop:"noResultsDesktop-ZXzPWcCf",brokerButtonWrap:"brokerButtonWrap-ZXzPWcCf",brokerButton:"brokerButton-ZXzPWcCf"}},314444:e=>{e.exports={flagWrap:"flagWrap-QKnxaZOG",icon:"icon-QKnxaZOG",caret:"caret-QKnxaZOG",title:"title-QKnxaZOG",button:"button-QKnxaZOG",withFlag:"withFlag-QKnxaZOG",buttonContent:"buttonContent-QKnxaZOG"}},362393:e=>{e.exports={dialog:"dialog-u2dP3kv1",tabletDialog:"tabletDialog-u2dP3kv1",desktopDialog:"desktopDialog-u2dP3kv1",backButton:"backButton-u2dP3kv1"}},254638:e=>{e.exports={childrenWrapper:"childrenWrapper-_RhDhmVQ",container:"container-_RhDhmVQ"}},423886:e=>{e.exports={bubbles:"bubbles-Ie7o2cas",multiLine:"multiLine-Ie7o2cas",bubble:"bubble-Ie7o2cas"}},161371:e=>{e.exports={bubble:"bubble-zcjhaZ_y",animated:"animated-zcjhaZ_y",content:"content-zcjhaZ_y","appearance-default":"appearance-default-zcjhaZ_y",active:"active-zcjhaZ_y",
gray:"gray-zcjhaZ_y",red:"red-zcjhaZ_y",blue:"blue-zcjhaZ_y",green:"green-zcjhaZ_y",orange:"orange-zcjhaZ_y",purple:"purple-zcjhaZ_y",cyan:"cyan-zcjhaZ_y",pink:"pink-zcjhaZ_y","appearance-text":"appearance-text-zcjhaZ_y","fontSize-s":"fontSize-s-zcjhaZ_y","fontSize-m":"fontSize-m-zcjhaZ_y","size-m":"size-m-zcjhaZ_y","size-l":"size-l-zcjhaZ_y"}},275623:e=>{e.exports={highlighted:"highlighted-cwp8YRo6"}},345719:e=>{e.exports={separator:"separator-Pf4rIzEt"}},789768:(e,t,n)=>{"use strict";n.d(t,{BackButton:()=>S});var o=n(50959),r=n(897782),a=n(295694),l=n(249498),s=n(560176),i=n(935369),c=n(758478),u=n(773063),d=n(914127),m=n(218073),h=n(124097),p=n(142576);function g(e="large",t="1.2"){switch(e){case"large":return"1.2"===t?a:u;case"medium":return"1.2"===t?l:d;case"small":return"1.2"===t?s:m;case"xsmall":return"1.2"===t?i:h;case"xxsmall":return"1.2"===t?c:p;default:return l}}const S=o.forwardRef(((e,t)=>{const{"aria-label":n,flipIconOnRtl:a,...l}=e;return o.createElement(r.NavButton,{...l,"aria-label":n,ref:t,icon:g(e.size,e.iconStrokeWidth),flipIconOnRtl:a})}))},916085:(e,t,n)=>{"use strict";n.d(t,{flagUrl:()=>i,getMockedFlag:()=>c});var o=n(61499),r=n(849204);const a=n.p+"mock-dark.16b5f3a431f502b03ae3.svg",l=n.p+"mock-light.d201313017eb2c1b989f.svg",s={erl:"EU",uk:"GB",bitcoin:"BTC"};function i(e,t,n=r.LogoSize.Medium){return e?(e.toLowerCase()in s&&(e=s[e]),(0,r.getLogoUrlResolver)().getCountryFlagUrl(e.toUpperCase(),n)):c(t)}function c(e){return e===o.StdTheme.Dark?a:l}},619027:(e,t,n)=>{"use strict";n.d(t,{AdaptivePopupDialog:()=>w});var o=n(50959),r=n(650151),a=n(790934),l=n(497754),s=n.n(l),i=n(470316),c=n(31341),u=n(515312),d=n(500745),m=n(221155),h=n(642709),p=n(18182),g=n(8629),S=n(744359),f=n(332450),v=n(251954),y=n(772626),b=n(551080),E=n(8626),x=n(755596);const C={vertical:20},T={vertical:0};class w extends o.PureComponent{constructor(){super(...arguments),this._controller=null,this._reference=null,this._orientationMediaQuery=null,this._renderChildren=(e,t)=>(this._controller=e,this.props.render({requestResize:this._requestResize,centerAndFit:this._centerAndFit,isSmallWidth:t})),this._handleReference=e=>this._reference=e,this._handleCloseBtnClick=()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleClose()},this._handleClose=()=>{this.props.onClose()},this._handleOpen=()=>{void 0!==this.props.onOpen&&this.props.isOpened&&this.props.onOpen(this.props.fullScreen||window.matchMedia(h.DialogBreakpoints.TabletSmall).matches)},this._handleKeyDown=e=>{if(!e.defaultPrevented){if(this.props.onKeyDown&&this.props.onKeyDown(e),27===(0,i.hashFromEvent)(e)){if(e.defaultPrevented)return;if(this.props.forceCloseOnEsc&&this.props.forceCloseOnEsc())return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose();const{activeElement:n}=document,o=(0,r.ensureNotNull)(this._reference);if(null!==n){if(e.preventDefault(),"true"===(t=n).getAttribute("data-haspopup")&&"true"!==t.getAttribute("data-expanded"))return void this._handleClose();if((0,
u.isTextEditingField)(n))return void o.focus();if(o.contains(n))return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose()}}var t;(function(e){if("function"==typeof e)return e();return Boolean(e)})(this.props.disableTabNavigationContainment)||(0,S.containTabNavigation)(e)}},this._requestResize=()=>{null!==this._controller&&this._controller.recalculateBounds()},this._centerAndFit=()=>{null!==this._controller&&this._controller.centerAndFit()},this._calculatePositionWithOffsets=(e,t)=>{const n=(0,r.ensureDefined)(this.props.fullScreenViewOffsets).value();return{top:n.top,left:(0,c.isRtl)()?-n.right:n.left,width:t.clientWidth-n.left-n.right,height:t.clientHeight-n.top-n.bottom}}}componentDidMount(){this.props.ignoreClosePopupsAndDialog||v.subscribe(f.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),this._handleOpen(),void 0!==this.props.onOpen&&(this._orientationMediaQuery=window.matchMedia("(orientation: portrait)"),(0,a.mediaQueryAddEventListener)(this._orientationMediaQuery,this._handleOpen)),this.props.fullScreenViewOffsets&&this.props.fullScreen&&this.props.fullScreenViewOffsets.subscribe(this._requestResize)}componentWillUnmount(){this.props.ignoreClosePopupsAndDialog||v.unsubscribe(f.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),null!==this._orientationMediaQuery&&(0,a.mediaQueryRemoveEventListener)(this._orientationMediaQuery,this._handleOpen),this.props.fullScreenViewOffsets&&this.props.fullScreen&&this.props.fullScreenViewOffsets.unsubscribe(this._requestResize)}focus(){(0,r.ensureNotNull)(this._reference).focus()}getElement(){return this._reference}contains(e){var t,n;return null!==(n=null===(t=this._reference)||void 0===t?void 0:t.contains(e))&&void 0!==n&&n}render(){const{className:e,wrapperClassName:t,headerClassName:n,isOpened:r,title:a,titleTextWrap:l,dataName:i,onClickOutside:c,additionalElementPos:u,additionalHeaderElement:S,backdrop:f,shouldForceFocus:v=!0,shouldReturnFocus:w,onForceFocus:k,showSeparator:I,subtitle:L,draggable:N=!0,fullScreen:R=!1,showCloseIcon:M=!0,rounded:F=!0,isAnimationEnabled:D,growPoint:_,dialogTooltip:B,unsetHeaderAlign:O,onDragStart:A,dataDialogName:P,closeAriaLabel:U,containerAriaLabel:W,reference:z,containerTabIndex:V,closeButtonReference:K,onCloseButtonKeyDown:Q,shadowed:Z,fullScreenViewOffsets:H,fixedBody:$}=this.props,q="after"!==u?S:void 0,G="after"===u?S:void 0,j="string"==typeof a?a:P||"",X=(0,E.filterDataProps)(this.props),J=(0,b.mergeRefs)([this._handleReference,z]);return o.createElement(p.MatchMedia,{rule:h.DialogBreakpoints.SmallHeight},(u=>o.createElement(p.MatchMedia,{rule:h.DialogBreakpoints.TabletSmall},(h=>o.createElement(d.PopupDialog,{rounded:!(h||R)&&F,className:s()(x.dialog,R&&H&&x.bounded,e),isOpened:r,reference:J,onKeyDown:this._handleKeyDown,onClickOutside:c,onClickBackdrop:c,fullscreen:h||R,guard:u?T:C,boundByScreen:h||R,shouldForceFocus:v,onForceFocus:k,shouldReturnFocus:w,backdrop:f,draggable:N,isAnimationEnabled:D,growPoint:_,name:this.props.dataName,dialogTooltip:B,onDragStart:A,containerAriaLabel:W,
containerTabIndex:V,calculateDialogPosition:R&&H?this._calculatePositionWithOffsets:void 0,shadowed:Z,fixedBody:$,...X},o.createElement("div",{className:s()(x.wrapper,t),"data-name":i,"data-dialog-name":j},void 0!==a&&o.createElement(y.DialogHeader,{draggable:N&&!(h||R),onClose:this._handleCloseBtnClick,renderAfter:G,renderBefore:q,subtitle:L,title:a,titleTextWrap:l,showCloseIcon:M,className:n,unsetAlign:O,closeAriaLabel:U,closeButtonReference:K,onCloseButtonKeyDown:Q}),I&&o.createElement(m.Separator,{className:x.separator}),o.createElement(g.PopupContext.Consumer,null,(e=>this._renderChildren(e,h||R)))))))))}}},681339:(e,t,n)=>{"use strict";n.d(t,{CachedLogo:()=>m});var o=n(50959),r=n(497754),a=n.n(r),l=(n(46926),n(495217)),s=n(783036),i=n(439378),c=n(552793),u=n(774218),d=n(257240);function m(e){const{className:t,placeholderLetter:n,url1:r,url2:m,size:g="xxxsmall"}=e,S=(0,o.useRef)(null),f=(0,o.useRef)(null),v=(0,o.useRef)(null),y=(0,o.useRef)(null),b=(0,o.useRef)(null),E=(0,o.useRef)(null);return(0,u.useIsomorphicLayoutEffect)((()=>{const e=void 0===r?[]:void 0===m?[r]:[r,m],t=E.current=(n=e,Promise.all(n.map((e=>(0,c.getImage)(`symbol_logo_${e}`,e,p).then((e=>e.cloneNode()))))));var n;t.then((e=>{var n,o,r,a,s,i,c,u,m;if(t===E.current)switch(e.length){case 0:null===(n=v.current)||void 0===n||n.classList.add(d.hidden),null===(o=f.current)||void 0===o||o.classList.add(l.hiddenCircleLogoClass),null===(r=S.current)||void 0===r||r.classList.remove(l.hiddenCircleLogoClass);break;case 1:h(f.current,e[0]),null===(a=v.current)||void 0===a||a.classList.add(d.hidden),null===(s=f.current)||void 0===s||s.classList.remove(l.hiddenCircleLogoClass),null===(i=S.current)||void 0===i||i.classList.add(l.hiddenCircleLogoClass);break;case 2:h(y.current,e[0]),h(b.current,e[1]),null===(c=v.current)||void 0===c||c.classList.remove(d.hidden),null===(u=f.current)||void 0===u||u.classList.add(l.hiddenCircleLogoClass),null===(m=S.current)||void 0===m||m.classList.add(l.hiddenCircleLogoClass)}}))}),[r,m]),o.createElement("span",{className:a()(t,d.container)},o.createElement("span",{ref:v,className:a()(d.pairContainer,d.hidden)},o.createElement("span",{className:(0,i.getBlockStyleClasses)(g)},o.createElement("span",{ref:b,className:a()(d.logo,(0,i.getLogoStyleClasses)(g))}),o.createElement("span",{ref:y,className:a()(d.logo,(0,i.getLogoStyleClasses)(g))}))),o.createElement("span",{ref:f,className:a()(d.logo,l.hiddenCircleLogoClass,(0,s.getStyleClasses)(g))}),o.createElement("span",{ref:S,className:a()(d.logo,(0,s.getStyleClasses)(g))},o.createElement(l.CircleLogo,{size:g,placeholderLetter:n})))}function h(e,t){e&&(e.innerHTML="",e.appendChild(t))}function p(e){e.decoding="async"}},909591:(e,t,n)=>{"use strict";n.d(t,{DialogHeaderContext:()=>o});const o=n(50959).createContext({setHideClose:()=>{}})},772626:(e,t,n)=>{"use strict";n.d(t,{DialogHeader:()=>u});var o=n(444372),r=n(50959),a=n(497754),l=n.n(a),s=n(4908),i=n(909591),c=n(869827);function u(e){
const{title:t,titleTextWrap:a=!1,subtitle:u,showCloseIcon:d=!0,onClose:m,onCloseButtonKeyDown:h,renderBefore:p,renderAfter:g,draggable:S,className:f,unsetAlign:v,closeAriaLabel:y=o.t(null,void 0,n(680395)),closeButtonReference:b}=e,[E,x]=(0,r.useState)(!1);return r.createElement(i.DialogHeaderContext.Provider,{value:{setHideClose:x}},r.createElement("div",{className:l()(c.container,f,(u||v)&&c.unsetAlign)},p,r.createElement("div",{"data-dragg-area":S,className:c.title},r.createElement("div",{className:l()(a?c.textWrap:c.ellipsis)},t),u&&r.createElement("div",{className:l()(c.ellipsis,c.subtitle)},u)),g,d&&!E&&r.createElement(s.CloseButton,{className:c.close,"data-name":"close","aria-label":y,onClick:m,onKeyDown:h,ref:b,size:"medium",preservePaddings:!0})))}},986623:(e,t,n)=>{"use strict";n.d(t,{DialogSearch:()=>u});var o=n(50959),r=n(497754),a=n.n(r),l=n(444372),s=n(83436),i=n(969859),c=n(140281);function u(e){const{children:t,renderInput:r,onCancel:u,containerClassName:m,inputContainerClassName:h,iconClassName:p,...g}=e;return o.createElement("div",{className:a()(c.container,m)},o.createElement("div",{className:a()(c.inputContainer,h,u&&c.withCancel)},r||o.createElement(d,{...g})),t,o.createElement(s.Icon,{className:a()(c.icon,p),icon:i}),u&&o.createElement("div",{className:c.cancel,onClick:u},l.t(null,void 0,n(620036))))}function d(e){const{className:t,reference:n,value:r,onChange:l,onFocus:s,onBlur:i,onKeyDown:u,onSelect:d,placeholder:m,...h}=e;return o.createElement("input",{...h,ref:n,type:"text",className:a()(t,c.input),autoComplete:"off","data-role":"search",placeholder:m,value:r,onChange:l,onFocus:s,onBlur:i,onSelect:d,onKeyDown:u})}},811570:(e,t,n)=>{"use strict";n.d(t,{SelectFilter:()=>h});var o=n(50959),r=n(650151),a=n(217802),l=n(458692),s=n(634993),i=n(332585),c=n(762852),u=n(573322),d=n(591800),m=n(283346);function h(e){const{selectedOption:{title:t,shortTitle:n,value:h},defaultOption:p,options:g,onSelect:S,isMobile:f,label:v,setDefaultValueOnClick:y,startIcon:b,buttonComponent:E,...x}=e,[C,T]=(0,o.useState)(!1),{isOpened:w,close:k,onButtonClick:I,buttonRef:L,onOpen:N,listboxRef:R}=(0,l.useDisclosure)({}),M=h!==p.value,F=(0,o.useCallback)((e=>{!f||h!==p.value&&y?y&&h!==p.value?S(p):I(e):T(!0)}),[h,p,I,S,f]),D=o.createElement(E,{...x,reference:L,hasSelectedValue:M,isOpened:w,onClick:F,onKeyDown:function(e){var t;13===(0,d.hashFromEvent)(e)&&(e.preventDefault(),null===(t=L.current)||void 0===t||t.click())},title:t,startIcon:b,shortTitle:n}),_=o.createElement(o.Fragment,null,f&&v&&o.createElement(u.ToolWidgetMenuSummary,{className:m.smallWidthTitle},v),g.map(((e,t)=>o.createElement(s.PopupMenuItem,{className:f?m.smallWidthMenuItem:void 0,key:t,isActive:e.value===h,label:e.title,onClickArg:e,onClick:B}))));return f?C?o.createElement(o.Fragment,null,D,o.createElement(i.DrawerManager,null,o.createElement(c.Drawer,{onClose:()=>T(!1)},_))):D:o.createElement(a.PopupMenuDisclosureView,{key:n!==t?t:void 0,onClose:k,buttonRef:L,isOpened:w,button:D,popupChildren:_,onListboxKeyDown:function(e){
if(e.defaultPrevented)return;27===(0,d.hashFromEvent)(e)&&(e.preventDefault(),e.stopPropagation(),k())},onOpen:N,listboxReference:R,listboxTabIndex:-1});function B(e){S((0,r.ensureDefined)(e))}}},894729:(e,t,n)=>{"use strict";n.d(t,{SymbolLogo:()=>u});var o=n(50959),r=n(497754),a=n.n(r),l=n(607546),s=n(849204),i=n(681339),c=n(253588);function u(e){const{logoId:t,baseCurrencyLogoId:n,currencyLogoId:r,placeholder:u,className:d,size:m="xsmall"}=e,h=(0,o.useMemo)((()=>{const e={logoid:t,"currency-logoid":r,"base-currency-logoid":n};return(0,l.removeUsdFromCryptoPairLogos)((0,l.resolveLogoUrls)(e,s.LogoSize.Medium))}),[t,r,n]);return o.createElement(i.CachedLogo,{key:m,className:a()(c.logo,d),url1:h[0],url2:h[1],placeholderLetter:u,size:m})}},62959:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchDialogContentItem:()=>w,isContractExtended:()=>T});var o=n(50959),r=n(497754),a=n.n(r),l=n(444372),s=n(650151),i=n(83436),c=n(77122),u=n(89248),d=n(61499),m=n(631078),h=n(909740),p=n(778785),g=n(919476),S=n(894729),f=n(849186),v=n(314802),y=n(529426),b=n(478710),E=n(918053),x=n(569533),C=n(339339);function T(e){return e.hasOwnProperty("parent")}function w(e){var t,r;const{dangerousTitleHTML:T,title:w,dangerousDescriptionHTML:k,description:I,searchToken:L,exchangeName:N,marketType:R,onClick:M,isSelected:F,isEod:D=!1,isActive:_=!1,isOffset:B=!1,invalid:O=!1,isHighlighted:A=!1,hideExchange:P=!1,hideMarkedListFlag:U=!1,onExpandClick:W,isExpanded:z,hoverComponent:V,country:K,providerId:Q,source:Z,source2:H,type:$,flag:q,itemRef:G,onMouseOut:j,onMouseOver:X,className:J,actions:Y,reference:ee,fullSymbolName:te,logoId:ne,currencyLogoId:oe,baseCurrencyLogoId:re,shortName:ae,hideLogo:le=!1,exchangeTooltip:se,hideMarketType:ie,isPrimary:ce}=e,{isSmallWidth:ue,isMobile:de}=(0,s.ensureNotNull)((0,o.useContext)(u.SymbolSearchItemsDialogContext)),me=Boolean(V),he=!O&&!P&&(de||!me),pe=(0,m.useWatchedValueReadonly)({watchedValue:h.watchedTheme})===d.StdTheme.Dark?C.dark:C.light,ge=V,Se=!(0,v.isOnMobileAppPage)("any")&&!c.enabled("widget")&&!O&&!U&&!W&&te,fe=c.enabled("show_symbol_logos"),ve=c.enabled("show_exchange_logos"),ye=fe||!c.enabled("widget")&&!le,be=null!==(t=null==H?void 0:H.description)&&void 0!==t?t:Z,Ee=null!==(r=null==H?void 0:H.name)&&void 0!==r?r:Z;return o.createElement("div",{className:a()(C.itemRow,ue&&C.multiLine,A&&C.highlighted,A&&pe,F&&C.selected,_&&C.active,O&&C.invalid,!de&&p.mobiletouch&&me&&C.hover,J),onClick:function(e){if(!M||e.defaultPrevented)return;e.preventDefault(),M(e)},"data-role":e["data-role"]||"list-item","data-active":_,"data-type":R,"data-name":"symbol-search-dialog-content-item",onMouseOut:j,onMouseOver:X,ref:ee},o.createElement("div",{ref:G,className:a()(C.itemInfoCell,C.cell,B&&C.offset)},o.createElement("div",{className:a()(C.actionHandleWrap,!ye&&C.fixedWidth)},o.createElement(o.Fragment,null,Se&&o.createElement("div",{className:a()(C.markedFlagWrap,B&&C.offset)},o.createElement(b.Flag,{className:p.mobiletouch?C.markedFlagMobile:C.markedFlag,symbol:te})),W&&o.createElement("div",{onClick:function(e){
if(!W||e.defaultPrevented)return;e.preventDefault(),W(e)}},o.createElement(i.Icon,{className:a()(C.expandHandle,z&&C.expanded,F&&C.selected),icon:x})),ye&&!B&&o.createElement("div",{className:a()(C.logo,Boolean(W)&&C.isExpandable)},o.createElement(S.SymbolLogo,{key:te,logoId:ne,currencyLogoId:oe,baseCurrencyLogoId:re,placeholder:ae?ae[0]:void 0})))),o.createElement("div",{className:a()(C.description,ye&&B&&C.offset)},w&&o.createElement("div",{className:a()(C.symbolTitle,_&&C.active,O&&C.invalid,!Boolean(k)&&C.noDescription),"data-name":"list-item-title"},w,D&&o.createElement("span",{className:C.dataMode},"E")),!w&&T&&o.createElement("div",{className:a()(C.symbolTitle,_&&C.active,O&&C.invalid),"data-name":"list-item-title"},o.createElement("span",{dangerouslySetInnerHTML:{__html:T}}),D&&o.createElement("span",{className:C.dataMode},"E")),ue&&xe())),!ue&&o.createElement("div",{className:a()(C.cell,C.descriptionCell,Boolean(ge)&&C.addition)},xe(),ge?o.createElement(ge,{...e,className:C.actions,onMouseOver:void 0,onMouseOut:void 0}):null),ue&&ge?o.createElement(ge,{...e,className:C.cell,onMouseOver:void 0,onMouseOut:void 0}):null,he&&o.createElement("div",{className:a()(C.exchangeCell,C.cell)},o.createElement("div",{className:a()(C.exchangeDescription)},!ie&&o.createElement("div",{className:a()(C.marketType,_&&C.active)},R),o.createElement("div",{className:C.source},ce&&L&&o.createElement(i.Icon,{className:a()("apply-common-tooltip",C.primaryIcon),title:l.t(null,void 0,n(15390)),icon:E}),"economic"===$&&be&&Ee?o.createElement("div",{className:a()(C.exchangeName,_&&C.active,"apply-common-tooltip",C.narrow,ie&&C.wide),title:be},Ee):o.createElement("div",{className:a()(C.exchangeName,_&&C.active,se&&"apply-common-tooltip"),title:se},(0,y.redefineExchangeName)(N)))),o.createElement("div",{className:C.flag},o.createElement(f.SymbolSearchFlag,{key:ve?`${te}_exchange`:`${K}_${Q}_${null==H?void 0:H.id}_${$}_${q}`,className:C.icon,country:K,providerId:Q,sourceId:"economic"===$&&H?H.id:void 0}))),o.createElement("div",{className:a()(C.cell,Boolean(Y)&&C.actionsCell)},Y));function xe(){if(O)return null;const e=a()(C.symbolDescription,_&&C.active,!p.mobiletouch&&"apply-overflow-tooltip apply-overflow-tooltip--allow-text");return k?o.createElement("div",{"data-overflow-tooltip-text":(0,g.removeTags)(k),className:e,dangerouslySetInnerHTML:{__html:k}}):null}}},177211:(e,t,n)=>{"use strict";n.d(t,{getFlagSrc:()=>s});var o=n(650151),r=n(849204),a=n(916085);const l=r.LogoSize.Medium;function s({country:e,providerId:t,sourceId:n}){const s=(0,r.getLogoUrlResolver)();return r=>{const i=e=>s.getProviderLogoUrl(e,l),c=[{value:n,resolve:i},{value:e,resolve:e=>s.getCountryFlagUrl(e.toUpperCase(),l)},{value:t,resolve:i}].find((({value:e})=>void 0!==e&&e.length>0));return void 0!==c?c.resolve((0,o.ensureDefined)(c.value)):(0,a.getMockedFlag)(r)}}},849186:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchFlag:()=>d});var o=n(50959),r=n(497754),a=n.n(r),l=n(916085),s=n(631078),i=n(909740),c=n(177211),u=n(433172);function d(e){
const{country:t,providerId:n,sourceId:r,className:d}=e,m=(0,s.useWatchedValueReadonly)({watchedValue:i.watchedTheme}),[h,p]=(0,o.useState)((0,c.getFlagSrc)({country:t,providerId:n,sourceId:r})(m));return o.createElement("img",{className:a()(d,u.icon),src:h,onError:function(){p((0,l.getMockedFlag)(m))}})}},23569:(e,t,n)=>{"use strict";n.d(t,{QualifiedSources:()=>o,qualifyProName:()=>a});n(650151),n(77122);var o,r=n(888765);function a(e){return e}!function(e){function t(e){return e.pro_name}function n(e){return e.pro_name}e.fromQuotesSnapshot=function(e){return"error"===e.status?e.symbolname:e.values.pro_name},e.fromQuotesResponse=function(e){const{values:n,symbolname:o,status:r}=e;return"error"===r&&o?o:t(n)},e.fromQuotes=t,e.fromSymbolSearchResult=function(e,t){{const{exchange:n}=e,{symbol:o,prefix:a}=null!=t?t:e;return(0,r.getSymbolFullName)({name:o,exchange:n,prefix:a})}},e.fromSymbolInfo=n,e.fromSymbolMessage=function(e,t){return"symbol_resolved"===t.method?n(t.params[1]):e}}(o||(o={}))},490545:(e,t,n)=>{"use strict";n.d(t,{SearchSourcesDialogBody:()=>B});var o=n(50959),r=n(497754),a=n.n(r),l=n(83436),s=n(586240),i=n(222463),c=n(444372),u=n(89248),d=n(986623),m=n(632756),h=n(145500),p=n(133181),g=n(502804),S=n(423258);function f(e){const{className:t,children:n,...r}=e;return o.createElement("div",{...r,className:a()(S.title,t)},n)}var v=n(650151),y=n(891130),b=n(452623),E=n(742231),x=n(888765),C=n(849186),T=n(491540),w=n(250674);function k(e){const{searchSource:t,onClick:n,queryString:r,isFocused:s,id:i}=e,{symbolSearchContent:c,isAllSearchSourcesSelected:d,allSearchSourcesTitle:m,isMobile:h}=(0,y.useEnsuredContext)(u.SymbolSearchItemsDialogContext),p=c.currentSelectedSearchSource,g=(0,v.ensureNotNull)(p).value(),S=d(t),f=g?t.value()===g:S,k=(0,o.useMemo)((()=>(0,E.createRegExpList)(r)),[r]),I=t.description(),L=I&&!S,N=x.isSeparateSymbolSearchTabs&&S&&m?m:t.name(),R=a()(w.container,h?w.mobile:w.desktop,f&&w.selected,s&&w.focused,S&&w.allSelected,S&&!1,!S&&h&&w.bordered);return o.createElement("div",{className:a()(!h&&w.wrap,S&&!1),onClick:n,id:i},o.createElement("div",{className:R},o.createElement("div",{className:w.iconWrap},S?o.createElement(l.Icon,{className:a()(w.icon,w.allSelectedIcon),icon:T}):o.createElement(C.SymbolSearchFlag,{className:w.icon,country:t.country(),providerId:t.providerId()})),o.createElement("div",{className:w.textBlock},o.createElement("div",{className:a()(w.title,!L&&!h&&w.titleWithoutDesc)},o.createElement(b.HighlightedText,{className:a()(f&&w.highlighted),queryString:r,text:N,rules:k})),L&&o.createElement("div",{className:a()(w.description,"apply-overflow-tooltip")},o.createElement(b.HighlightedText,{className:w.highlighted,queryString:r,rules:k,text:I})))))}var I=n(631078),L=n(909740),N=n(919346),R=n(723786),M=n(366619),F=n(267562),D=n(270699);const _={emptyTextClassName:D.emptyText};function B(e){const{searchSources:t}=e,{setSelectedIndex:r,setSelectedSearchSource:S,setMode:v,isMobile:b,emptyState:E,autofocus:C}=(0,y.useEnsuredContext)(u.SymbolSearchItemsDialogContext),T=(0,
I.useWatchedValueReadonly)({watchedValue:L.watchedTheme})===N.StdTheme.Dark?M:F,w=(0,i.useMatchMedia)(s["media-phone-vertical"]),[B,O]=(0,o.useState)(""),A=(0,o.useMemo)((()=>{return[...(0,h.splitSearchSourcesByGroup)(t).entries()].map((([e,t])=>({group:e,sources:(0,x.createGroupColumns)((0,h.filterSearchSources)(t,B),w?1:2)})))}),[t,B,w]),P=(0,o.useRef)(null),U=(0,o.useRef)(null),{focusedItem:W,activeDescendant:z,handleKeyDown:V,resetFocusedItem:K}=(0,m.useSourcesKeyboardNavigation)(A,w,U);(0,o.useLayoutEffect)((()=>{var e;C&&(null===(e=null==P?void 0:P.current)||void 0===e||e.focus())}),[]);const Q=E?o.createElement(E,null):o.createElement(p.SymbolSearchNoResult,{className:D.noResultsDesktop},o.createElement(l.Icon,{icon:T,className:D.emptyIcon}),o.createElement("div",{className:D.emptyText},c.t(null,void 0,n(929673)))),Z=!(A.length&&A.every((e=>0===e.sources.length)));return o.createElement(R.SymbolSearchDialogBodyContext.Provider,{value:_},o.createElement(d.DialogSearch,{placeholder:c.t(null,void 0,n(252298)),onChange:function(e){K(),O(e.target.value),U&&U.current&&(U.current.scrollTop=0)},reference:P,onKeyDown:V,onBlur:K,"aria-activedescendant":z}),Z?o.createElement("div",{ref:U,className:a()(D.contentList,!b&&D.contentListDesktop),onTouchStart:function(){var e;null===(e=P.current)||void 0===e||e.blur()}},A.map(((e,t)=>{const{group:n,sources:r}=e;return 0===r.length?o.createElement(o.Fragment,{key:n}):o.createElement(o.Fragment,{key:n},n&&n!==g.ExchangeGroup.AllExchanges&&o.createElement(f,{className:a()(!b&&D.groupTitleDesktop)},g.exchangeGroupName[n]),o.createElement("div",{className:a()(D.searchSourceItemsContainer,!b&&D.searchSourceItemsContainerDesktop,w&&D.oneColumn)},r.map(((e,n)=>o.createElement("div",{key:`${t}-${n}`,className:D.column},e.map(((e,r)=>o.createElement(k,{id:(0,m.createItemId)(t,n,r),isFocused:!!W&&(W.groupIndex===t&&W.col===n&&W.row===r),key:e.value(),searchSource:e,queryString:B,onClick:H.bind(null,e)}))))))))}))):Q);function H(e){S(e),v("symbolSearch"),r(-1)}}},723786:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchDialogBodyContext:()=>o});const o=n(50959).createContext(null)},594628:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchFeedHeader:()=>I});var o=n(50959),r=n(497754),a=n.n(r),l=n(444372),s=n(891130),i=n(89248),c=n(650151),u=n(83436),d=n(643528),m=n(416293),h=n(888765),p=n(849186),g=n(552019),S=n(491540),f=n(314444);const v=(0,h.getDefaultSearchSource)();function y(e){const{mode:t,setMode:r,searchRef:y,cachedInputValue:b,setSelectedIndex:E,setSelectedSearchSource:x,isAllSearchSourcesSelected:C,allSearchSourcesTitle:T,upperCaseEnabled:w,symbolSearchContent:k}=(0,s.useEnsuredContext)(i.SymbolSearchItemsDialogContext),I=k.currentSelectedSearchSource,L=(0,c.ensureNotNull)(I),N="symbolSearch"===t,R=C(L),M=h.isSeparateSymbolSearchTabs&&R&&T?T:L.name(),F=(0,o.useCallback)((()=>{var e;if(h.isSeparateSymbolSearchTabs&&!R&&v)return x(v),E(-1),void(null===(e=y.current)||void 0===e||e.focus());y.current&&(b.current=w?y.current.value.toUpperCase():y.current.value),r("exchange")
}),[R,y,w,r,x]),D=R?null:o.createElement(p.SymbolSearchFlag,{key:L.value(),className:f.icon,country:L.country(),providerId:L.providerId()});return h.isSeparateSymbolSearchTabs?N?o.createElement(d.LightButton,{onClick:F,isPills:!R,size:"xsmall",variant:R?"ghost":"quiet-primary",showCaret:R,endIcon:R?void 0:g,enableActiveStateStyles:!1,className:a()(f.button,!R&&f.withFlag),tabIndex:-1,"data-name":"sources-button"},o.createElement("div",{className:f.buttonContent},D,o.createElement("span",null,M))):null:N?o.createElement("div",{className:a()(f.flagWrap,"apply-common-tooltip",!R&&f.withFlag),title:l.t(null,void 0,n(313269)),onClick:F,"data-name":"sources-button"},R&&o.createElement(u.Icon,{className:f.icon,icon:S}),D,o.createElement("div",{className:a()(f.title)},M),o.createElement(m.ToolWidgetCaret,{className:f.caret,dropped:!1})):null}var b=n(706728),E=n(811570),x=n(785604);function C(e){return o.createElement(E.SelectFilter,{...e,buttonComponent:T,setDefaultValueOnClick:!0})}function T(e){const{hasSelectedValue:t,isOpened:n,shortTitle:r,title:l,reference:s,...i}=e,c=r&&r!==l?l:void 0;return o.createElement(d.LightButton,{...i,className:a()(x.button,n&&x.opened,"apply-common-tooltip"),reference:s,isPills:!n&&t,isSelected:t,size:"xsmall",variant:t&&!n?"quiet-primary":"ghost",endIcon:t?g:void 0,showCaret:!t,enableActiveStateStyles:!1,title:c,tabIndex:-1,typography:"regular14px"},null!=r?r:l)}var w=n(345848),k=n(37796);function I(e){const{brokerButton:t=null}=e,{isSmallWidth:r,selectedFilterValues:c,setSelectedFilterValues:u,setSelectedIndex:d,isMobile:m,searchRef:p,symbolSearchContent:g}=(0,s.useEnsuredContext)(i.SymbolSearchItemsDialogContext),S=g.tabSelectFilters;return h.isSeparateSymbolSearchTabs?o.createElement("div",{className:a()(k.wrap,k.small,k.newStyles,m&&k.mobile)},t&&o.createElement("div",{className:k.brokerWrap},t),g.canChangeExchange&&o.createElement("div",{className:k.filterItem},o.createElement(y,null)),S&&S.map((e=>{const{id:t,options:n,label:r}=e,a=n.find((e=>e.value===b.FILTER_DEFAULT_VALUE));if(!a)throw new Error("There must be default filter value in filter definition");const l=n.find((e=>{var n;return e.value===(null===(n=c[g.currentSymbolType])||void 0===n?void 0:n[t])}))||a;return o.createElement("div",{key:t,className:k.filterItem},o.createElement(C,{selectedOption:l,defaultOption:a,options:n,onSelect:e=>{var n;u(g.currentSymbolType,{[t]:e.value}),(0,w.trackEvent)("New SS",g.currentSymbolType,null===e.value?e.analyticsLabel:e.value),d(-1),null===(n=p.current)||void 0===n||n.focus()},label:r,isMobile:m,"data-name":t}))}))):o.createElement("div",{className:a()(k.wrap,r&&k.small)},o.createElement("div",{className:k.item},o.createElement("div",{className:k.text},r?l.t(null,void 0,n(948490)):l.t(null,void 0,n(589053)))),o.createElement("div",{className:k.item},!r&&o.createElement("div",{className:k.text},l.t(null,void 0,n(629601))),g.canChangeExchange&&o.createElement("div",{className:k.exchange},o.createElement(y,null))))}},236303:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchFeed:()=>f})
;var o=n(50959),r=n(130979),a=n(497754),l=n.n(a),s=n(650151),i=n(324997),c=n(89248),u=n(594628),d=n(31341),m=n(891130),h=n(888765),p=n(735686),g=n(443549),S=n(852662);function f(e){const{onTouchMove:t,listRef:n,className:a,listWrapRef:f,virtualListKey:v,items:y,getItemSize:b,hideFeed:E,canLoadMore:x,onLoadMoreSymbols:C}=e,{mode:T,isSmallWidth:w,handleListWidth:k}=(0,m.useEnsuredContext)(c.SymbolSearchItemsDialogContext),[I,L]=(0,o.useState)(null),N=(0,i.useResizeObserver)((function([e]){L(e.contentRect.height),k(e.contentRect.width)})),R=(0,o.useCallback)((e=>{const{index:t,style:n}=e;return o.createElement("div",{style:n},y[t])}),[y]),M=(0,o.useCallback)((e=>(0,s.ensure)(y[e].key)),[y]),F="watchlist"===T&&null!==I,D=(0,p.useIntersectionObserver)((e=>{const t=e.pop();void 0!==t&&t.isIntersecting&&C&&C()}),{threshold:0,rootMargin:"0px 0px 20px 0px",root:f});return o.createElement("div",{className:l()(S.wrap,F&&S.watchlist,E&&S.noFeed,E&&h.isSeparateSymbolSearchTabs&&S.newStyles,a),onTouchMove:t,ref:N},o.createElement("div",{ref:f,className:l()(S.scrollContainer,E&&S.noFeed)},F?o.createElement(r.VariableSizeList,{key:v,ref:n,className:S.listContainer,width:"100%",height:(0,s.ensureNotNull)(I),itemCount:y.length,itemSize:b,children:R,itemKey:M,overscanCount:20,direction:(0,d.isRtl)()?"rtl":"ltr"}):o.createElement(o.Fragment,null,o.createElement("div",{className:l()(S.listContainer,w&&S.multiLineItemsContainer)},!h.isSeparateSymbolSearchTabs&&o.createElement(u.SymbolSearchFeedHeader,null),...y,x&&o.createElement("div",{key:`observer-${y.length}`,className:l()(S.spinnerContainer,w&&S.largeSpinner),ref:D},o.createElement(g.Spinner,{size:w?"small":"mini"}))))))}},347166:(e,t,n)=>{"use strict";n.d(t,{ROW_HEIGHT:()=>ie,SymbolSearchItemsDialogBody:()=>ce});var o=n(50959),r=n(497754),a=n.n(r),l=n(500962),s=n(444372),i=n(266325),c=n(986623),u=n(214931),d=n(888765);let m;var h=n(89248),p=n(345848),g=n(891130),S=n(470316),f=n(723786),v=n(444072),y=n(650151),b=n(296652),E=n(889267),x=n(77122),C=n(900486),T=n(481574),w=n(935119),k=n(132617),I=n(569135),L=n(863861),N=n(452597);function R(e){var t;const{state:n,update:r}=e,{searchRef:a,forceUpdate:l,upperCaseEnabled:s}=(0,y.ensureNotNull)((0,o.useContext)(h.SymbolSearchItemsDialogContext)),i=(0,E.tokenize)(null===(t=a.current)||void 0===t?void 0:t.value),c=(0,b.validate)(i);let u=[{icon:C,insert:"/",type:"binaryOp",name:"division"},{icon:T,insert:"-",type:"binaryOp",name:"subtraction"},{icon:w,insert:"+",type:"binaryOp",name:"addition"},{icon:k,insert:"*",type:"binaryOp",name:"multiplication"}];return x.enabled("hide_exponentiation_spread_operator")||(u=u.concat([{icon:I,insert:"^",type:"binaryOp",name:"exponentiation"}])),x.enabled("hide_reciprocal_spread_operator")||(u=u.concat([{icon:L,type:"complete",name:"1/x",callback:()=>{!a.current||c.errors.length||c.warnings.length||(a.current.value=(0,b.stringifyTokens)((0,b.flip)(i)),l())}}])),o.createElement("div",{className:N.actions},u.map((e=>o.createElement(v.ToolWidgetButton,{className:N.actionButton,icon:e.icon,key:e.name,
isDisabled:M(e,c),onClick:()=>function(e){var t;if(!M(e,c)){if(e.insert&&a.current){const t=a.current.value+e.insert;a.current.value=t,a.current.setSelectionRange(t.length,t.length);const[o,,i]=(0,b.getCurrentTokenParamsFromInput)(a.current,s);n.current&&(n.current.selectedIndexValue=-1,n.current.searchSpreadsValue=(0,b.isSpread)(i),n.current.searchTokenValue=o),l(),r()}e.callback&&e.callback(),null===(t=a.current)||void 0===t||t.focus(),(0,p.trackEvent)("GUI","SS",e.name)}}(e)}))))}function M(e,t){let n=!1;if(!t.errors.length)switch(e.type){case"binaryOp":n="var"===t.currentState;break;case"openBrace":n="var"!==t.currentState;break;case"closeBrace":n="var"===t.currentState&&t.braceBalance>0;break;case"complete":n=!t.errors.length&&!t.warnings.length}return!n}var F=n(694302),D=n(62802);const _=["FX:AUS200","FX:BUND","FX:COPPER","FX:ESP35","FX:EUSTX50","FX:FRA40","FX:GER30","FX:HKG33","FX:JPN225","FX:NAS100","FX:NGAS","FX:SPX500","FX:UK100","FX:UKOIL","FX:US30","FX:USOIL","FX:XAGUSD","FX:XAUUSD"];function B(e){return D.getBool("fxcm_cfd",!1)?e:e.filter((e=>{const t={name:e.symbol,exchange:e.exchange,prefix:e.prefix,fullName:e.full_name};return!function(e){return-1===e.indexOf(":")&&(e="FX:"+e),-1!==_.indexOf(e)}((0,d.getSymbolFullName)(t))}))}var O=n(850972),A=n(72368),P=n(83436),U=n(721906),W=n(443549),z=n(236303),V=n(133181),K=n(50430),Q=n(919346),Z=n(62959),H=n(594628),$=n(540975),q=n(643528),G=n(706728),j=n(263212);const X=(0,d.getDefaultSearchSource)(),J=s.t(null,{context:"punctuationFullStop"},n(117640));function Y(e){var t;const{otherSymbolsCount:r,onClick:l,token:i}=e,{isAllSearchSourcesSelected:c,symbolSearchContent:u,symbolTypes:m,emptyState:p,setSelectedSearchSource:S,setSelectedFilterValues:v,selectedFilterValues:y}=(0,g.useEnsuredContext)(h.SymbolSearchItemsDialogContext),b=u.currentSelectedSearchSource,{symbolSearchState:E}=(0,g.useEnsuredContext)(f.SymbolSearchDialogBodyContext),x=null===(t=m.find((e=>e.value===u.currentSymbolType)))||void 0===t?void 0:t.name,C=null!=p?p:V.SymbolSearchNoResult,T=b&&!c(b),w=function(){if(!d.isSeparateSymbolSearchTabs)return s.t(null,{plural:"{matchingCount} matching symbols found with other filters",count:r},n(777898)).format({matchingCount:`<span class="${j.bold}">${r.toString()}</span>`});if("resetFilter"===E)return s.t(null,{plural:"There are also {count} symbols in other markets",count:r,replace:{count:r.toString()}},n(119394));return s.t(null,void 0,n(508314)).format({symbolType:`<span class="${j.bold}">${x||""}</span>`})}();return o.createElement(C,{className:j.noResultsDesktop},o.createElement("div",{className:a()(j.otherSymbols,d.isSeparateSymbolSearchTabs&&j.newStyles)},function(){if(u.currentSymbolType!==(0,d.getAllSymbolTypesValue)()){const e=`<span class="${j.bold}">${x||""}</span>`;if(d.isSeparateSymbolSearchTabs){const t=y[u.currentSymbolType],r=t&&Object.values(t).some((e=>e!==G.FILTER_DEFAULT_VALUE));if("resetTabFilter"===E||T||r){const t=""===i?s.t(null,void 0,n(64934)).format({symbolType:e}):s.t(null,void 0,n(131986)).format({symbolType:e,
symbol:`<span class="${j.token}">${i}</span>`});return o.createElement("span",{dangerouslySetInnerHTML:{__html:t}})}}if(T){const t=`${s.t(null,void 0,n(63773)).format({symbolType:e,exchangeName:`<span class="${j.bold}">${b.name()}</span>`})}${J}`;return o.createElement("span",{dangerouslySetInnerHTML:{__html:t}})}const t=s.t(null,void 0,n(136721)).format({symbolType:e}),r=i?s.t(null,void 0,n(384615)).format({symbolType:e,symbol:`<span class="${j.token}">${i}</span>`}):t,a=`${t}${J}`;return o.createElement("span",{dangerouslySetInnerHTML:{__html:d.isSeparateSymbolSearchTabs?r:a}})}if(T){const e=`${s.t(null,void 0,n(118017)).format({exchangeName:`<span class="${j.bold}">${b.name()}</span>`})}${J}`;return o.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}return""}()),o.createElement("div",{className:a()(j.otherSymbols,d.isSeparateSymbolSearchTabs&&j.smallFont)},o.createElement("span",{dangerouslySetInnerHTML:{__html:w}})),d.isSeparateSymbolSearchTabs?o.createElement("div",{className:j.resetFilters},function(){if("resetFilter"===E)return o.createElement(q.LightButton,{className:j.showMe,size:"small",onClick:l},s.t(null,void 0,n(149075)));return o.createElement(q.LightButton,{className:j.showMe,size:"small",onClick:k},s.t(null,void 0,n(579900)))}()):o.createElement($.Button,{className:j.resetFilters,size:"m",appearance:"stroke",onClick:l},s.t(null,void 0,n(149075))));function k(){T&&function(){if(null===X)return;S(X)}();const e=u.tabSelectFilters;if(!e)return;const t=e.reduce(((e,t)=>(e[t.id]=G.FILTER_DEFAULT_VALUE,e)),{});v(u.currentSymbolType,t)}}function ee(e){const{brokerTitle:t,isActive:a,onToggle:l,logoInfo:i,className:c}=e,u=(0,K.useTheme)();return o.createElement(q.LightButton,{className:r(c,"apply-common-tooltip"),variant:a?"primary":"secondary",size:"xsmall",isPills:a,onClick:()=>l(!a),title:s.t(null,{replace:{brokerName:t}},n(776616)),startIcon:i?`<img width="18" height="18" src="${u===Q.StdTheme.Dark&&i.logoMiniBlackUrl?i.logoMiniBlackUrl:i.logoMiniUrl}" alt=""/>`:void 0,"aria-checked":a},t)}var te=n(366619),ne=n(267562),oe=n(285544);const re=x.enabled("hide_image_invalid_symbol");function ae(e){const{otherSymbolsCount:t,onChangeSymbolTypeFilter:n,onResetFilters:a,onListTouchMove:l,brokerTitle:s,brokerLogoInfo:i,isBrokerActive:c,onBrokerToggle:u,listRef:m,listWrapRef:p,onLoadMoreSymbols:S,canLoadMore:f}=e,{mode:v,isMobile:y,selectedSymbolType:b,symbolTypes:E,feedItems:x,contentItem:C,emptyState:T=le,symbolSearchContent:w,symbolSearchState:k}=(0,g.useEnsuredContext)(h.SymbolSearchItemsDialogContext),I=s?o.createElement(ee,{brokerTitle:s,isActive:c,onToggle:u,logoInfo:i}):null,L="symbolSearch"===v&&["good","loadingWithPaginated"].includes(k),N=null!=C?C:Z.SymbolSearchDialogContentItem,R=(0,o.useMemo)((()=>x.map((e=>o.createElement(N,{...e,searchToken:w.token})))),[x]);return o.createElement(o.Fragment,null,"symbolSearch"===v&&o.createElement(o.Fragment,null,E.length>0&&o.createElement(U.BubbleRow,{className:r(d.isSeparateSymbolSearchTabs&&(w.withFilters||y&&I)&&oe.withFilters,!y&&I&&oe.withButton),
itemClassName:oe.symbolType,items:E,getItemTitle:e=>e.name,getItemKey:e=>e.value,checkItemIsActive:e=>e.value===b,onBubbleClick:n,multiline:!y,grayStyles:!0},!y&&o.createElement("div",{className:oe.brokerButton},I)),!d.isSeparateSymbolSearchTabs&&y&&E.length>0&&s&&o.createElement("div",{className:oe.brokerButtonWrap},I),d.isSeparateSymbolSearchTabs&&o.createElement(H.SymbolSearchFeedHeader,{brokerButton:y?I:void 0})),o.createElement(z.SymbolSearchFeed,{listRef:m,listWrapRef:p,onTouchMove:l,items:R,getItemSize:()=>ie,onLoadMoreSymbols:S,canLoadMore:f,hideFeed:!L}),"loading"===k&&o.createElement("div",{className:oe.spinnerWrap},o.createElement(W.Spinner,null)),"symbolSearch"===v&&o.createElement(o.Fragment,null,("resetFilter"===k||"resetTabFilter"===k)&&o.createElement(Y,{token:w.token,otherSymbolsCount:t,onClick:a}),"empty"===k&&o.createElement(T,null)))}function le(e){const t=(0,K.useTheme)()===Q.StdTheme.Dark?te:ne;return o.createElement(V.SymbolSearchNoResult,{className:oe.noResultsDesktop},!re&&o.createElement(P.Icon,{icon:t,className:oe.emptyIcon}),o.createElement("div",{className:oe.emptyText},s.t(null,void 0,n(641379))))}const se=(0,d.getDefaultSearchSource)(),ie=52;function ce(e){const{mode:t,setMode:r,setSelectedIndex:v,isMobile:y,selectedSearchSource:E,setSelectedSearchSource:C,isAllSearchSourcesSelected:T,selectedSymbolType:w,setSelectedSymbolType:k,symbolSearchContent:I,setSymbolSearchContent:L,searchRef:N,setSearchSpreads:M,showSpreadActions:D,selectedItem:_,forceUpdate:P,placeholder:U,initialScreen:W,footer:z,searchInput:V,upperCaseEnabled:K,externalInput:Q,handleKeyDown:Z,customSearchSymbols:H,filterDefinitions:$,filterQueryParams:q,searchSources:G,symbolSearchState:j,setSymbolSearchState:X,onEmptyResults:J}=(0,g.useEnsuredContext)(h.SymbolSearchItemsDialogContext),Y=(0,o.useRef)(t);Y.current=t;const ee=(0,o.useRef)(new AbortController),[te,ne]=(0,o.useState)(0),re=(0,o.useRef)(0),[le,ie]=(0,o.useState)(I.token),ce=(0,o.useRef)(null),ue=(0,o.useRef)(null),de=(0,o.useRef)({selectedIndexValue:-1,searchTokenValue:"",searchSpreadsValue:!0}),me=(0,o.useRef)(null),he=(0,o.useRef)(null),pe=(0,o.useRef)(null),{broker:ge=null,brokerId:Se,brokerTitle:fe,brokerLogoInfo:ve,isBrokerChecked:ye=!1,setIsBrokerChecked:be=(()=>{}),unhideSymbolSearchGroups:Ee=""}=(0,F.useActiveBroker)();(0,o.useEffect)((()=>()=>{ee.current.abort(),Oe(),Ae()}),[]),(0,o.useEffect)((()=>{(null==N?void 0:N.current)&&ie(N.current.value)}),[]),(0,o.useEffect)((()=>{const e=N.current;if(e)return e.addEventListener("input",Le),e.addEventListener("focus",_e),e.addEventListener("select",Ie),e.addEventListener("click",Ie),e.addEventListener("keyup",Be),Q&&Z&&e.addEventListener("keydown",Z),()=>{e&&(e.removeEventListener("input",Le),e.removeEventListener("focus",_e),e.removeEventListener("select",Ie),e.removeEventListener("click",Ie),e.removeEventListener("keyup",Be),Q&&Z&&e.removeEventListener("keydown",Z))}}),[Z]),(0,o.useEffect)((()=>{Boolean(W)&&""===le.trim()||(L((e=>({...e,symbolStartIndex:0}))),Re(le,w,E).then((()=>{
ce.current&&(ce.current.scrollTop=0)})))}),[le,w,E,ye,W,q]),(0,o.useEffect)((()=>{var e;if(!_||!N.current)return;const t=(0,u.isSymbolSearchResult)(_)?_.exchange:_.parent.exchange;let n;n="contracts"in _&&(null===(e=_.contracts)||void 0===e?void 0:e.length)?_.contracts[0]:_;const o={name:n.symbol,exchange:t,prefix:n.prefix,fullName:n.full_name},[r,a]=(0,b.getNextSymbolInputValueAndPosition)(N.current,o,K);N.current.value=r,N.current.setSelectionRange(a,a),P()}),[_]);const xe=null!=W?W:"div",Ce=Boolean(W)&&"symbolSearch"!==t,Te=null!=V?V:c.DialogSearch,we=(0,o.useMemo)((()=>({listRef:ue,resetRecommends:De,updateRecommends:Re,searchToken:le,emptyTextClassName:oe.emptyText,isBrokerChecked:ye,symbolSearchState:j,currentMode:Y})),[ue,le,ye,j,Y,q]);return o.createElement(f.SymbolSearchDialogBodyContext.Provider,{value:we},!(Q&&"symbolSearch"===t)&&o.createElement(Te,{reference:N,className:a()(oe.search,K&&oe.upperCase),placeholder:U||s.t(null,void 0,n(252298))},D&&o.createElement(R,{state:de,update:Ne})),Ce?o.createElement(xe,null):o.createElement(ae,{otherSymbolsCount:te,onListTouchMove:function(){var e;null===(e=N.current)||void 0===e||e.blur()},onChangeSymbolTypeFilter:function(e){const{value:t}=e;k(t),v(-1)},onResetFilters:function(){var e;d.isSeparateSymbolSearchTabs?"resetFilter"===j?k((0,d.getAllSymbolTypesValue)()):se&&C(se):(k((0,d.getAllSymbolTypesValue)()),se&&C(se));be(!1),y||null===(e=N.current)||void 0===e||e.focus()},brokerTitle:fe,brokerLogoInfo:ve,isBrokerActive:ye,onBrokerToggle:be,listRef:ue,listWrapRef:ce,onLoadMoreSymbols:function(){"loadingWithPaginated"!==j&&Re(le,I.currentSymbolType,E,I.symbolStartIndex)},canLoadMore:0!==I.symbolsRemaining}),z);function ke(){if(!N.current)return;const[e,t,n]=(0,b.getCurrentTokenParamsFromInput)(N.current,K);re.current=t,de.current={selectedIndexValue:-1,searchSpreadsValue:(0,b.isSpread)(n),searchTokenValue:e},me.current||(me.current=setTimeout(Ne,0))}function Ie(){if(!N.current)return;const[,e]=(0,b.getCurrentTokenParamsFromInput)(N.current,K);e!==re.current&&ke()}function Le(){ke()}function Ne(){const{selectedIndexValue:e,searchTokenValue:t,searchSpreadsValue:n}=de.current;me.current=null,(0,l.unstable_batchedUpdates)((()=>{M(n),v(e),ie(K?t.toUpperCase():t)}))}async function Re(e,t,n,o){var r,a,l,s;try{"noop"===j?X("loading"):o?X("loadingWithPaginated"):(Oe(),Ae(),he.current=setTimeout((()=>{L({token:e,canChangeExchange:Boolean(E&&G.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==$?void 0:$[t],withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:E,currentTabAvailableSearchSources:G,renderSymbolSearchList:[],symbolsRemaining:0,symbolStartIndex:0}),X("loading")}),500)),Pe();const c=ye&&ge,m=t===(0,d.getAllSymbolTypesValue)(),h=""===e.trim()&&!H&&!c&&m;let p;if(ye&&ge){p=(await(0,i.respectAbort)(ee.current.signal,ge.accountMetainfo())).prefix}const g=null!==(a=null!==(r=(0,b.getExchange)(e))&&void 0!==r?r:p)&&void 0!==a?a:null==n?void 0:n.getRequestExchangeValue(),S=(0,
b.getExchange)(e)||null===(l=n||E)||void 0===l?void 0:l.getRequestCountryValue(),[f,v]=await Promise.all([Fe(ee.current.signal,e,t,n,g,S,o),h&&!o?(0,O.getRecent)():Promise.resolve([])]),y=v.filter((e=>{var t,n;return g?(null===(t=e.exchange)||void 0===t?void 0:t.toLowerCase())===g.toLowerCase():!S||(null===(n=e.country)||void 0===n?void 0:n.toLowerCase())===S.toLowerCase()})),C=new Set(y.map((e=>`${e.exchange}_${e.symbol}`))),w=f.symbols.filter((e=>!C.has(`${e.exchange}_${e.symbol}`)));let k=function(e,t=window.ChartApiInstance.symbolsGrouping()){var n;const o={},r=[];for(let a=0;a<e.length;++a){const l=e[a];if(l.prefix||Array.isArray(l.contracts))return e;const s=t[l.type];if(void 0===s){r.push(l);continue}const i=s.exec(l.symbol);if(i){const e=i[1];let t;o.hasOwnProperty(e)?t=o[e]:(t=r.length,o[e]=t,r.push({type:l.type,symbol:e,exchange:l.exchange,description:l.description,full_name:l.exchange+":"+e,contracts:[]})),null===(n=r[t].contracts)||void 0===n||n.push(l)}else r.push(l)}return r}([...y,...w]);if(k=B(k),s=k,k=x.enabled("widget")?s.filter((e=>!e.params||-1===e.params.indexOf("pro"))):s,o&&(k=[...I.renderSymbolSearchList,...k]),k.length)Oe(),L((n=>({...n,canChangeExchange:Boolean(E&&G.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==$?void 0:$[t],renderSymbolSearchList:k,token:e,symbolsRemaining:f.symbols_remaining,withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:E,currentTabAvailableSearchSources:G,symbolStartIndex:n.symbolStartIndex+f.symbols.length}))),X("good");else{if(L((n=>({...n,canChangeExchange:Boolean(E&&G.length>1&&!(0,d.exchangeSelectDisabled)(t)),tabSelectFilters:null==$?void 0:$[t],token:e,symbolsRemaining:0,withFilters:!!t,currentSymbolType:t,currentSelectedSearchSource:E,currentTabAvailableSearchSources:G}))),m&&E&&T(E))return Oe(),X("empty"),void Me();const n=t=>async function(e,t,n){return(0,u.searchSymbolsPaginated)({serverHighlight:!0,text:(0,b.shortName)(t),exchange:(0,b.getExchange)(t)||"",type:d.isSeparateSymbolSearchTabs?n:(0,d.getAllSymbolTypesValue)(),lang:window.language||"",sortByCountry:(0,A.getCurrentLocaleInfoCountry)(),brokerId:Se,onlyTradable:Boolean(Se)&&ye,unhideSymbolSearchGroups:Ee,signal:e})}(ee.current.signal,e,t),o=await Promise.all([n((0,d.getAllSymbolTypesValue)()),d.isSeparateSymbolSearchTabs?n(t):Promise.resolve(null)]);Oe();const[r,a]=o.map((e=>null===e?0:B(e.symbols).length));a?(X("resetTabFilter"),ne(a)):r?(X("resetFilter"),ne(r)):X("empty"),Me()}}catch(e){(0,i.skipAbortError)(e)}}function Me(){J&&(pe.current=setTimeout((()=>J()),1e3))}async function Fe(e,t,n,o,r,a,l){const s={serverHighlight:!0,text:(0,b.shortName)(t),exchange:r,country:a,type:n,lang:window.language||"",sortByCountry:(0,A.getCurrentLocaleInfoCountry)(),brokerId:Se,onlyTradable:Boolean(Se)&&ye,unhideSymbolSearchGroups:Ee,signal:e,start:l,filterQueryParams:q},c=m;return void 0!==c&&await(0,i.delay)(e,c),H?H(s):(0,u.searchSymbolsPaginated)(s)}function De(){Pe(),X("empty"),ie(""),M(!1),L((e=>({...e,symbolStartIndex:0}))),Oe()}function _e(){
"watchlist"===Y.current&&(r("symbolSearch"),(0,p.trackEvent)("Watchlist","Mobile SS","Go to SS page"))}function Be(e){switch((0,S.hashFromEvent)(e)){case 37:case 39:Ie()}}function Oe(){he.current&&clearTimeout(he.current)}function Ae(){pe.current&&clearTimeout(pe.current)}function Pe(){ee.current.abort(),ee.current=new AbortController}}},89248:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchItemsDialogContext:()=>o});const o=n(50959).createContext(null)},950186:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchItemsDialog:()=>$});var o=n(50959),r=n(497754),a=n.n(r),l=n(444372),s=n(296652),i=n(125226),c=n(694302),u=n(709404),d=n(502804),m=n(62802);function h(e){const[t,n]=(0,o.useState)((()=>{const{searchSources:t}=e,n=m.getJSON("symboledit.selectedSearchSources",{}),o={};return Object.keys(n).forEach((e=>{const r=t.find((t=>t.value()===n[e]));r&&(o[e]=r)})),o}));return[t,(0,o.useCallback)(((e,t)=>{n((n=>{const o={...n,[e]:t};return function(e){const t={};Object.keys(e).forEach((n=>{t[n]=e[n].value()})),m.setJSON("symboledit.selectedSearchSources",t)}(o),o}))}),[])]}var p=n(650151);var g=n(706728),S=n(850972),f=n(345848);const v=["futures","forex","bond","economic"];var y=n(157773),b=n(77122),E=n(642709),x=n(619027),C=n(490545),T=n(89248),w=n(347166),k=n(789768),I=n(470316),L=n(214931),N=n(888765),R=n(145500),M=n(159214),F=n(23569);function D(e){const[t,n]=(0,o.useState)((()=>{const{defaultSearchSource:t,searchSources:n}=e,o=m.getValue("symboledit.exchangefilter","");return n.find((e=>e.value()===o))||t}));return[t,(0,o.useCallback)((e=>{var t;n(e),t=e,m.setValue("symboledit.exchangefilter",t.value())}),[])]}function _(e){const[t,n]=(0,o.useState)((()=>{if(1===e.types.length)return e.types[0].value;const t=m.getValue("symboledit.filter",(0,N.getAllSymbolTypesValue)());return e.types.find((e=>e.value===t))?t:(0,N.getAllSymbolTypesValue)()}));return[t,(0,o.useCallback)((e=>{var t;n(e),t=e,m.setValue("symboledit.filter",t)}),[])]}var B=n(56537),O=n(891130),A=n(494966),P=n(519073),U=n(184277),W=n(31341),z=n(580602),V=n(362393);const K=(0,i.isFeatureEnabled)("broker_id_session"),Q=(0,N.getAvailableSearchSources)(),Z=(0,N.getDefaultSearchSource)(),H=b.enabled("uppercase_instrument_names");function $(e){var t;const{onClose:r,initialMode:a,defaultValue:i="",showSpreadActions:b,hideMarkedListFlag:x,selectSearchOnInit:O=!0,onSearchComplete:$,dialogTitle:Y=l.t(null,void 0,n(882719)),placeholder:ee,fullscreen:te,initialScreen:ne,wrapper:oe,dialog:re,contentItem:ae,footer:le,searchInput:se,emptyState:ie,autofocus:ce,dialogWidth:ue,onKeyDown:de,searchSourcesScreen:me,customSearchSymbols:he,isDisableFiltering:pe,disableRecents:ge,shouldReturnFocus:Se,onSymbolFiltersParamsChange:fe,onEmptyResults:ve}=e,ye=(0,o.useMemo)((()=>pe?[]:e.symbolTypes?e.symbolTypes:(0,N.getAvailableSymbolTypes)()),[]),be=void 0!==e.input,Ee=pe?[]:Q,[xe,Ce]=(0,o.useState)(a),Te=(0,o.useRef)(i),[we,ke]=D({searchSources:Ee,defaultSearchSource:Z}),[Ie,Le]=h({searchSources:Ee}),[Ne,Re]=_({types:ye}),[Me,Fe]=function(e){const[t,n]=(0,o.useState)((()=>{
const t=m.getJSON("selectedSymbolSearchFilterValues",{}),n={};for(const[o,r]of Object.entries(t)){if(!e.hasOwnProperty(o))continue;const t=new Set((0,p.ensureDefined)(e[o]).map((e=>e.id)));for(const[e,a]of Object.entries(r))t.has(e)&&(n[o]||(n[o]={}),n[o][e]=a)}return n}));return[t,(0,o.useCallback)(((e,t)=>{n((n=>{const o=n[e]?{...n[e]}:{},r=Object.keys(t);for(const e of r){const n=t[e];void 0===n?o.hasOwnProperty(e)&&delete o[e]:o[e]=n}const a={...n,[e]:o};return m.setJSON("selectedSymbolSearchFilterValues",a),a}))}),[])]}(g.TAB_SELECT_FILTER_MAP),[De,_e]=(0,o.useState)(!1),[Be,Oe]=(0,o.useState)(-1),[Ae,Pe]=(0,o.useState)("noop"),Ue=N.isSeparateSymbolSearchTabs?g.TAB_SELECT_FILTER_MAP:void 0,We=N.isSeparateSymbolSearchTabs?(null==Ie?void 0:Ie[Ne])||Z:we,ze=(0,o.useMemo)((()=>{if(!N.isSeparateSymbolSearchTabs)return Ee;return("economic"===Ne?Ee.map(N.mapEconomySource):Ee).filter((e=>{const t=g.TAB_SOURCE_FILTER_MAP[Ne];if(!t)return!1;if(!Ne)return!0;const n=e.group();return n===d.ExchangeGroup.AllExchanges||n&&t.value.includes(n)}))}),[Ee,Ne]),[Ve,Ke]=(0,o.useState)((()=>({canChangeExchange:Boolean(we&&Q.length>1&&!(0,N.exchangeSelectDisabled)(Ne)),tabSelectFilters:null==Ue?void 0:Ue[Ne],withFilters:!!Ne,renderSymbolSearchList:[],token:Te.current,symbolsRemaining:0,currentSymbolType:Ne,currentSelectedSearchSource:We,currentTabAvailableSearchSources:ze,symbolStartIndex:0}))),Qe=(0,o.useCallback)((e=>{(0,f.trackEvent)("New SS",Ne,"Change sources"),null==Le||Le(Ne,e),Ke((t=>({...t,currentSelectedSearchSource:e})))}),[Ne,Ke]),Ze=(0,o.useRef)(null!==(t=e.input)&&void 0!==t?t:null),[He,$e]=(0,o.useState)(!1),qe=(0,B.useForceUpdate)(),[Ge,je]=(0,o.useState)(new Set),{broker:Xe=null,brokerId:Je,unhideSymbolSearchGroups:Ye="",displayBrokerSymbol:et=!1}=(0,c.useActiveBroker)();(0,o.useLayoutEffect)((()=>{var e;!(null==Ze?void 0:Ze.current)||!be&&Boolean(null===(e=Ze.current)||void 0===e?void 0:e.value)||(be||"compare"===xe||(Ze.current.value=Te.current),!ce||be&&"symbolSearch"!==xe||Ze.current.focus())}),[xe]),(0,o.useEffect)((()=>{(null==Ze?void 0:Ze.current)&&O&&ce&&Ze.current.select()}),[]);const tt=(0,o.useMemo)((()=>Ve.renderSymbolSearchList.reduce(((e,t)=>{const n=j(t),o=Ge.has(n);return e.push(t),o&&t.contracts&&e.push(...t.contracts.map((e=>({...e,parent:t})))),e}),[])),[Ve.renderSymbolSearchList,Ge]),nt=(0,o.useRef)(null);(0,o.useEffect)((()=>{var e;-1!==Be&&(null===(e=nt.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[Be,nt]);const ot=v.includes(Ne),rt=(0,o.useMemo)((()=>{const e=e=>{const t=u.getExchanges?(0,u.getExchanges)().filter((t=>t.value===(e.prefix||e.exchange)))[0]:null;return(null==t?void 0:t.desc)||""};return tt.map(((t,n)=>{var o,r,a,l;if((0,L.isSymbolSearchResult)(t)){const a=j(t),l=t.contracts?Ge.has(a):void 0,s=n===Be,i=Ve.renderSymbolSearchList.findIndex((e=>e.symbol===t.symbol&&e.exchange===t.exchange))+1;return{key:n,numberInList:i,id:a,dangerousTitleHTML:G(t,et),dangerousDescriptionHTML:t.description,isOffset:!1,onClick:gt.bind(null,t,i),providerId:t.provider_id,source:t.source,
source2:t.source2,country:null===(o=t.country)||void 0===o?void 0:o.toLocaleLowerCase(),type:t.type,exchangeName:null===t.exchange?void 0:t.exchange,exchangeTooltip:e(t),prefix:t.prefix||void 0,marketType:(0,M.marketType)(t.type,t.typespecs,!1),hideMarketType:ot,isEod:(null===(r=t.params)||void 0===r?void 0:r.includes("eod"))&&"economic"!==t.type,isYield:(0,P.isYield)(t),isExpanded:l,onExpandClick:t.contracts?St.bind(null,a):void 0,fullSymbolName:t.contracts?F.QualifiedSources.fromSymbolSearchResult(t,t.contracts[0]):F.QualifiedSources.fromSymbolSearchResult(t),itemRef:s?nt:void 0,isSelected:n===Be,hideMarkedListFlag:x,item:t,logoId:t.logoid,currencyLogoId:t["currency-logoid"],baseCurrencyLogoId:t["base-currency-logoid"],shortName:(0,A.safeShortName)(F.QualifiedSources.fromSymbolSearchResult(t)),currencyCode:t.currency_code,isPrimary:t.is_primary_listing}}{const{parent:o}=t,r=j(o),s=n===Be,i=Ve.renderSymbolSearchList.findIndex((e=>e.symbol===o.symbol&&e.exchange===o.exchange))+1;return{key:n,numberInList:i,id:r+t.symbol,dangerousTitleHTML:G(t,et),dangerousDescriptionHTML:`${o.description}`+(t.description?` (${t.description})`:""),isOffset:!0,isEod:null===(a=t.params)||void 0===a?void 0:a.includes("eod"),isYield:(0,P.isYield)(t),onClick:ft.bind(null,t.parent,t,i),providerId:o.provider_id,country:null===(l=o.country)||void 0===l?void 0:l.toLowerCase(),type:o.type,exchangeName:null===o.exchange?void 0:o.exchange,exchangeTooltip:e(o),marketType:(0,M.marketType)(o.type,t.typespecs,!1),hideMarketType:ot,fullSymbolName:F.QualifiedSources.fromSymbolSearchResult(t.parent,t),itemRef:s?nt:void 0,isSelected:s,hideMarkedListFlag:x,item:t}}}))}),[Ve.renderSymbolSearchList,Ge,xe,Be,de]),at=(0,o.useMemo)((()=>function(e,t,n){const o=null==t?void 0:t[e],r=new Map(null==o?void 0:o.map((e=>[e.id,e.urlParam]))),a=n[e];let l;if(a){l={};for(const[e,t]of Object.entries(a)){const n=r.get(e);n&&(l[n]=t)}}return l}(Ne,Ue,Me)),[Ne,Ue,Me]),lt=(0,o.useMemo)((()=>Ve.renderSymbolSearchList.slice(0,20).map((e=>e.contracts?F.QualifiedSources.fromSymbolSearchResult(e,e.contracts[0]):F.QualifiedSources.fromSymbolSearchResult(e)))),[Ve.renderSymbolSearchList]);(0,o.useEffect)((()=>{var e,t,n;if(!fe)return;const o=["resetFilter","resetTabFilter","empty"].includes(Ae)?[]:lt,r={...at,result_list:o};if(r.search_type||(r.search_type="bitcoin,crypto"===Ne?"crypto":Ne),!N.isSeparateSymbolSearchTabs)return r.exchange=null!==(e=null==We?void 0:We.getRequestCountryValue())&&void 0!==e?e:null,void fe(r);if(Ne){const e=null!==(t=null==We?void 0:We.getRequestCountryValue())&&void 0!==t?t:null;e&&(r.country=e);const o=null!==(n=null==We?void 0:We.getRequestExchangeValue())&&void 0!==n?n:null;o&&(r.exchange=o)}fe(r)}),[Ne,at,lt,We,Ae]);const st=null!=re?re:J,it=st!==J&&!be,ct=(e,t)=>{var n;return{mode:xe,setMode:Ce,selectedSearchSource:We,setSelectedSearchSource:N.isSeparateSymbolSearchTabs?Qe:ke,isAllSearchSourcesSelected:R.isAllSearchSourcesSelected,
allSearchSourcesTitle:N.isSeparateSymbolSearchTabs?null===(n=g.TAB_SOURCE_FILTER_MAP[Ve.currentSymbolType])||void 0===n?void 0:n.allSearchSourcesTitle:void 0,selectedSymbolType:Ne,setSelectedSymbolType:Re,selectedIndex:Be,setSelectedIndex:Oe,onClose:r,setSymbolSearchContent:Ke,symbolSearchContent:Ve,searchRef:Ze,cachedInputValue:Te,searchSpreads:De,setSearchSpreads:_e,handleListWidth:vt,isSmallWidth:He,feedItems:rt,isMobile:e,showSpreadActions:b,selectSearchOnInit:O,isTablet:t,selectedItem:tt[Be],forceUpdate:qe,placeholder:ee,initialScreen:ne,toggleExpand:St,openedItems:Ge,onSubmit:Et,onSearchComplete:$,footer:le,symbolTypes:ye,contentItem:ae,searchInput:se,emptyState:ie,autofocus:ce,upperCaseEnabled:H,externalInput:be,handleKeyDown:it?void 0:bt,customSearchSymbols:he,searchSources:ze,filterDefinitions:Ue,selectedFilterValues:Me,setSelectedFilterValues:Fe,filterQueryParams:at,symbolSearchState:Ae,setSymbolSearchState:Pe,onEmptyResults:ve?pt:void 0}},ut=null!=me?me:C.SearchSourcesDialogBody,dt="exchange"===xe,mt=dt?{title:l.t(null,void 0,n(719724)),dataName:"exchanges-search",render:()=>o.createElement(ut,{searchSources:Ve.currentTabAvailableSearchSources}),additionalHeaderElement:o.createElement(k.BackButton,{onClick:()=>Ce("symbolSearch"),className:V.backButton,size:"medium","aria-label":l.t(null,{context:"input"},n(716936)),preservePaddings:!0,flipIconOnRtl:(0,W.isRtl)()}),additionalElementPos:"before"}:{title:Y,dataName:"symbol-search-items-dialog",render:()=>o.createElement(w.SymbolSearchItemsDialogBody,null),additionalElementPos:"after"},ht=null!=oe?oe:"div";return o.createElement(ht,null,o.createElement(y.MatchMediaMap,{rules:E.DialogBreakpoints},(({TabletSmall:e,TabletNormal:t})=>o.createElement(T.SymbolSearchItemsDialogContext.Provider,{value:ct(e,t)},o.createElement(st,{...mt,shouldReturnFocus:Se,fullScreen:te,onClose:r,onClickOutside:r,onKeyDown:it?void 0:bt,isOpened:!0})))));function pt(){var e;De||null==ve||ve((null===(e=Ze.current)||void 0===e?void 0:e.value)||"")}function gt(e,t,n){if(e.contracts)return e.contracts.length?void ft(e,e.contracts[0],t,n):void St(j(e));ft(e,void 0,t,n)}function St(e){const t=new Set(Ge);t.has(e)?t.delete(e):t.add(e),je(t)}function ft(e,t,n,o){const a=t||e,{exchange:l}=e;{const e={name:a.symbol,exchange:l,prefix:a.prefix,fullName:a.full_name};if(De)return yt(e),void qe();if(Ze.current&&Ze.current.value.includes(","))return void yt(e)}xt([{resolved:!0,symbol:F.QualifiedSources.fromSymbolSearchResult(e,t),result:a}],n,o),r()}function vt(e){$e("fixed"===ue||e<=640)}function yt(e){if(!Ze.current)return;const[t,n]=(0,s.getNextSymbolInputValueAndPosition)(Ze.current,e,H);Ze.current.value=t,Ze.current.setSelectionRange(n,n),Ze.current.focus()}function bt(e){const t=(0,I.hashFromEvent)(e);switch(t){case 13:e.preventDefault(),Et(!0);break;case 27:if(e.preventDefault(),dt)return void Ce("symbolSearch");r()}switch((0,z.mapKeyCodeToDirection)(t)){case"blockPrev":if(e.preventDefault(),0===Be||"good"!==Ae)return;if(-1===Be)return void Oe(0);Oe(Be-1);break;case"blockNext":
if(e.preventDefault(),Be===rt.length-1||"good"!==Ae)return;Oe(Be+1);break;case"inlinePrev":{if(-1===Be)return;const t=rt[Be],{id:n,isOffset:o,onExpandClick:r}=t;if(!o&&n&&Ge.has(n)&&Boolean(r)&&!Boolean(de)&&(e.preventDefault(),St(n)),r)return void(null==de||de(e,!0));break}case"inlineNext":{if(-1===Be)return;const t=rt[Be],{id:n,isOffset:o,onExpandClick:r}=t;if(o||!n||Ge.has(n)||!Boolean(r)||Boolean(de)||(e.preventDefault(),St(n)),r)return void(null==de||de(e,!0));break}}null==de||de(e)}function Et(e){if(!Ze.current)return;let t=Ze.current.value;if(De&&t){const n=rt[Be];if(n&&void 0!==n.isExpanded&&(n.onClick(),t=Ze.current.value),t.includes(",")){return xt(X(t).map(q),null),void(e&&r())}return xt([{symbol:H?t.toUpperCase():t,resolved:!1}],null),void(e&&r())}if(t.includes(","))return xt(X(t).map(q),null),void(e&&r());if(-1!==Be){rt[Be].onClick()}else{const n=H?t.toUpperCase():t;if(n&&""!==n.trim()){const e=X(n);if(K||void 0===Je||-1!==n.indexOf(":")){xt(e.map(q),null)}else(function(e){let t=!1;return Promise.all(e.map((e=>-1!==e.indexOf(":")||t?Promise.resolve({symbol:e,resolved:!1}):(t=!0,async function(e){var t;const n=null===(t=await(null==Xe?void 0:Xe.accountMetainfo()))||void 0===t?void 0:t.prefix,o=n||void 0,r=await(0,L.searchSymbolsPaginated)({strictMatch:!0,serverHighlight:!1,text:e,lang:window.language||"",brokerId:Je,onlyTradable:!0,unhideSymbolSearchGroups:Ye,exchange:o});if(0!==r.symbols.length){const e=r.symbols[0],{contracts:t}=e,n=t&&t.length>0?t[0]:void 0,o=e.prefix||e.exchange,a=n?n.symbol:e.symbol;if(o&&a)return{symbol:F.QualifiedSources.fromSymbolSearchResult(e,n),resolved:!0,result:e}}return{symbol:e,resolved:!1}}(e)))))})(e).then((e=>xt(e,null)))}e&&r()}}async function xt(e,t,n){var o;const[{result:r,symbol:a,resolved:l}]=e,s=null===(o=Ze.current)||void 0===o?void 0:o.value,i=!n||(0,U.isKeyboardClick)(n);let c=De;void 0!==r&&(0,L.isSymbolSearchResult)(r)&&(c="spread"===r.type),ge||(l?(0,S.addRecentProName)(a):await(0,S.addRecentUnresolved)(a)),$(e,{symbolType:Ne,isKeyboardEvent:i,numberInList:t,inputValue:s,isSpread:c})}}function q(e){return{symbol:H?e.toUpperCase():e,resolved:!1}}function G(e,t){const{broker_symbol:n,symbol:o,description:r}=e;return`${"spread"===e.type?r:o}${t&&n?` (${n})`:""}`}function j(e){return e.symbol+e.exchange+e.description}function X(e){return e.split(",").map((e=>e.trim())).filter((e=>""!==e))}function J(e){const{isMobile:t,isTablet:n}=(0,O.useEnsuredContext)(T.SymbolSearchItemsDialogContext);return o.createElement(x.AdaptivePopupDialog,{...e,className:a()(V.dialog,!t&&(n?V.tabletDialog:V.desktopDialog)),backdrop:!0,draggable:!1})}},133181:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchNoResult:()=>s});var o=n(50959),r=n(497754),a=n.n(r),l=n(254638);function s(e){const{children:t,className:n}=e;return o.createElement("div",{className:a()(l.container,n)},o.createElement("div",{className:l.childrenWrapper},t))}},850972:(e,t,n)=>{"use strict";n.d(t,{addRecentProName:()=>c,addRecentUnresolved:()=>i,getRecent:()=>s});var o=n(62802),r=n(59171),a=n(795394)
;const l=new Set(["pro_name","short_name","description","exchange","type","country_code","provider_id","logoid","currency-logoid","base-currency-logoid","update_mode","typespecs","source","source2"]);async function s(){return async function(e){const t=[],n=await(0,a.snapshoter)().getSnapshotsForAll(e,l);return n.filter(u).forEach((e=>{const{values:{short_name:n,pro_name:o,description:a,type:l,logoid:s,"currency-logoid":i,"base-currency-logoid":c,country_code:u,provider_id:d,update_mode:m,typespecs:h,source:p,source2:g}}=e;a&&l&&t.push({symbol:"spread"===l?o:n,exchange:"spread"===l?null:(0,r.getExchange)(o),description:a,type:l,typespecs:h,logoid:s,"currency-logoid":i,"base-currency-logoid":c,country:null==u?void 0:u.toLowerCase(),provider_id:null==d?void 0:d.toLowerCase(),params:"endofday"===m?["eod"]:void 0,source:p,source2:g})})),t}(o.getJSON("SymbolSearch.recent",[]).filter((e=>"string"==typeof e)))}async function i(e){const t=await async function(e){const t=await(0,a.snapshoter)().getSnapshot(e,l);return u(t)?t.values.pro_name:null}(e);null!==t&&c(t)}function c(e){if("string"!=typeof e)return;const t=new Set(o.getJSON("SymbolSearch.recent",[]));t.has(e)&&t.delete(e),t.has(null)&&t.delete(null),o.setJSON("SymbolSearch.recent",[e,...t].slice(0,30))}function u(e){return"error"!==e.status}},632756:(e,t,n)=>{"use strict";n.d(t,{createItemId:()=>s,useSourcesKeyboardNavigation:()=>l});var o=n(50959),r=n(591800),a=n(580602);function l(e,t,n){const[l,i]=(0,o.useState)(null),[c,u]=(0,o.useState)("");function d(t){const n=e[t.groupIndex].sources[t.col].length-1;if(t.row===n){const e=p(t.groupIndex+1);if(null===e)return;return t.col>0&&!h({...t,groupIndex:e,row:0})?void i({groupIndex:e,col:0,row:0}):void i({...t,groupIndex:e,row:0})}i({...t,row:t.row+1})}function m(t){var n,o;if(0===t.row){const r=p(t.groupIndex-1,-1);if(null===r)return;const a=null!==(o=null===(n=e[r].sources[t.col])||void 0===n?void 0:n.length)&&void 0!==o?o:0;return 0===a?void i({groupIndex:r,col:0,row:0}):void i({...t,groupIndex:r,row:a-1})}i({...t,row:t.row-1})}function h(t){var n,o;return Boolean(null===(o=null===(n=e[t.groupIndex])||void 0===n?void 0:n.sources[t.col])||void 0===o?void 0:o[t.row])}function p(t=0,n=1){const o=e.length;let r=(t+o)%o;for(;!h({groupIndex:r,col:0,row:0});)if(r=(r+n+o)%o,r===t)return null;return r}return(0,o.useEffect)((()=>{if(!n.current)return;if(!l)return void u("");const e=s(l.groupIndex,l.col,l.row),t=n.current.querySelector(`#${e}`);null==t||t.scrollIntoView({block:"nearest"}),u(e)}),[l]),(0,o.useEffect)((()=>{i(null)}),[t]),{focusedItem:l,activeDescendant:c,handleKeyDown:function(o){if(!n.current)return;const c=(0,r.hashFromEvent)(o);if(32===c||13===c){if(!l)return;o.preventDefault();const e=n.current.querySelector(`#${s(l.groupIndex,l.col,l.row)}`);return void(e instanceof HTMLElement&&e.click())}switch((0,a.mapKeyCodeToDirection)(c)){case"blockNext":if(o.preventDefault(),!l){const e=p();if(null===e)break;i({groupIndex:e,col:0,row:0});break}d(l);break;case"blockPrev":if(o.preventDefault(),!l)break;m(l);break
;case"inlineNext":{if(!l||t)break;o.preventDefault();const n=e[l.groupIndex].sources.length;if(l.col===n-1||!h({...l,col:l.col+1})){d({...l,col:0});break}i({...l,col:l.col+1});break}case"inlinePrev":{if(!l||t)break;o.preventDefault();const n=e[l.groupIndex].sources.length;if(0===l.col){if(0!==l.row){m({...l,col:n-1});break}const t=p(l.groupIndex-1,-1);if(null===t)break;const o=e[t].sources.length,r=e[t].sources[0].length;if(!h({groupIndex:t,col:o-1,row:r-1})){m(l);break}i({groupIndex:t,col:o-1,row:r-1});break}i({...l,col:l.col-1});break}}},resetFocusedItem:()=>i(null)}}function s(e,t,n){return`source-item-${e}-${t}-${n}`}},721906:(e,t,n)=>{"use strict";n.d(t,{BubbleRow:()=>d});var o=n(50959),r=n(497754),a=n.n(r),l=n(8626),s=n(161371);function i(e){const{title:t,isActive:n,isAnimated:o,activeColor:r,size:l="m",appearance:i="default",fontSize:c="m",grayStyles:u,className:d}=e;return a()(s.bubble,n&&s.active,r&&s[r],t&&"apply-common-tooltip",l&&s[`size-${l}`],c&&s[`fontSize-${c}`],i&&s[`appearance-${i}`],o&&s.animated,u&&s.gray,d)}function c(e){const{id:t,title:n,tabIndex:r,role:c,contentClassName:u,children:d,onClick:m,onMouseDown:h,reference:p,grayStyles:g,...S}=e;return o.createElement("span",{...(0,l.filterAriaProps)(S),...(0,l.filterDataProps)(S),id:t,title:n,tabIndex:r,role:c,className:i(e),onClick:m,onMouseDown:h,ref:p},o.createElement("span",{className:a()(s.content,u)},d))}var u=n(423886);function d(e){const{className:t,itemClassName:n,itemContentClassName:a,items:l,getItemTitle:s,getItemTooltip:i,getItemKey:d,checkItemIsActive:m,getItemColor:h,onBubbleClick:p,multiline:g,children:S,BubbleComponent:f=c,reference:v,fontSize:y,grayStyles:b}=e;return o.createElement("div",{className:r(t,u.bubbles,g&&u.multiLine),ref:v},l.map(((e,t)=>o.createElement(f,{key:d?d(e):t,id:d?d(e):t.toString(),className:r(u.bubble,n),contentClassName:a,onClick:function(){p(e)},onMouseDown:function(e){e.preventDefault()},isActive:!!m&&m(e),activeColor:h?h(e):void 0,fontSize:y,title:i?i(e):void 0,grayStyles:b},s(e)))),S)}},452623:(e,t,n)=>{"use strict";n.d(t,{HighlightedText:()=>s});var o=n(50959),r=n(497754),a=n(742231),l=n(275623);function s(e){const{queryString:t,rules:n,text:s,className:i}=e,c=(0,o.useMemo)((()=>(0,a.getHighlightedChars)(t,s,n)),[t,n,s]);return o.createElement(o.Fragment,null,c.length?s.split("").map(((e,t)=>o.createElement(o.Fragment,{key:t},c[t]?o.createElement("span",{className:r(l.highlighted,i)},e):o.createElement("span",null,e)))):s)}},694302:(e,t,n)=>{"use strict";n.d(t,{useActiveBroker:()=>l});var o=n(50959),r=n(62802),a=n(439016);function l(){const[e,t]=(0,o.useState)(s),n=(0,o.useMemo)((()=>function(e){if(e&&e.metainfo().configFlags.supportSymbolSearch)return e.metainfo().backendBrokerName||e.metainfo().id.toLowerCase();return}(e)),[e]),l=(0,o.useMemo)((()=>function(e,t){if(t)return null==e?void 0:e.metainfo().title;return}(e,n)),[e,n]),i=(0,o.useMemo)((()=>function(e){if(e)return{logoMiniUrl:e.metainfo().logoMiniUrl,logoMiniBlackUrl:e.metainfo().logoMiniBlackUrl};return}(e)),[e]),c=(0,
o.useMemo)((()=>function(e){if(e){const t=e.metainfo().configFlags.supportUnhideSymbolSearchGroups;if(1===e.connectionStatus()&&t&&e.unhideSymbolSearchGroups)return e.unhideSymbolSearchGroups().join(",")}return}(e)),[e]),u=(0,o.useMemo)((()=>function(e){return Boolean(null==e?void 0:e.metainfo().configFlags.supportDisplayBrokerNameInSymbolSearch)}(e)),[e]);(0,o.useEffect)((()=>{const e=(0,a.tradingService)(),n=()=>{t(s())};return e&&(e.onBrokerChange.subscribe(null,n),e.onConnectionStatusChange.subscribe(null,n)),()=>{e&&(e.onBrokerChange.unsubscribe(null,n),e.onConnectionStatusChange.unsubscribe(null,n))}}),[]);const[d,m]=(0,o.useState)((()=>r.getBool("symboledit.tradable",!0)));return(0,o.useEffect)((()=>{r.setValue("symboledit.tradable",d)}),[d]),{broker:e,brokerId:n,brokerTitle:l,brokerLogoInfo:i,isBrokerChecked:d,setIsBrokerChecked:m,unhideSymbolSearchGroups:c,displayBrokerSymbol:u}}function s(){const e=(0,a.tradingService)();return e&&1===e.connectStatus()?e.activeBroker():null}},891130:(e,t,n)=>{"use strict";n.d(t,{useEnsuredContext:()=>a});var o=n(50959),r=n(650151);function a(e){return(0,r.ensureNotNull)((0,o.useContext)(e))}},324997:(e,t,n)=>{"use strict";n.d(t,{useResizeObserver:()=>o.useResizeObserver});var o=n(444530)},50430:(e,t,n)=>{"use strict";n.d(t,{useTheme:()=>a});var o=n(631078),r=n(909740);function a(){return(0,o.useWatchedValueReadonly)({watchedValue:r.watchedTheme})}},157773:(e,t,n)=>{"use strict";n.d(t,{MatchMediaMap:()=>l});var o=n(50959),r=n(266783),a=n.n(r);class l extends o.Component{constructor(e){super(e),this._handleMediaChange=()=>{const e=i(this.state.queries,((e,t)=>t.matches));let t=!1;for(const n in e)if(e.hasOwnProperty(n)&&this.state.matches[n]!==e[n]){t=!0;break}t&&this.setState({matches:e})};const{rules:t}=this.props;this.state=s(t)}shouldComponentUpdate(e,t){return!a()(e,this.props)||(!a()(t.rules,this.state.rules)||!a()(t.matches,this.state.matches))}componentDidMount(){this._migrate(null,this.state.queries)}componentDidUpdate(e,t){a()(e.rules,this.props.rules)||this._migrate(t.queries,this.state.queries)}componentWillUnmount(){this._migrate(this.state.queries,null)}render(){return this.props.children(this.state.matches)}static getDerivedStateFromProps(e,t){if(a()(e.rules,t.rules))return null;const{rules:n}=e;return s(n)}_migrate(e,t){null!==e&&i(e,((e,t)=>{t.removeListener(this._handleMediaChange)})),null!==t&&i(t,((e,t)=>{t.addListener(this._handleMediaChange)}))}}function s(e){const t=i(e,((e,t)=>window.matchMedia(t)));return{queries:t,matches:i(t,((e,t)=>t.matches)),rules:{...e}}}function i(e,t){const n={};for(const o in e)e.hasOwnProperty(o)&&(n[o]=t(o,e[o]));return n}},221155:(e,t,n)=>{"use strict";n.d(t,{Separator:()=>l});var o=n(50959),r=n(497754),a=n(345719);function l(e){return o.createElement("div",{className:r(a.separator,e.className)})}},694022:(e,t,n)=>{"use strict";n.d(t,{triesTranslateMarketType:()=>r});var o=n(444372);function r(e){return a.get(e)||e}
const a=new Map([["cfd",o.t(null,void 0,n(487592))],["dr",o.t(null,void 0,n(667245))],["index",o.t(null,void 0,n(612754))],["forex",o.t(null,void 0,n(739512))],["right",o.t(null,{context:"symbol_type"},n(709898))],["bond",o.t(null,void 0,n(879852))],["bitcoin",o.t(null,void 0,n(308448))],["crypto",o.t(null,void 0,n(308448))],["economic",o.t(null,void 0,n(488720))],["indices",o.t(null,void 0,n(138071))],["futures",o.t(null,void 0,n(781859))],["stock",o.t(null,void 0,n(636931))],["commodity",o.t(null,void 0,n(812629))]])},552793:(e,t,n)=>{"use strict";n.d(t,{getImage:()=>a});const o=new Map;function r(e){e.crossOrigin="anonymous"}function a(e,t,n=r){let a=o.get(e);return void 0===a&&(a=new Promise(((e,o)=>{const r=new Image;r.onload=()=>{e(r),r.onload=null,r.onerror=null},r.onerror=()=>{o(),r.onload=null,r.onerror=null},n(r),r.src=t})),o.set(e,a)),a}},333730:(e,t,n)=>{"use strict";n.d(t,{splitThousands:()=>r});var o=n(150335);function r(e,t="&nbsp;"){let n=e+"";-1!==n.indexOf("e")&&(n=function(e){return(0,o.fixComputationError)(e).toFixed(10).replace(/\.?0+$/,"")}(Number(e)));const r=n.split(".");return r[0].replace(/\B(?=(\d{3})+(?!\d))/g,t)+(r[1]?"."+r[1]:"")}},199356:(e,t,n)=>{"use strict";var o,r,a,l,s,i,c,u,d,m,h,p,g,S,f;n.r(t),n.d(t,{AccountType:()=>p,BracketType:()=>u,CONNECTSTATUSES:()=>o,DisconnectType:()=>g,NOTIFICATION:()=>m,ORDERSTATUS:()=>l,ORDERSTATUSFILTER:()=>s,ORDERTYPE:()=>r,OrderOrPositionMessageType:()=>h,PARENTTYPE:()=>c,PipValueType:()=>S,RestrictionType:()=>f,SIDE:()=>a,TICKETFOCUS:()=>d,TradingEntityType:()=>i}),function(e){e[e.CONNECTED=1]="CONNECTED",e[e.CONNECTING=2]="CONNECTING",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.ERROR=4]="ERROR"}(o||(o={})),function(e){e[e.LIMIT=1]="LIMIT",e[e.MARKET=2]="MARKET",e[e.STOP=3]="STOP",e[e.STOPLIMIT=4]="STOPLIMIT"}(r||(r={})),function(e){e[e.BUY=1]="BUY",e[e.SELL=-1]="SELL"}(a||(a={})),function(e){e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.PLACING=4]="PLACING",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(l||(l={})),function(e){e[e.ALL=0]="ALL",e[e.CANCELED=1]="CANCELED",e[e.FILLED=2]="FILLED",e[e.INACTIVE=3]="INACTIVE",e[e.REJECTED=5]="REJECTED",e[e.WORKING=6]="WORKING"}(s||(s={})),function(e){e[e.Order=1]="Order",e[e.Position=2]="Position"}(i||(i={})),function(e){e[e.ORDER=1]="ORDER",e[e.POSITION=2]="POSITION"}(c||(c={})),function(e){e[e.StopLoss=0]="StopLoss",e[e.TakeProfit=1]="TakeProfit",e[e.TrailingStop=2]="TrailingStop"}(u||(u={})),function(e){e[e.LIMITPRICE=1]="LIMITPRICE",e[e.STOPPRICE=2]="STOPPRICE",e[e.TAKEPROFIT=3]="TAKEPROFIT",e[e.STOPLOSS=4]="STOPLOSS"}(d||(d={})),function(e){e[e.ERROR=0]="ERROR",e[e.SUCCESS=1]="SUCCESS"}(m||(m={})),function(e){e.Information="information",e.Warning="warning",e.Error="error"}(h||(h={})),function(e){e.Demo="demo",e.Live="live"}(p||(p={})),function(e){e[e.LogOut=0]="LogOut",e[e.FailedRestoring=1]="FailedRestoring",e[e.Offline=2]="Offline",e[e.APIError=3]="APIError",e[e.TwoFactorRequired=4]="TwoFactorRequired",e[e.CancelAuthorization=5]="CancelAuthorization",
e[e.TimeOutForAuthorization=6]="TimeOutForAuthorization",e[e.OauthError=7]="OauthError",e[e.BrokenConnection=8]="BrokenConnection",e[e.FailedSignIn=9]="FailedSignIn"}(g||(g={})),function(e){e[e.None=0]="None",e[e.Pips=1]="Pips",e[e.Ticks=2]="Ticks"}(S||(S={})),function(e){e.Halted="HALTED",e.NotShortable="NOT-SHORTABLE",e.HardToBorrow="HARD-TO-BORROW"}(f||(f={}))},588929:(e,t,n)=>{"use strict";var o;n.d(t,{StopType:()=>o}),function(e){e[e.StopLoss=0]="StopLoss",e[e.TrailingStop=1]="TrailingStop"}(o||(o={}))},414048:(e,t,n)=>{"use strict";n.d(t,{DisconnectError:()=>l,extractDisconnectionInfoAndConnectionStatus:()=>s});var o=n(199356),r=n(17980),a=n(675295);class l extends a.UserFriendlyError{constructor({disconnectInfo:e,...t}){super(t),this.name="DisconnectError",this.disconnectInfo=e}}function s(e){const t=function(e){const t={message:(0,r.getErrorMessage)(e)};e instanceof l&&(t.disconnectType=e.disconnectInfo.disconnectType);return t}(e);let n=4;return void 0!==t.disconnectType&&[o.DisconnectType.CancelAuthorization,o.DisconnectType.TimeOutForAuthorization].includes(t.disconnectType)&&(n=3),{disconnectionInfo:t,connectionStatus:n}}},973110:(e,t,n)=>{"use strict";function o(e){const t=new URLSearchParams;for(const[n,o]of Object.entries(e))void 0!==o&&t.set(n,String(o));return t.toString()}n.d(t,{createQueryParams:()=>o})},17980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ErrorCode:()=>C,TasksWithTermination:()=>P,addBrokerPrefixToTvSymbol:()=>re,addTrailingSlash:()=>J,convertToStringIfNeeded:()=>se,decodeAmpersandHtmlEntity:()=>$,findArraysDifferences:()=>F,formatNumber:()=>D,getErrorCauses:()=>te,getErrorMessage:()=>Z,getHttpStatusMessageForCode:()=>I,getHttpStatusUserFriendlyMessage:()=>k,getLoggerMessage:()=>H,getMaxDecimalPlacesCount:()=>ie,httpStatusMessages:()=>T,httpStatusUserFriendlyMessages:()=>w,inferDisconnectType:()=>ne,isFinalOrderStatus:()=>V,isOrderOrPositionMessageType:()=>B,isStandardFormatterName:()=>ee,isSyncMapper:()=>q,makeNonTradableSymbolText:()=>Q,makeRetryWarningLogger:()=>oe,orderStatusToText:()=>L,orderTypeToText:()=>M,pipSizeForForex:()=>z,pipsToPrice:()=>ae,positionSideToText:()=>K,priceToPips:()=>le,retryWithChangingIntervals:()=>_,roundToStepByPriceTypeAndSide:()=>O,roundUpToPowerOf10:()=>W,sideToText:()=>R,throwUserFriendlyErrorWithBracketType:()=>X});var o=n(444372),r=n(960521),a=n(199356),l=n(588929),s=n(333730),i=n(389137),c=n(201089),u=n(919476),d=n(266325),m=n(667353),h=n(999626),p=n(675295),g=n(414048);const S={2:{},1:{}},f={2:{},1:{}},v={},y={},b={};let E=!1;const x=(0,c.getLogger)("Trading.Utils");var C;!function(e){e[e.Unauthorized=401]="Unauthorized",e[e.TooManyRequests=429]="TooManyRequests"}(C||(C={}));const T={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:'Length Required The "Content-Length" is not defined',412:"Precondition Failed",413:"Request Too Large",414:"Request-URI Too Long",
415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"},w={429:o.t(null,void 0,n(378505))};function k(e){const t=w[e];return void 0===t?I(e):t}function I(e){const t=T[e];return void 0===t?(x.logError(`Status message for code: ${e} is not specified`),""):t}function L(e){return N(),b[e]}function N(){E||(E=!0,S[2][2]=o.t(null,{context:"Market order"},n(610952)),S[2][1]=o.t(null,{context:"Limit order"},n(382377)),S[2][3]=o.t(null,{context:"order"},n(608921)),S[2][4]=o.t(null,{context:"Stop limit order"},n(779062)),S[1][2]=o.t(null,void 0,n(359758)),S[1][1]=o.t(null,void 0,n(398157)),S[1][3]=o.t(null,{context:"order"},n(7122)),S[1][4]=o.t(null,void 0,n(900853)),f[2][a.BracketType.TakeProfit]=o.t(null,{context:"Take profit order"},n(347947)),f[2][a.BracketType.StopLoss]=o.t(null,{context:"Stop loss order"},n(15307)),f[2][a.BracketType.TrailingStop]=o.t(null,{context:"Trailing stop order"},n(154462)),f[1][a.BracketType.TakeProfit]=o.t(null,void 0,n(129266)),f[1][a.BracketType.StopLoss]=o.t(null,void 0,n(241648)),f[1][a.BracketType.TrailingStop]=o.t(null,void 0,n(86430)),v[1]=o.t(null,{context:"trading"},n(63470)),v[-1]=o.t(null,{context:"trading"},n(742259)),y[1]=o.t(null,{context:"trading"},n(274771)),y[-1]=o.t(null,{context:"trading"},n(951219)),b[2]=o.t(null,void 0,n(885323)),b[1]=o.t(null,void 0,n(767207)),b[6]=o.t(null,void 0,n(328231)),b[3]=o.t(null,void 0,n(614841)),b[4]=o.t(null,void 0,n(373425)),b[5]=o.t(null,void 0,n(442060)))}function R(e,t){N();const n=v[e];return t?n.toUpperCase():n}function M(e){const{orderType:t,uppercase:n,shorten:o,parentId:r,stopType:s}=e;N();const i=o?2:1;let c=S,u=t;return void 0!==r&&(c=f,3===t&&(u=s===l.StopType.TrailingStop?a.BracketType.TrailingStop:a.BracketType.StopLoss),1===t&&(u=a.BracketType.TakeProfit)),n?c[i][u].toUpperCase():c[i][u]}function F(e,t,n,o,r){const a={added:[],modified:[],removed:[]},l=e.slice(0);return t.forEach((t=>{const s=e.findIndex((e=>e[n]===t[n]));if(-1===s)return void a.added.push(t);l[s]=null;const c=e[s];for(const e of o){let n=!0;if(null===c[e]||"object"!=typeof c[e]?n=c[e]===t[e]:r&&(n=(0,i.deepEquals)(c[e],t[e])[0]),!n)return void a.modified.push(t)}})),l.forEach((e=>{e&&a.removed.push(e)})),a}function D(e){return Math.abs(e||0)<.001?"0.00":(0,s.splitThousands)((e||0).toFixed(2))}function _(e){const{fn:t,intervals:n=[1,100,1e3,5e3],logWithRetryCount:o}=e;return function e(r){return t().catch((t=>{return(0,d.isAbortError)(t)?Promise.reject(t):r<n.length?(a=n[r],new Promise((e=>{
setTimeout(e,a)}))).then((()=>(null==o||o(r),e(r+1)))):Promise.reject(t);var a}))}(0)}function B(e){return-1!==Object.keys(a.OrderOrPositionMessageType).map((e=>a.OrderOrPositionMessageType[e])).indexOf(e)}function O(e,t,n,o){const a=(0,r.Big)(e).div(t);return 1===n&&1===o||2===n&&-1===o?a.round(0,0).mul(t).toNumber():1===n&&-1===o||2===n&&1===o?a.round(0,3).mul(t).toNumber():0}const A=o.t(null,void 0,n(609372));class P{constructor(e){this._isFinished=!1,this._isTerminated=!1,this._tasks=e}execute(){return this._isTerminated=!1,this._isExecuted()&&!this._isFinished?this.terminate().then((()=>this._execution=this._execute())):this._execution=this._execute()}async terminate(){if(this._isExecuted()&&!this._isFinished){this._isTerminated=!0;try{await this._execution}catch(e){return void x.logWarn(e)}}}_isExecuted(){return!!this._execution}async _execute(){for(const e of this._tasks){if(this._isTerminated)throw new Error("Login tasks are terminated");try{await e()}catch(e){this._isFinished=!0;const t={detailedErrorMessage:`${A}${U(H(e))}`,userFriendlyMessage:`${A}${U(Z(e))}`};throw e instanceof g.DisconnectError?new g.DisconnectError({...t,disconnectInfo:e.disconnectInfo}):new p.UserFriendlyError(t)}}this._isFinished=!0}}function U(e){return void 0===e||""===e?"":`: ${e}`}function W(e){const t=Math.ceil(Math.log10(e));return(0,r.Big)(10).pow(t).toNumber()}function z(e){return e.indexOf("JPY")===e.length-3?.01:1e-4}function V(e){return-1!==[2,1,5].indexOf(e)}function K(e){return N(),y[e]}function Q(e,t){return o.t(null,void 0,n(221456)).replace("{symbol}",e).replace("{broker}",t)}function Z(e){if(void 0===e)return o.t(null,void 0,n(328523));let t;return t=e instanceof Error?e.message:"object"==typeof e?JSON.stringify(e):e.toString(),(0,u.removeTags)(t)}function H(e){return e instanceof p.UserFriendlyError?(0,u.removeTags)(e.detailedErrorMessage):Z(e)}function $(e){return e.replace(/&amp;/g,"&")}function q(e){return"ready"in e}const G={[a.BracketType.StopLoss]:o.t(null,void 0,n(241648)),[a.BracketType.TakeProfit]:o.t(null,void 0,n(129266)),[a.BracketType.TrailingStop]:o.t(null,void 0,n(86430))},j={[a.BracketType.StopLoss]:"Stop Loss",[a.BracketType.TakeProfit]:"Take Profit",[a.BracketType.TrailingStop]:"Trailing Stop"};function X(e){const t=j[e],n=G[e];return e=>{throw new p.UserFriendlyError({detailedErrorMessage:`${t}: ${H(e)}`,userFriendlyMessage:`${n}: ${Z(e)}`})}}function J(e){return e="/"===e[e.length-1]?e:e+"/"}const Y=new Set(["date","dateOrDateTime","default","fixed","variablePrecision","formatQuantity","formatPrice","formatPriceForexSup","integerSeparated","localDate","localDateOrDateTime","percentage","pips","profit","profitInInstrumentCurrency","side","positionSide","status","symbol","text","type","marginPercent","empty"]);function ee(e){return void 0!==e&&Y.has(e)}function te(e){return(0,p.isUserFriendlyError)(e)&&void 0!==e.cause?[...te(e.cause),e.cause]:[e]}function ne(e,t){return t||e instanceof h.WSConnectionClosedError?a.DisconnectType.BrokenConnection:a.DisconnectType.APIError}function oe(e){
return t=>n=>{e(`${t}. Retrying (${n} attempts already made)...`)}}function re(e,t){return`${e}:${t.split(":")[1]}`}function ae(e,t,n,o){return(0,r.Big)(n).mul(e).mul(o).plus(t).toNumber()}function le(e,t,n,o){return(0,r.Big)(e).minus(t).div(o).div(n).toNumber()}function se(e){return"string"!=typeof e?String(e):e}function ie(...e){return Math.max(...e.map((e=>(0,m.numOfDecimalPlaces)(e))))}},999626:(e,t,n)=>{"use strict";n.d(t,{WSConnectionClosedError:()=>o});class o extends Error{constructor(){super(...arguments),this.name="WSConnectionClosedError"}}},214931:(e,t,n)=>{"use strict";n.d(t,{isSymbolSearchResult:()=>u,searchSymbols:()=>d,searchSymbolsPaginated:()=>m});var o=n(650151),r=n(66974),a=n(175203),l=n(973110),s=n(17980),i=n(128563),c=n(120780);function u(e){return e.hasOwnProperty("exchange")}async function d(e){var t,n,o,r;const i=S(),u=h(e),d=`${i}?${(0,l.createQueryParams)(u)}`,m=(new Date).getTime();try{const r=await(0,c.fetch)(d,{signal:e.signal});if(!r.ok)throw null===(t=e.serverLogger)||void 0===t||t.log({action:"symbol-search.error-response",level:"error",payload:{request:{url:d,method:"GET"},statusCode:r.status,message:(await r.text()).slice(0,250)}}),new Error(`${r.status}: ${r.statusText}`);const l=await r.json();return a.telemetry.sendChartReport("symbol_search_http_status",{value:r.status}),0===l.length?null===(n=e.serverLogger)||void 0===n||n.log({action:"symbol-search.empty-response",level:"error",payload:{request:{url:d,method:"GET"}}}):null===(o=e.serverLogger)||void 0===o||o.log({action:"symbol-search.success-response",level:"info",payload:{request:{url:d,method:"GET"},symbolsCount:l.length}}),l}catch(t){throw a.telemetry.sendChartReport("symbol_search_http_error"),null===(r=e.serverLogger)||void 0===r||r.log({action:"symbol-search.network-error",level:"error",payload:{request:{url:d,method:"GET"},message:(0,s.getLoggerMessage)(t)}}),t}finally{p(m)}}async function m(e){var t,n,o,r;const i=S(!0),u=h(e),d=`${i}?${(0,l.createQueryParams)(u)}`,m=(new Date).getTime();try{const r=await(0,c.fetch)(d,{signal:e.signal});if(!r.ok)throw null===(t=e.serverLogger)||void 0===t||t.log({action:"symbol-search.error-response",level:"error",payload:{request:{url:d,method:"GET"},statusCode:r.status,message:(await r.text()).slice(0,250)}}),new Error(`${r.status}: ${r.statusText}`);const l=await r.json();return a.telemetry.sendChartReport("symbol_search_http_status",{value:r.status}),0===l.symbols.length?null===(n=e.serverLogger)||void 0===n||n.log({action:"symbol-search.empty-response",level:"error",payload:{request:{url:d,method:"GET"}}}):null===(o=e.serverLogger)||void 0===o||o.log({action:"symbol-search.success-response",level:"info",payload:{request:{url:d,method:"GET"},symbolsCount:l.symbols.length}}),l}catch(t){throw a.telemetry.sendChartReport("symbol_search_http_error"),null===(r=e.serverLogger)||void 0===r||r.log({action:"symbol-search.network-error",level:"error",payload:{request:{url:d,method:"GET"},message:(0,s.getLoggerMessage)(t)}}),t}finally{p(m)}}function h(e){const t={}
;void 0!==e.text&&(t.text=e.text),void 0!==e.brokerSymbols&&(t.broker_symbols=e.brokerSymbols.sort().join(",")),void 0!==e.serverHighlight&&(t.hl=e.serverHighlight?"1":"0"),void 0!==e.exchange&&(t.exchange=e.exchange),void 0!==e.country&&(t.country=e.country),e.strictMatch&&(t.strict="1"),e.noLimits&&(t.no_limits="1"),void 0!==e.lang&&(t.lang=e.lang);const{type:n}=e;var r;void 0!==n&&(t.search_type=(r=n,(0,o.ensureDefined)(f.get(r)))),void 0!==e.start&&(t.start=e.start);const{filterQueryParams:a}=e;return void 0!==a&&Object.keys(a).forEach((e=>{const n=a[e];n&&(t[e]=n)})),window.SS_DOMAIN_PARAMETER&&(t.domain=window.SS_DOMAIN_PARAMETER),e.brokerId&&(t.broker=e.brokerId.toLowerCase(),e.onlyTradable&&(t.tradable="1"),e.unhideSymbolSearchGroups&&(t.unhide=e.unhideSymbolSearchGroups)),e.sortByCountry&&(t.sort_by_country=e.sortByCountry),t}function p(e){const t=(new Date).getTime()-e;a.telemetry.sendChartReport("symbol_search_time_frame",{value:t})}const g={0:{0:"/symbol_search/v3/",1:"/symbol_search/"},1:{0:"/local_search/v3/",1:"/local_search/"}};function S(e){let t="https://"+window.SS_HOST;const n=(0,r.isProd)()?0:1;return t+=g[n][e?0:1],window.SS_URL&&(t=window.SS_URL),t}const f=new Map(i.map((({value:e,search_type:t})=>[e,t])))},159214:(e,t,n)=>{"use strict";n.d(t,{VISIBLE_TYPESPECS:()=>a,marketType:()=>l});var o=n(694022);n(586463);const r=new Map,a=new Set(["cfd","spreadbet","defi","yield","government","corporate","mutual","money","etf","unit","trust","reit","etn","convertible","closedend","crypto","oracle"]);function l(e,t=[],n=!0){const l=t.filter((e=>a.has(e))),s=`${e}_${l.sort().join("_")}`,i=r.get(s);if(void 0!==i)return i;const c=n?(0,o.triesTranslateMarketType)(e):e,u=Boolean(t.length)?[c,...l].join(" "):c;return r.set(s,u),u}},790934:(e,t,n)=>{"use strict";n.d(t,{mediaQueryAddEventListener:()=>o,mediaQueryRemoveEventListener:()=>r});const o=(e,t)=>{(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):e.addListener(t)},r=(e,t)=>{(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):e.removeListener(t)}},552019:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.35 5.35a.5.5 0 0 0-.7-.7L9 8.29 5.35 4.65a.5.5 0 1 0-.7.7L8.29 9l-3.64 3.65a.5.5 0 0 0 .7.7L9 9.71l3.65 3.64a.5.5 0 0 0 .7-.7L9.71 9l3.64-3.65z"/></svg>'},295694:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M17 22.5 6.85 12.35a.5.5 0 0 1 0-.7L17 1.5"/></svg>'},249498:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M12 16.5 4.85 9.35a.5.5 0 0 1 0-.7L12 1.5"/></svg>'},560176:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M9.5 12.5 3.9 7.37a.5.5 0 0 1 0-.74L9.5 1.5"/></svg>'},935369:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M8 10.5 3.85 6.35a.5.5 0 0 1 0-.7L8 1.5"/></svg>'},758478:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.2" d="M7 8.5 3.85 5.35a.5.5 0 0 1 0-.7L7 1.5"/></svg>'},773063:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M17 22.5 6.85 12.35a.5.5 0 0 1 0-.7L17 1.5"/></svg>'},914127:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M12 16.5 4.85 9.35a.5.5 0 0 1 0-.7L12 1.5"/></svg>'},218073:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M9.5 12.5 3.9 7.37a.5.5 0 0 1 0-.74L9.5 1.5"/></svg>'},124097:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" width="12" height="12" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M8 10.5 3.85 6.35a.5.5 0 0 1 0-.7L8 1.5"/></svg>'},142576:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" width="10" height="10" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 8.5 3.85 5.35a.5.5 0 0 1 0-.7L7 1.5"/></svg>'},918053:e=>{e.exports='<svg viewBox="0 0 16 16" width="16" height="16"><rect width="16" height="16" fill="currentColor" rx="8"/><path fill="#fff" d="m3 5 2 1.5 3-3 3 3L13 5v3H3V5Zm10 6V9H3v2h10Z"/></svg>'},491540:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M2.5 14.5c1.68-1.26 3.7-2 6.5-2s4.91.74 6.5 2m-13-11c1.68 1.26 3.7 2 6.5 2s4.91-.74 6.5-2"/><circle stroke="currentColor" cx="9" cy="9" r="8.5"/><path stroke="currentColor" d="M13.5 9c0 2.42-.55 4.58-1.4 6.12-.87 1.56-1.98 2.38-3.1 2.38s-2.23-.82-3.1-2.38c-.85-1.54-1.4-3.7-1.4-6.12s.55-4.58 1.4-6.12C6.77 1.32 7.88.5 9 .5s2.23.82 3.1 2.38c.85 1.54 1.4 3.7 1.4 6.12z"/></svg>'},366619:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#B2B5BE" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},267562:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#131722" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},969859:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M12.4 12.5a7 7 0 1 0-4.9 2 7 7 0 0 0 4.9-2zm0 0l5.101 5"/></svg>'},569533:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},900486:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h9"/><circle fill="currentColor" cx="7" cy="3" r="1"/><circle fill="currentColor" cx="7" cy="10" r="1"/></svg>'},863861:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><g fill="none" fill-rule="evenodd" stroke="currentColor"><path stroke-linecap="square" stroke-linejoin="round" d="M3.5 10V2.5L1 5"/><path stroke-linecap="square" d="M1.5 10.5h4"/><path d="M8 12l3-11"/></g></svg>'},481574:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h8"/></svg>'},132617:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M3 10l7-7M3 3l7 7"/></svg>'},935119:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M2.5 6.5h8m-4-4v8"/></svg>'},569135:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13" width="13" height="13"><path fill="none" stroke="currentColor" stroke-linecap="square" d="M3 7l3.5-3.5L10 7"/></svg>'}}]);