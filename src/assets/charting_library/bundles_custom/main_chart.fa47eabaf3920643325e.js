(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[47830,63646,88104],{906158:e=>{e.exports={offlineBar:"offlineBar-VQqbCElH",icon:"icon-VQqbCElH",text:"text-VQqbCElH"}},650969:(e,t,n)=>{"use strict";async function i(){return(await n.e(47158).then(n.bind(n,584570))).initSiteGlobalSkipNavigation()}async function r(){return(await n.e(29302).then(n.bind(n,228062))).initPlatformSkipNavigation()}n.d(t,{initPlatformSkipNavigation:()=>r,initSiteGlobalSkipNavigation:()=>i})},607546:(e,t,n)=>{"use strict";n.d(t,{getLogoUrlsHook:()=>a,removeUsdFromCryptoPairLogos:()=>s,resolveLogoUrls:()=>o});var i=n(849204);const r=(0,i.getLogoUrlResolver)();function o(e,t=i.LogoSize.Medium){const n=e.logoid,o=e["base-currency-logoid"],a=e["currency-logoid"],s=n&&r.getSymbolLogoUrl(n,t);if(s)return[s];const l=o&&r.getSymbolLogoUrl(o,t),c=a&&r.getSymbolLogoUrl(a,t);return l&&c?[l,c]:l?[l]:c?[c]:[]}function a(e,t){let n=!1;return(i,r,a)=>{const l=i["currency-logoid"]&&i["base-currency-logoid"];if(!n&&(i.logoid||l||a)){n=!0;const r=s(o({logoid:i.logoid,"base-currency-logoid":i["base-currency-logoid"],"currency-logoid":i["currency-logoid"]},t));e(r)}}}function s(e){return 2!==e.length?e:function(e){return e.some((e=>l(e)))}(e)&&!function(e){return e.some((e=>e.includes("country")&&!l(e)))}(e)?e.filter((e=>!l(e))):e}function l(e){return e.includes("country/US")}},18182:(e,t,n)=>{"use strict";n.d(t,{MatchMedia:()=>r});var i=n(50959);class r extends i.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addListener(this._handleChange)}_unsubscribe(e){e.removeListener(this._handleChange)}}},59171:(e,t,n)=>{"use strict";var i=n(77122),r=[{d:"E-Mini S&P 500",t:"ES"},{d:"E-Mini Nasdaq 100",t:"NQ"},{d:"Gold",t:"GC"},{d:"Silver",t:"SI"},{d:"Crude Oil WTI",t:"CL"},{d:"Natural Gas",t:"NG"},{d:"Australian Dollar",t:"6A"},{d:"Australian Dollar (Floor)",t:"AD"},{d:"Euro FX",t:"6E"},{d:"Euro FX (Floor)",t:"EC"},{d:"Corn",t:"ZC"},{d:"Corn (Floor)",t:"C"},{d:"Eurodollar",t:"GE"},{d:"Eurodollar (Floor)",t:"ED"}],o=function(){var e=[{pattern:"(",ctor:a},{pattern:")",ctor:s},{pattern:"+",ctor:c},{pattern:"-",ctor:d},{pattern:"*",ctor:u},{pattern:"/",ctor:h},{pattern:"^",ctor:g},{pattern:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,ctor:f},{pattern:/\./,ctor:v},{pattern:i.enabled("charting_library_base")?/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&]*|'.+?'/:/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&]*|'.+?'/,ctor:b},{pattern:/'[^']*/,ctor:y},{pattern:/[\0-\x20\s]+/,ctor:o
}];function t(e,t){var n=function(){};return n.prototype=t.prototype,e.prototype=new n,e}function n(){}function o(e){this.value=e}function a(){}function s(){}function l(){}function c(){}function d(){}function u(){}function h(){}function g(){}n.prototype.toString=function(){return this.value},t(o,n),t(a,n),a.prototype.value="(",t(s,n),s.prototype.value=")",t(l,n),t(c,l),c.prototype.value="+",c.prototype.precedence=0,c.prototype.commutative=!0,t(d,l),d.prototype.value="-",d.prototype.precedence=0,d.prototype.commutative=!1,t(u,l),u.prototype.value="*",u.prototype.precedence=1,u.prototype.commutative=!0,t(h,l),h.prototype.value="/",h.prototype.precedence=1,h.prototype.commutative=!1,t(g,l),g.prototype.value="^",g.prototype.precedence=2,g.prototype.commutative=!1;var p=/^'?(?:([A-Z0-9_]+):)?(.*?)'?$/i,m=/[+\-/*]/;function b(e){this.value=e}function f(e){this.value=e}function _(e){this.value=e}function y(){b.apply(this,arguments)}function v(){f.apply(this,arguments)}t(b,n),b.prototype.toString=function(){if(this.hasOwnProperty("_ticker")){var e=m.test(this._ticker)?"'":"";return e+(this._exchange?this._exchange+":":"")+this._ticker+e}return this.value},b.prototype.parse=function(){var e=p.exec(this.value);e[1]&&(this._exchange=e[1]),this._ticker=e[2]},b.prototype.parseAsFutures=function(){this.hasOwnProperty("_ticker")||this.parse();for(var e=function(e){return r.some((function(t){return t.t===e}))},t=2;t>=1;--t){var n=this._ticker.slice(0,t);if(e(n)){this._root=n,this._contract=this._ticker.slice(t);break}}},b.prototype.exchange=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._exchange;null==e?delete this._exchange:this._exchange=e+""},b.prototype.ticker=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._ticker;null==e?delete this._ticker:this._ticker=e+"",delete this._root,delete this._contract},b.prototype.root=function(e){if(this.hasOwnProperty("_root")||this.parseAsFutures(),!(arguments.length>0))return this._root;null==e?delete this._root:(this._root=e+"",this._root&&(this._ticker=this._root+(this._contract||"")))},b.prototype.contract=function(e){if(this.hasOwnProperty("_contract")||this.parseAsFutures(),!(arguments.length>0))return this._root;null==e?delete this._contract:(this._contract=e+"",this._root&&(this._ticker=this._root+this._contract))},t(f,n),f.prototype.toString=function(){return this.hasOwnProperty("_normalizedValue")?this._normalizedValue:this.value},f.prototype.parse=function(){this._normalizedValue=this.value.replace(/^0+|\.0*$/g,"").replace(/(\.\d*?)0+$/,"$1").replace(/^(\.|$)/,"0$1")},_.prototype.toString=function(){return this.value},t(y,b),y.prototype.isIncomplete=!0,y.prototype.incompleteSuggest=function(){if("'"!==this.value)return String("'")},t(v,f),v.prototype.isIncomplete=!0;var C=new RegExp(e.map((function(e){return"("+("string"==typeof e.pattern?e.pattern.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&"):e.pattern.source)+")"})).concat(".").join("|"),"g");function S(t,n){var i,r=[];e:for(;i=C.exec(t);){
for(var a=e.length;a--;)if(i[a+1]){if(e[a].ctor){var s=new e[a].ctor(i[a+1]);s._offset=i.index,r.push(s)}continue e}var l=new _(i[0]);l._offset=i.index,r.push(l)}if(n&&n.recover){var c;for(a=r.length;a--;){var d=r[a];if(d instanceof f||d instanceof b){if(void 0!==c){var u=new b(""),h=r.splice(a,c-a+1,u);u.value=h.map((function(e){return e.value})).join("")}c=a}else d instanceof o||(c=void 0)}}return r}function w(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof o||t.push(e[n]);return t}function E(e){e=w(e);for(var t,n=[],i=[],r=0;r<e.length;r++){var o=e[r];if(o instanceof l)i.length&&i[i.length-1].minPrecedence>o.precedence&&(i[i.length-1].minPrecedence=o.precedence);else if(o instanceof a)i.push(t={minPrecedence:1/0,openBraceIndex:r});else if(o instanceof s){var c=e[(t=i.pop()).openBraceIndex-1],d=e[r+1];d instanceof l&&!(d.precedence<=t.minPrecedence)||!(!(c instanceof l)||c.precedence<t.minPrecedence||c.precedence===t.minPrecedence&&c.commutative)||(n.unshift(t.openBraceIndex),n.push(r),i.length&&i[i.length-1].minPrecedence>t.minPrecedence&&(i[i.length-1].minPrecedence=t.minPrecedence))}}for(r=n.length;r--;)e.splice(n[r],1);return e}function W(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return(e=S(e)).filter((function(e){return e instanceof b})).map((function(e){return e.exchange()})).filter((function(e){return e}))}function k(e){return 1!==(e=W(e)).length?null:e[0]}function P(e,t){return(e=W(e)).some((function(e){return t.includes((e||"").toUpperCase())}))}function A(e){return e.join("")}return{tokenize:S,validate:function(e){if(i.enabled("charting_library_base"))return{currentState:"var"};for(var t="init",n="var",r=t,c={warnings:[],errors:[],isEmpty:!0},d=[],u=0;u<e.length;u++){if(!((g=e[u])instanceof o)){if(delete c.isEmpty,g.isIncomplete){var h={status:"incomplete",reason:"incomplete_token",offset:g._offset,token:g};if(g.incompleteSuggest&&(h.recover={append:g.incompleteSuggest()}),c.warnings.push(h),u!==e.length-1){h.status="error";continue}}if(g instanceof b||g instanceof f){if(r===n){c.errors.push({status:"error",reason:"unexpected_token",offset:g._offset,token:g});continue}r=n}else if(g instanceof l){if(r!==n){c.errors.push({status:"error",reason:"unexpected_token",offset:g._offset,token:g});continue}r="operator"}else if(g instanceof a){if(r===n){c.errors.push({status:"error",reason:"unexpected_token",offset:g._offset,token:g});continue}d.push(g),r=t}else if(g instanceof s){if(r!==n){c.errors.push({status:"error",reason:"unexpected_token",offset:g._offset,token:g});continue}d.pop()||c.errors.push({status:"error",reason:"unbalanced_brace",offset:g._offset,token:g,recover:{prepend:new a}}),r=n}else g instanceof _&&c.errors.push({status:"error",reason:"unparsed_entity",offset:g._offset,token:g})}}for(c.braceBalance=d.length,r!==n&&c.warnings.push({status:"incomplete"});d.length;){var g;h={status:"incomplete",reason:"unbalanced_brace",offset:(g=d.pop())._offset,token:g};r===n&&(h.recover={append:new s}),c.warnings.push(h)}return c.currentState=r,
0===c.warnings.length&&delete c.warnings,0===c.errors.length&&delete c.errors,c},factorOutBraces:E,normalizeTokens:function(e){for(var t=0;t<e.length;t++)e[t].parse&&e[t].parse();return e},flip:function(e){var t=function(e){for(var t,n=0,i=1,r=2,c=3,d=n,u=0,g=0;g<e.length;g++){var p=e[g];if(!(p instanceof o))switch(d){case n:if(!(p instanceof f&&1==+p.value))return!1;d=i;break;case i:if(!(d===i&&p instanceof h))return!1;d=r,t=g+1;break;case r:if(p instanceof a)d=c,u=1;else if(p instanceof l)return!1;break;case c:p instanceof a?u++:p instanceof s&&--u<=0&&(d=r)}}return e.slice(t)}(e);return E(t||[new f("1"),new h,new a].concat(e).concat(new s))},hasBatsSymbols:function(e){return P(e,["BATS"])},hasEodSymbols:function(e){return(e=k(e))&&-1!==e.toUpperCase().indexOf("_EOD")},hasChxjpySymbols:function(e){return P(e,["CHXJPY"])},hasFreeDelaySymbols:function(e){return P(e,pro.getProductsByType(pro.PRODUCT_TYPES.exchange).map((function(e){return e.exchange.toUpperCase()+"_DLY"})))},getExchange:k,getExchanges:W,isExchange:function(e,t){return!!(e=k(e))&&e.substring(0,t.length)===t},SymbolToken:b,IncompleteSymbolToken:y,NumberToken:f,BinaryOperatorToken:l,OpenBraceToken:a,CloseBraceToken:s,ticker:function(e){return new b(e).ticker()},shortName:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");var t=E(w(S(e)));return t.forEach((function(e){e instanceof b&&e.exchange(null)})),A(t)},normalize:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return A(E(w(S(e))))}}}();e.exports=o},364367:(e,t,n)=>{"use strict";var i;n.d(t,{HeaderToolbarComponentIds:()=>i}),function(e){e.SymbolSearch="header-toolbar-symbol-search",e.Intervals="header-toolbar-intervals",e.ChartStyles="header-toolbar-chart-styles",e.Compare="header-toolbar-compare",e.Indicators="header-toolbar-indicators",e.StudyTemplates="header-toolbar-study-templates",e.Dropdown="header-toolbar-dropdown",e.Alerts="header-toolbar-alerts",e.Layouts="header-toolbar-layouts",e.SaveLoad="header-toolbar-save-load",e.UndoRedo="header-toolbar-undo-redo",e.Properties="header-toolbar-properties",e.QuickSearch="header-toolbar-quick-search",e.PublishDesktop="header-toolbar-publish-desktop",e.PublishMobile="header-toolbar-publish-mobile",e.Fullscreen="header-toolbar-fullscreen",e.Screenshot="header-toolbar-screenshot",e.Replay="header-toolbar-replay",e.Financials="header-toolbar-financials"}(i||(i={}))},641860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BacktestingStrategyDispatcher:()=>l});var i=n(62802),r=n(707957),o=n(306682),a=n(980004);var s=n(268222);class l{constructor(e){this._chartWidgetCollection=null,this._chartWidgets=[],this._model=null,this._activeChartChanged=!1,this._activeChartWidget=null,this._strategies=[],this._modelStrategies=[],this._recentlyAddedStrategy=null,this._ready=(0,s.createDeferredPromise)(),this._filled=(0,s.createDeferredPromise)(),this._change=new r.Delegate,this._initModel=async e=>{const t=e.model(),n=await this._getChartModelStrategySources(t);if(n.length&&!t.activeStrategySource().value()){
const e=i.getValue("backtesting.lastStrategySelectedScriptIdPart");let t;if(e)for(let i=0;i<n.length;i++)if(n[i].metaInfo().scriptIdPart===e){t=n[i];break}t||(t=n[n.length-1]),this.setActiveStrategy(t,this._model)}},this._applyModel=e=>{e!==this._model&&(this._model&&this._model.model().strategySourcesChange().unsubscribe(null,this._onStrategiesChange),this._strategies=[],this._model=e,this._model.model().strategySourcesChange().subscribe(null,this._onStrategiesChange)),this._onStrategiesChange()},this._onStrategiesChange=e=>{clearTimeout(this._updateToId),this._updateToId=setTimeout(this._updateStrategies.bind(this,e),100)},this._onActiveChartWidgetChange=e=>{var t,n;this._model&&(this._activeChartChanged=!0),e.hasModel()?this._applyModel(e.model()):(null===(n=null===(t=this._activeChartWidget)||void 0===t?void 0:t.modelCreated())||void 0===n||n.unsubscribe(null,this._applyModel),e.modelCreated().subscribe(null,this._applyModel)),this._activeChartWidget=e},this._onLayoutChange=()=>{if(this._chartWidgetCollection){if(this._chartWidgets)for(const e of this._chartWidgets)e.modelCreated().unsubscribe(null,this._initModel);this._chartWidgetCollection.getAll().forEach((e=>{-1===this._chartWidgets.indexOf(e)&&(this._chartWidgets.push(e),e.hasModel()?this._initModel(e.model()):e.modelCreated().subscribe(null,this._initModel))}))}},this._setChartWidgetCollection(e,!0)}model(){return this._model}chartWidgetCollection(){return this._chartWidgetCollection?this._chartWidgetCollection:null}ready(){return this._ready.promise}change(){return this._change}filled(){return this._filled.promise}recentlyAddedStrategy(){return this._recentlyAddedStrategy}strategies(){return this._strategies}setActiveStrategy(e,t){const n=t&&t.model()||null!==this._model&&this._model.model();n&&(n.setActiveStrategySource(e),n.updateSource(e))}unsetActiveStrategy(e){const t=e&&e.model()||this._model&&this._model.model();t&&t.unsetActiveStrategySource()}destroy(){var e,t;this._chartWidgetCollection&&(this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChange),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartWidgetChange),this._chartWidgetCollection=null),this._model&&this._model.model().strategySourcesChange().unsubscribe(null,this._onStrategiesChange);for(const e of this._modelStrategies)e.onIsActualIntervalChange().unsubscribe(this,this._updateStrategies);if(this._chartWidgets)for(const e of this._chartWidgets)e.modelCreated().unsubscribe(null,this._initModel);null===(t=null===(e=this._activeChartWidget)||void 0===e?void 0:e.modelCreated())||void 0===t||t.unsubscribe(null,this._applyModel),this._activeChartWidget=null,this._modelStrategies=[],this._strategies=[],this._model=null,this._chartWidgets=[],this._recentlyAddedStrategy=null}_setChartWidgetCollection(e,t){(e&&e!==this._chartWidgetCollection||!0===t)&&(this._chartWidgetCollection&&(this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChange),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartWidgetChange)),
this._chartWidgetCollection=e,this._chartWidgetCollection.layout.subscribe(this._onLayoutChange,{callWithLast:!0}),this._chartWidgetCollection.activeChartWidget.subscribe(this._onActiveChartWidgetChange,{callWithLast:!0}))}_isStrategySource(e){var t;let n;return"metaInfo"in e?n=e.metaInfo():e instanceof o.StudyStub&&(n=e.state(!0)&&(null===(t=e.state(!0))||void 0===t?void 0:t.metaInfo)),Boolean(n&&n.isTVScriptStrategy)}async _getChartModelStrategySources(e){return new Promise((t=>{const n={},i={},r=e.dataSources();let s;for(let e=0;e<r.length;e++)s=r[e],this._isStrategySource(s)&&(s instanceof a.StudyStrategy?n[s.id()]=s:s instanceof o.StudyStub&&(i[s.id()]=s));function l(e){return Object.keys(e).map((t=>e[t]))}Object.keys(i).length?e.strategySourcesChange().subscribe(null,(function r(){let o,a;for(let t=0;t<e.strategySources().length;t++)o=e.strategySources()[t],a=o.id(),i[a]&&(n[a]=o,delete i[a]);Object.keys(i).length||(e.strategySourcesChange().unsubscribe(null,r),t(l(n)))})):t(l(n))}))}_getRecentlyAddedStrategy(e,t){return this._activeChartChanged?null:e.length-t.length==1?e[e.length-1]:null}async _updateStrategies(e){if(this._recentlyAddedStrategy=null,null===this._model)return;for(const e of this._modelStrategies)e.onIsActualIntervalChange().unsubscribe(this,this._updateStrategies);this._modelStrategies=this._model.model().strategySources();for(const e of this._modelStrategies)e.onIsActualIntervalChange().subscribe(this,this._updateStrategies);const t=this._modelStrategies.filter((e=>e.properties().childs().visible.value()&&e.isVisible())),n=this._strategies;this._strategies=t&&t.slice()||[];const i=this._getRecentlyAddedStrategy(t,n),r=2===e;i?(this._recentlyAddedStrategy=i,this._change.fire(n,this._strategies,this._activeChartChanged,r,i)):this._change.fire(n,this._strategies,this._activeChartChanged,r),this._activeChartChanged=!1,this._ready.resolve(),this._strategies.length&&this._filled.resolve()}}},201543:(e,t,n)=>{"use strict";n.d(t,{ensureSettings:()=>d,getUserSettings:()=>l,setUserSettings:()=>c});var i=n(130551);const r="chart.bottom-widgetbar";var o=n(62802),a=n.n(o);const s={activeWidget:"screener",height:320,mode:"minimized"};function l(){return a().getJSON(r)}function c(e){a().setJSON(r,e)}function d(e,t=s){if(!(0,i.isObject)(e))return t;let n=t.activeWidget;(0,i.hasProperty)(e,"activeWidget")&&function(e){if("string"!=typeof e)return!1;return["backtesting","screener","scripteditor","paper_trading"].includes(e)}(e.activeWidget)&&(n=e.activeWidget);let r=t.mode;(0,i.hasProperty)(e,"mode")&&function(e){if("string"!=typeof e)return!1;return["minimized","normal","maximized"].includes(e)}(e.mode)&&(r=e.mode);let o=t.height;return(0,i.hasProperty)(e,"height")&&function(e){return"number"==typeof e&&isFinite(e)}(e.height)&&(o=e.height),{activeWidget:n,mode:r,height:o}}},397515:(e,t,n)=>{"use strict";n.d(t,{footerWidgetHeight:()=>i});const i=39},919892:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_ADJUSTMENT:()=>r,DEFAULT_SESSION:()=>i,DEFAULT_SETTLEMENT_AS_CLOSE:()=>o,compareSymbols:()=>m,
decodeExtendedSymbol:()=>h,encodeExtendedSymbolOrGetSimpleSymbolString:()=>d,isEncodedExtendedSymbol:()=>u,isReplaySymbol:()=>c,isStudySymbol:()=>l,unwrapSimpleSymbol:()=>g});const i="regular",r="splits",o=!0;function a(e){return"="+JSON.stringify(s(e))}function s(e){return Object.keys(e).sort().reduce(((t,n)=>("[object Object]"===Object.prototype.toString.call(e[n])?t[n]=s(e[n]):t[n]=e[n],t)),{})}function l(e){return Boolean(e.inputs)}function c(e){return Boolean(e.replay)}function d(e){return l(e)||c(e)||e.session||e.adjustment||e["currency-id"]||e["unit-id"]?a(e):e.symbol}function u(e){return"="===e[0]}function h(e){if(!u(e))return{symbol:e};try{return JSON.parse(e.slice(1))}catch(t){return{symbol:e}}}function g(e){return"string"==typeof e?e:g(e.symbol)}const p=["symbol","session","unit-id","currency-id","adjustment","backadjustment","settlement-as-close"];function m(e,t){return p.every((n=>e[n]===t[n]))}},993970:(e,t,n)=>{"use strict";n(526075),n(922814)},269810:(e,t,n)=>{"use strict";var i=n(895370),r=(n(685912),n(379880),n(77122)),o=(n(42292),n(707040)),a=n(510013);class s extends a.ChunkLoader{_startLoading(){return Promise.all([n.e(18809),n.e(11165),n.e(52608),n.e(27652),n.e(22666),n.e(62253),n.e(5993),n.e(92191),n.e(9817),n.e(92108),n.e(53842),n.e(4015),n.e(66639),n.e(93502),n.e(88548),n.e(35649),n.e(36884),n.e(30006),n.e(33199),n.e(91033),n.e(58056),n.e(46036),n.e(49205),n.e(64534),n.e(67080),n.e(15518),n.e(98149),n.e(12494),n.e(36752),n.e(96025),n.e(45166),n.e(92175),n.e(59185),n.e(56949),n.e(68439),n.e(64641),n.e(10102),n.e(53979),n.e(10524),n.e(94643),n.e(71550),n.e(32157),n.e(71849),n.e(79410),n.e(46551),n.e(48396),n.e(18140),n.e(12651),n.e(45996),n.e(51060)]).then(n.bind(n,649105)).then((e=>e.getToolSet()))}}var l=n(852694),c=n(618820),d=n(24958),u=n(62802),h=n.n(u),g=n(474474),p=n(477600),m=n(266325);class b extends a.ChunkLoader{constructor(e){super(),this._options=e;const t=r.enabled("hide_right_toolbar")?0:this._calcWidgetBarWidth();this._options.resizerBridge.negotiateWidth(t),this._options.resizerBridge.container.value().appendChild((0,p.createStubElem)())}async _startLoading(e){const{tradingPromise:t,resizerBridge:n,affectsLayout:i,showWizardFn:r,showCloseButton:o,areShortcutsAvailable:a,chartWidgetCollection:s,settingsPrefix:l,customization:c,readonly:d,configuration:u}=this._options,[h,g]=await Promise.all([this._loadWidgetBar(),t]),p=null!==g?{tradingPanel:g.tradingPanel,setDOMPanelVisibility:g.setDOMPanelVisibility.bind(g),setOrderPanelVisibility:g.setOrderPanelVisibility.bind(g)}:void 0;if(null==e?void 0:e.aborted)throw(0,m.createAbortError)();return new h({resizerBridge:n,affectsLayout:i,showCloseButton:o,showWizardFn:r,areShortcutsAvailable:a,chartWidgetCollection:s,settingsPrefix:l,customization:c,readonly:d,tradingPanelAccessor:p,configuration:u})}async _loadWidgetBar(){
return(await Promise.all([n.e(18809),n.e(48775),n.e(86278),n.e(92191),n.e(72639),n.e(32109),n.e(9817),n.e(4015),n.e(13423),n.e(89842),n.e(88548),n.e(76592),n.e(54712),n.e(33371),n.e(52681),n.e(54690),n.e(42254),n.e(63987),n.e(3436),n.e(47341),n.e(5662),n.e(58056),n.e(42244),n.e(6744),n.e(76972),n.e(58666),n.e(39164),n.e(15697),n.e(46987),n.e(58961),n.e(68299),n.e(45932),n.e(11754),n.e(44861),n.e(7368),n.e(81016),n.e(28273),n.e(80925),n.e(40153),n.e(30383),n.e(26300),n.e(85529),n.e(86253),n.e(9437),n.e(78803),n.e(93399),n.e(47792),n.e(57953),n.e(60146),n.e(94021),n.e(54994),n.e(54876)]).then(n.bind(n,979353))).WidgetBar}_calcWidgetBarWidth(){const e=h().getJSON(`${this._options.settingsPrefix}.layout-settings`,{settings:(0,g.getDefaultState)()});void 0===e.settings.minimized&&(e.settings.minimized=!r.enabled("show_right_widgets_panel_by_default"));const t=r.enabled("widgetbar_tabs")?45:0;return e.settings.minimized?t:t+e.settings.width+1}}var f=n(397515),_=n(201543);class y extends a.ChunkLoader{constructor(e){super(),this._opts=e;const t=(0,_.ensureSettings)({activeWidget:e.defaultActiveWidget,mode:e.mode}),{mode:n,height:i}=this._userSettings=(0,_.ensureSettings)((0,_.getUserSettings)(),t),r=this._opts.resizerBridge,o=r.container.value();switch(n){case"maximized":r.negotiateHeight(r.availHeight.value());break;case"normal":r.negotiateHeight(i+f.footerWidgetHeight);break;case"minimized":r.negotiateHeight(f.footerWidgetHeight)}o.appendChild((0,p.createStubElem)())}_startLoading(){return Promise.all([this._loadBottomWidgetbar(),this._opts.configBootloader.load()]).then((([e,t])=>new e({resizerBridge:this._opts.resizerBridge,chartWidgetCollection:this._opts.chartWidgetCollection,backtestingStrategyDispatcher:this._opts.backtestingStrategyDispatcher,studyMarket:this._opts.studyMarket,widgets:this._opts.widgets,config:t},this._userSettings)))}_loadBottomWidgetbar(){return Promise.all([n.e(54712),n.e(80020),n.e(14193)]).then(n.bind(n,879017)).then((e=>e.Bottomwidgetbar))}}var v=n(641860);class C extends a.ChunkLoader{_startLoading(){
return Promise.all([n.e(18809),n.e(22309),n.e(11165),n.e(31410),n.e(58433),n.e(76234),n.e(46948),n.e(91826),n.e(42826),n.e(20681),n.e(22666),n.e(62253),n.e(5993),n.e(92191),n.e(72639),n.e(34465),n.e(32109),n.e(69121),n.e(9817),n.e(92108),n.e(53842),n.e(4015),n.e(88194),n.e(66639),n.e(87845),n.e(48986),n.e(93502),n.e(89842),n.e(68992),n.e(88548),n.e(81643),n.e(54712),n.e(35649),n.e(38669),n.e(36884),n.e(5145),n.e(25190),n.e(30006),n.e(33371),n.e(54690),n.e(91033),n.e(48155),n.e(45896),n.e(58056),n.e(47325),n.e(26855),n.e(49205),n.e(6209),n.e(40866),n.e(63830),n.e(60007),n.e(43610),n.e(90684),n.e(21625),n.e(67080),n.e(61631),n.e(96899),n.e(99916),n.e(15518),n.e(36956),n.e(77807),n.e(9227),n.e(22486),n.e(56388),n.e(96260),n.e(89434),n.e(74188),n.e(43445),n.e(18511),n.e(58289),n.e(46987),n.e(16579),n.e(55480),n.e(45166),n.e(41105),n.e(1793),n.e(7527),n.e(70647),n.e(27208),n.e(13359),n.e(81721),n.e(28497),n.e(63160),n.e(1522),n.e(29392),n.e(25977),n.e(26300),n.e(30979),n.e(39501),n.e(9050),n.e(10949),n.e(78309),n.e(6676),n.e(44246),n.e(68985),n.e(93399),n.e(71286),n.e(46551),n.e(60111),n.e(7850),n.e(48396),n.e(93196),n.e(5972),n.e(36391),n.e(19922),n.e(88800)]).then(n.bind(n,232498)).then((e=>e.getFullConfigSet()))}}class S extends a.ChunkLoader{constructor(e){super(),this._opts=e}_startLoading(){return Promise.all([this._opts.bottomWidgetbarBootloader.load(),this._loadFooterWidget()]).then((([e,t])=>{const{resizerBridge:n}=this._opts;return new t(e.footerWidgetContainer(),n,e)}))}_loadFooterWidget(){return Promise.all([n.e(22666),n.e(5993),n.e(53842),n.e(4015),n.e(35649),n.e(30006),n.e(58056),n.e(67080),n.e(15518),n.e(45166),n.e(1522),n.e(33026),n.e(48396),n.e(37707)]).then(n.bind(n,455926)).then((e=>e.FooterWidgetRenderer))}}var w=n(599950),E=n(325050),W=n.n(E),k=n(372006),P=n(555405),A=n(270294),T=n(564894),B=n(374682),F=n(558793),D=n(813773),x=n(650151),M=n(607546);function I(e){return null==e?"":e>0?`+${e}%`:e<0?`âˆ’${Math.abs(e)}%`:"0%"}function L(e){return null==e?0:e>0?1:e<0?-1:0}function O(e,t){return null==e?"":t.format(e)}const z=window.TVD?window.TVD.setTitle:function(e){const t=[];e.symbol&&t.push(e.symbol),e.last&&(t.push(e.last),e.changeSign&&t.push(e.changeSign>0?"â–²":"â–¼"),e.changePercent&&t.push(e.changePercent),e.name&&t.push(e.name)),0===t.length&&t.push("New Chart"),document.title=t.join(" ")};class N{constructor(e){this._currentSeries=null,this._onLayoutChanged=e=>{this._rendererData.layout=e,this._updateView()},this._onNameChanged=e=>{this._rendererData.name=e,this._updateView()},this._updateView=()=>{z(this._rendererData)},this._onSymbolOrFormatterChanged=()=>{const e=(0,x.ensureNotNull)(this._currentSeries),t=e.quotesProvider().quotes(),n={logoid:null==t?void 0:t.logoid,"currency-logoid":null==t?void 0:t["currency-logoid"],"base-currency-logoid":null==t?void 0:t["base-currency-logoid"]};this._rendererData={name:this._rendererData.name,layout:this._rendererData.layout,symbol:e.symbol().replace(/\w+:/g,""),last:O(t&&t.last_price,e.formatter()),changePercent:I(t&&t.change_percent),
changeSign:L(t&&t.change_percent),logoUrls:null!==t?(0,M.removeUsdFromCryptoPairLogos)((0,M.resolveLogoUrls)(n)):[]},this._updateView()},this._onQuoteData=(e,t)=>{const n=t.values,i=n.change_percent,r=n.last_price;let o=!1;if(void 0!==i&&(this._rendererData.changeSign=L(i),this._rendererData.changePercent=I(i),o=!0),void 0!==r){const e=(0,x.ensureNotNull)(this._currentSeries);this._rendererData.last=O(r,e.formatter()),o=!0}if(void 0!==n.logoid||void 0!==n["currency-logoid"]||void 0!==n["base-currency-logoid"]){const e={logoid:n.logoid,"currency-logoid":n["currency-logoid"],"base-currency-logoid":n["base-currency-logoid"]};this._rendererData.logoUrls=(0,M.removeUsdFromCryptoPairLogos)((0,M.resolveLogoUrls)(e)),o=!0}o&&this._updateView()},this._onActiveChartChanged=()=>{this._unsubscribeFromCurrentSeriesEvents();const e=this._chartWidgetCollection.activeChartWidget.value();e.withModel(null,(()=>{this._chartWidgetCollection.activeChartWidget.value()===e&&(this._currentSeries=e.model().mainSeries(),this._subscribeToCurrentSeriesEvents(),this._onSymbolOrFormatterChanged())}))},this._chartWidgetCollection=e,this._rendererData={symbol:"",last:"",changeSign:0,changePercent:"",name:this._chartWidgetCollection.metaInfo.name.value(),layout:this._chartWidgetCollection.layout.value(),logoUrls:[]},this._chartWidgetCollection.layout.subscribe(this._onLayoutChanged),this._chartWidgetCollection.metaInfo.name.subscribe(this._onNameChanged),this._chartWidgetCollection.activeChartWidget.subscribe(this._onActiveChartChanged),this._onActiveChartChanged()}destroy(){this._chartWidgetCollection.layout.unsubscribe(this._onLayoutChanged),this._chartWidgetCollection.metaInfo.name.unsubscribe(this._onNameChanged),this._chartWidgetCollection.activeChartWidget.unsubscribe(this._onActiveChartChanged),this._unsubscribeFromCurrentSeriesEvents(),this._currentSeries=null}_unsubscribeFromCurrentSeriesEvents(){if(null!==this._currentSeries){this._currentSeries.formatterChanged().unsubscribeAll(this);const e=this._currentSeries.quotesProvider();e.quoteSymbolChanged().unsubscribeAll(this),e.quotesUpdate().unsubscribeAll(this)}}_subscribeToCurrentSeriesEvents(){if(null!==this._currentSeries){this._currentSeries.formatterChanged().subscribe(this,this._onSymbolOrFormatterChanged);const e=this._currentSeries.quotesProvider();e.quoteSymbolChanged().subscribe(this,this._onSymbolOrFormatterChanged),e.quotesUpdate().subscribe(this,this._onQuoteData)}}}var U=n(653323),V=n(515105),q=n(811020),j=n(580279),H=n(448851),R=n(583912),G=n(847499),$=n.n(G),Q=n(344829),J=n(175203),Y=n(226722),Z=n(124696),X=n(308721),K=n(909740),ee=n(975774),te=n(588948),ne=n(775548),ie=n(676062),re=n(251954),oe=n(708706),ae=n(444372);const se=ae.t(null,void 0,n(539005));var le=n(364367),ce=n(638456),de=n(347129),ue=n(487381),he=n(782618);function ge(e,t){const i=ae.t(null,void 0,n(274053));let r=null;const o=e.getContainer();re.on("onInternalFullscreenShow",(()=>{return e=i,void(r?r.show(e):Promise.all([n.e(32109),n.e(6209),n.e(40719),n.e(8420)]).then(n.bind(n,269531)).then((n=>{
r||(r=new n.FullscreenHintRenderer((0,x.ensureNotNull)(o),{bottomPadding:t.seriesControlBarEnabled}),r.show(e))})));var e}),null),re.on("onInternalFullscreenHide",(()=>null==r?void 0:r.hide()),null)}var pe=n(332827),me=n(361876),be=n(799786);let fe=null;var _e=n(50959),ye=n(500962),ve=n(83436),Ce=n(18182),Se=n(364366),we=n(906158);function Ee(e){return _e.createElement(Ce.MatchMedia,{rule:"screen and (max-width: 430px)"},(e=>_e.createElement("div",{className:we.offlineBar},_e.createElement(ve.Icon,{className:we.icon,icon:Se}),_e.createElement("span",{className:we.text},e?ae.t(null,void 0,n(17806)):ae.t(null,void 0,n(759592))))))}class We{constructor(e){this._resizer=e,this._container=e.container.value()}show(){this._resizer.negotiateHeight(30),ye.render(_e.createElement(Ee,null),this._container)}hide(){ye.unmountComponentAtNode(this._container),this._resizer.negotiateHeight(0)}}var ke=n(814083),Pe=n(199472),Ae=n(125226),Te=n(778785),Be=n(707957),Fe=(n(993970),n(974493)),De=n(760641),xe=n(722329);var Me=n(306388),Ie=n(389137),Le=n(650969),Oe=n(48731),ze=n(373571),Ne=n(580602);var Ue,Ve=n(600225),qe=n(807655);(0,i.addPerfMark)("main_chart.ExecuteStart"),(0,me.registerSiteSymbolListBackend)(window.ChartApiInstance),(0,te.updateInitData)();const je=(0,te.getInitData)(),He=je.readOnly;const Re=!ce.CheckMobile.any()&&(0,Ae.isFeatureEnabled)("internal_fullscreen_api"),Ge=new Fe.Root(window,Re),$e=new De.ChartPage(Ge.allocate()),Qe=$e.allocate({areaName:"extratop"}),Je=$e.allocate({areaName:"topleft"}),Ye=$e.allocate({areaName:"top"}),Ze=$e.allocate({areaName:"left"}),Xe=$e.allocate({areaName:"center"}),Ke=$e.allocate({areaName:"right"}),et=$e.allocate({areaName:"bottom"}),tt=He?null:$e.allocate({areaName:"tradingpanel"}),nt=new(W())({resizerBridge:Xe,padding:2,content:je.content,readOnly:je.readOnly,saveChartEnabled:!0,takeScreenshotEnabled:!0,publishedChartsEnabled:!0,widgetOptions:{defSymbol:je.defSymbol||(je.content?"":u.getValue("editchart.model.symbol",window.DEFAULT_SYMBOL)),defInterval:je.defInterval||(je.content?"":u.getValue("editchart.model.interval")),defStyle:null!==(Ue=je.defStyle)&&void 0!==Ue?Ue:je.content?"":u.getValue("editchart.model.style"),addToWatchlistEnabled:!0,showFinancialsEnabled:!0,propertyPagesEnabled:!0,chartEventsEnabled:!0,newsNotificationsEnabled:!0,esdEnabled:!0,latestUpdatesEnabled:Oe.latestUpdatesAvailableOnDevice,continuousContractSwitchesEnabled:!0,futuresContractExpirationEnabled:!0,controlBarEnabled:!0,addVolume:!0,justCloned:je.justCloned,isDrawingToolbarVisible:c.isDrawingToolbarVisible,lastPriceAnimationEnabled:!location.search.toLowerCase().includes("disablelastpriceanimation"),crossHair:{menuEnabled:!je.readOnly},paneContextMenuEnabled:!je.readOnly,paneContextMenu:{mainSeriesTrade:!je.readOnly},currencyConversionEnabled:!0,unitConversionEnabled:!0,isSymbolAvailable:ie.isSymbolAvailable,requestFallbackSymbol:ie.requestFallbackSymbol,timeScaleWidget:{contextMenuEnabled:!0,timezoneMenuEnabled:!0,priceAxisLabelsOptions:{showLabels:!je.readOnly}},timeScale:{preserveBarSpacing:!1,
lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!0,legendWidget:{contextMenu:{settings:r.enabled("show_chart_property_page"),showOpenMarketStatus:!0},symbolMarkerEnabled:!0},goToDateEnabled:!0,compareSymbols:ke.defaultCompareSymbols},seriesControlBarEnabled:!je.readOnly,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!0,availableTimeFrames:ne.availableTimeFrames},timeWidgetEnabled:!0,timeWidget:{timezoneMenuEnabled:!0},adjustForDividendsButtonEnabled:!0,sessionIdButtonEnabled:!0,backAdjustmentButtonEnabled:!0,settlementAsCloseButtonEnabled:!0,percentageScaleButtonEnabled:!1,logScaleButtonEnabled:!1,autoScaleButtonEnabled:!1,fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:ce.CheckMobile.any()},metaInfo:je.metaInfo,globalEvents:!0,mobileForceChartMaximizeEnabled:ce.CheckMobile.any()});let it=!1;nt.onAboutToBeDestroyed.subscribe(null,(()=>{it=!0}),!0),async function(){const{addBrandingSource:e}=await Promise.all([n.e(27351),n.e(30187)]).then(n.bind(n,532989));e(nt)}(),r.enabled("alerts")&&((0,F.getChartAlertsFacade)().then((e=>{e.setChartWidgetCollection(nt)})),n.e(20645).then(n.bind(n,835819)).then((e=>{e.initGlobalAlertsHotkeys(nt)})));const rt=new Be.Delegate,ot=tt?new d.TradingBootloader({resizerBridge:tt,chartWidgetCollection:nt,bottomWidgetBarSettled:rt}).load():null;if(je.readOnly||(0,B.createFavoriteDrawingToolbar)(),!nt.readOnly()){const e=new Ve.IndicatorsPreloader;window.studyMarket=new Z.StudyMarket(nt,{indicatorsPreloader:e,onWidget:!1})}T.registerService(A.CHART_WIDGET_COLLECTION_SERVICE,nt);{const e=(0,Pe.subscriptionNotification)();e.on(Pe.SubscriptionEventType.Subscribe,(()=>{e.showChartNotification()})),e.on(Pe.SubscriptionEventType.Upgrade,(()=>{e.showChartNotification()})),e.on(Pe.SubscriptionEventType.AgreementSigned,(()=>{e.showChartAgreementNotification()}))}R.linking.bindToChartWidgetCollection(nt),k.SupportTicketData.setChartWidgetCollection(nt),window.scriptUpdater=new P.ScriptUpdater(nt),window._exposed_chartWidgetCollection=nt,je.theme?(0,K.setTheme)(je.theme):(0,X.restoreTheme)(),window.saver=new D.ChartSaver(nt);const at=new oe.ChartChangesWatcher(nt,window.saver,re),st=new V.FavoriteStudyTemplateService(Y.TVXWindowEvents,u),lt=new q.SaveChartService(nt,window.saver);nt.setSaveChartService(lt);const ct=new j.SharingChartService(!!je.sharing_enabled,nt.metaInfo.uid.value(),nt.metaInfo.id.value()),dt=new H.LoadChartService(nt),ut=new v.BacktestingStrategyDispatcher(nt),ht=Te.mobiletouch?["full"]:void 0;function gt(e){if(!(e.target instanceof Element))return;const t=document.getElementById(le.HeaderToolbarComponentIds.PublishDesktop),n=document.getElementById(le.HeaderToolbarComponentIds.PublishMobile);if(t&&t.contains(e.target)||n&&n.contains(e.target))return;const i=TradingView.bottomWidgetBar;i&&i.turnOffMaximize()}const pt=new U.StudyTemplates({favoriteStudyTemplatesService:st,chartWidgetCollection:nt});window.TradingViewApi=new($())({chartApiInstance:window.ChartApiInstance,chartWidgetCollection:nt,saveChartService:lt,loadChartService:dt,
sharingChartService:ct,studyMarket:window.studyMarket});const mt=ce.CheckMobile.any()?void 0:function(){const e=e=>Promise.all([n.e(18809),n.e(11165),n.e(31410),n.e(61637),n.e(77394),n.e(22666),n.e(62253),n.e(5993),n.e(92191),n.e(72639),n.e(34465),n.e(32109),n.e(69121),n.e(9817),n.e(92108),n.e(53842),n.e(4015),n.e(88194),n.e(66639),n.e(93502),n.e(89842),n.e(54712),n.e(35649),n.e(13152),n.e(38669),n.e(5145),n.e(25190),n.e(30006),n.e(33371),n.e(84281),n.e(91033),n.e(58056),n.e(47325),n.e(26855),n.e(40866),n.e(43610),n.e(90684),n.e(21625),n.e(61631),n.e(96899),n.e(99916),n.e(36956),n.e(77807),n.e(9227),n.e(56388),n.e(24215),n.e(98149),n.e(35542),n.e(43445),n.e(58289),n.e(16579),n.e(36752),n.e(55480),n.e(20087),n.e(3982),n.e(33444),n.e(14937),n.e(83347),n.e(26300),n.e(30979),n.e(29594),n.e(64420),n.e(6676),n.e(71286),n.e(46551),n.e(60111),n.e(80333),n.e(18552),n.e(91890),n.e(3780),n.e(1613),n.e(97669),n.e(59754)]).then(n.bind(n,975959)).then((t=>{const n=new(0,t.GlobalSearchDialogRenderer);return null!==fe&&fe.hide(),n.show(e),fe=n,n}));return(0,be.createGroup)({desc:"GlobalSearch"}).add({desc:"Open",hotkey:be.Modifiers.Mod+75,handler:()=>e()}),e}(),bt=new o.HeaderToolbarBootloader(new s,{resizerBridge:Ye,ideas:!0,chartSaver:window.saver,chartApiInstance:window.ChartApiInstance,availableTimeFrames:ne.availableTimeFrames,allowedModes:ht,chartWidgetCollection:nt,studyMarket:window.studyMarket,studyTemplates:pt,favoriteStudyTemplatesService:st,saveChartService:lt,sharingChartService:ct,loadChartService:dt,chartChangesWatcher:at,onClick:gt,openGlobalSearch:mt}),ft=new Be.Delegate,_t=new w.TopLeftButtonBootloader({resizerBridge:Je,chartChangesWatcher:at,chartWidgetCollection:nt,saveChartService:lt,sharingChartService:ct,loadChartService:dt,chartSaver:window.saver,isSupportAvailable:Boolean(window.initData.is_support_available),widgetbarSettled:ft}),yt=new l.DrawingToolbarBootloader({resizerBridge:Ze,chartWidgetCollection:nt,readOnly:He,onClick:gt,widgetbarSettled:ft}),vt=new b({chartWidgetCollection:nt,resizerBridge:Ke,affectsLayout:()=>$e.affectsLayout("right"),settingsPrefix:"widgetbar",showCloseButton:!0,showWizardFn:null,areShortcutsAvailable:!0,configuration:()=>async function(e){const[t,{DataWindowRenderer:i},{ChartObjectsWidgetRenderer:r}]=await Promise.all([(0,xe.configuration)(e),n.e(87112).then(n.bind(n,936199)),n.e(87112).then(n.bind(n,994204))]);return t.ObjectTreeWidget=r,t.DataWindowWidget=i,t}({chartApiInstance:window.ChartApiInstance}),tradingPromise:ot}),Ct=new C,St=new y({resizerBridge:et,chartWidgetCollection:nt,backtestingStrategyDispatcher:ut,studyMarket:window.studyMarket,widgets:["screener",He?null:"scripteditor","backtesting",He?null:"paper_trading"].filter(Ie.notNull),configBootloader:Ct}),wt=new S({resizerBridge:et,chartWidgetCollection:nt,bottomWidgetbarBootloader:St});function Et(){document.querySelectorAll(".loading-indicator").forEach((e=>{e.remove()}))}ce.CheckMobile.any()||de.waitAnyChartWidgetInitialized(nt,(async()=>{const{ChartLottieAnimation:e}=await n.e(71175).then(n.bind(n,972898))
;it||new e(nt,R.linking.proSymbol)})),(async()=>{const{default:e}=await Promise.all([n.e(97362),n.e(22666),n.e(5993),n.e(92191),n.e(53842),n.e(4015),n.e(66639),n.e(93502),n.e(54712),n.e(35649),n.e(30006),n.e(58056),n.e(67080),n.e(99916),n.e(15518),n.e(36956),n.e(98149),n.e(36752),n.e(22333),n.e(15886),n.e(3982),n.e(71109),n.e(85544),n.e(962),n.e(29594),n.e(91622),n.e(91890),n.e(8775),n.e(1613),n.e(22306)]).then(n.t.bind(n,634980,23));it||(window.lineToolPropertiesToolbar=new e(nt))})();const Wt=nt.activeChartWidget.value();let kt=null;function Pt(){(0,i.addPerfMark)("main_chart.LoadToolbars");const e=bt.load(),t=_t.load();return{headerToolbarPromise:e,drawingToolbarPromise:yt.load(),widgetbarPromise:vt.load().then((e=>{window.widgetbar=e,ft.fire(!0)})).then((()=>{(async()=>{const{openMindsOnLoad:e}=await n.e(20603).then(n.bind(n,732246));e()})()})),bottomWidgetPromise:St.load().then((e=>(function(e,t){function n(e,t){const n=t.map((e=>e.id()));return e.filter((e=>!n.includes(e.id())))}function i(e,t){const n=e.map((e=>e.id()));return t.filter((e=>!n.includes(e.id())))}t.change().subscribe(null,((t,r,o,a)=>{if(o)return;const s=n(t,r),l=i(t,r);if(0===s.length&&1===l.length){const t=e.activeWidget().value(),n=e.mode().value();(!a||"backtesting"===t&&"minimized"!==n)&&e.toggleWidget("backtesting",!0)}}))}(e,ut),TradingView.bottomWidgetBar=e,rt.fire(!0),e))),footerWidgetPromise:wt.load().then((e=>(window.footerWidget=e.getComponent(),e.getComponent()))),topLeftButtonPromise:t}}Wt?(de.isAnyChartWidgetInitialized(nt)?kt||(kt=Pt()):de.waitAnyChartWidgetInitialized(nt,(()=>{kt||(kt=Pt())})),Wt.withModel(Wt,(()=>{const e=Wt.model().mainSeries();window.initData.offlineAlertEventsOnInit&&e.dataEvents().completed().subscribe(Wt,(async()=>{const[{tryInitAlertsNotifications:e},t]=await Promise.all([Promise.all([n.e(22666),n.e(48986),n.e(7116),n.e(89916),n.e(94949),n.e(88104),n.e(91046)]).then(n.bind(n,613631)),nt.getToasts()]);e(t||void 0)}),!0),e.dataEvents().completed().subscribe(Wt,(async()=>{var t;const{platformPlacement:i}=await Promise.all([n.e(32109),n.e(56400),n.e(9944),n.e(68241),n.e(34136)]).then(n.bind(n,968241)),r=null===(t=e.symbolInfo())||void 0===t?void 0:t.type;r&&i.addTargeting("market",r)}));let t=!1;e.dataEvents().completed().subscribe(Wt,(()=>{t||(t=!0,(0,ue.setupTrackingModePopupHint)(Xe.container.value()),(0,he.setupChartEventHint)(nt,!1,(0,Ae.isFeatureEnabled)("enable_step_by_step_hints_for_drawings")),function(e,t){const i=ae.t(null,void 0,n(678104)).format({emoji:"ðŸ‘"}),r=ae.t(null,void 0,n(812011)).format({emoji:"ðŸ‘"}),o=ae.t(null,void 0,n(979393)).format({emoji:"ðŸ‘"});re.on("onServerScreenshotCopiedToClipboard",(()=>l(i)),null),re.on("onClientScreenshotCopiedToClipboard",(()=>l(r)),null),re.on("onServerScreenshotEmbedCodeCopiedToClipboard",(()=>l(o)),null);let a=null;const s=e.getContainer();function l(e){a?a.show(e):Promise.all([n.e(32109),n.e(6209),n.e(40719),n.e(30092)]).then(n.bind(n,876318)).then((n=>{a||(a=new n.ChartScreenshotHintRenderer((0,x.ensureNotNull)(s),{
bottomPadding:t.seriesControlBarEnabled}),a.show(e))}))}}(nt,{seriesControlBarEnabled:!je.readOnly}),Re&&ge(nt,{seriesControlBarEnabled:!je.readOnly}))})),(0,ee.loadThemeOnChartInitialization)(nt),(0,pe.initAllAnalytics)(new Promise((t=>{e.dataEvents().completed().subscribe(null,(()=>t()),!0)})))})),new N(nt),Et(),Wt.onTagsChanged().subscribe(null,(()=>{!function(){if(Wt.hasModel()){const e=(0,x.ensureDefined)(Wt.model().mainSeries().properties().child("interval")),t=(0,x.ensureDefined)(Wt.model().mainSeries().properties().child("style")),n=(0,x.ensureDefined)(Wt.model().mainSeries().properties().child("symbol"));u.setValue("editchart.model.interval",e.value()),u.setValue("editchart.model.style",t.value()),u.setValue("editchart.model.symbol",n.value())}}()})),Wt.onDisconnected().subscribe(null,(e=>{e&&Q.showCriticalErrorMessage((()=>{window.ChartApiInstance.disconnect(),setTimeout((()=>{window.ChartApiInstance.connect(),Wt.reconnect()}),500)}))})),Wt.onReconnectBailout().subscribe(null,(()=>{Q.showDisconnectedMessage((()=>{setTimeout((()=>{window.ChartApiInstance.connect()}),0)}))})),document.querySelectorAll(".tv-content").forEach((e=>{e.addEventListener("contextmenu",(e=>{e.target instanceof Element&&e.target.matches("input, textarea")||e.preventDefault()}))})),setTimeout((()=>{Et()}),1e4),setTimeout((()=>{kt||(kt=Pt())}),5e3),window.is_authenticated||Promise.all([n.e(95549),n.e(62253),n.e(92191),n.e(68992),n.e(81643),n.e(33199),n.e(36953),n.e(967),n.e(27781),n.e(61298),n.e(61633),n.e(89550),n.e(962),n.e(42198),n.e(597),n.e(27901)]).then(n.bind(n,305063)).then((e=>e.initGoRegisterDialog()))):Et(),document.addEventListener("readystatechange",(()=>{const e=Date.now()-3e5;if("complete"===document.readyState&&window.performance&&window.performance.timing&&window.performance.timing.domInteractive>e&&window.performance.timing.requestStart>e){const e=window.performance.timing.domInteractive-window.performance.timing.requestStart;J.telemetry.sendChartReport("page_load_time_frame",{value:e})}})),function(e){window.addEventListener("beforeunload",(t=>{if(e.hasChanges())return t.returnValue=se,se}))}(at),(async()=>{const[e,t]=await Promise.all([(0,Me.initSymbolListService)(),Promise.all([n.e(22666),n.e(62253),n.e(92191),n.e(34465),n.e(69121),n.e(9817),n.e(92108),n.e(88194),n.e(66639),n.e(30006),n.e(26855),n.e(43610),n.e(96899),n.e(962),n.e(26300),n.e(29594),n.e(91622),n.e(745),n.e(6676),n.e(80333),n.e(45553),n.e(44692),n.e(1026)]).then(n.bind(n,804169))]);e.runner.run(t.activeSymbolListNavigator,"watchlist")})(),function(e){const t=new We(e);let n=!1,i=null;window.addEventListener("offline",(()=>{i&&clearTimeout(i),i=setTimeout((()=>{navigator.onLine||(t.show(),n=!0)}),1e4)})),window.addEventListener("online",(()=>{i&&clearTimeout(i),n&&(t.hide(),n=!1)}))}(Qe),(0,Ae.isFeatureEnabled)("skip_navigation_on_chart")&&(0,Le.initPlatformSkipNavigation)(),(async()=>{var e,t,i,r;if((0,Ae.isFeatureEnabled)("enable_declaration_popup_on_load")&&(null===(e=window.user)||void 0===e?void 0:e.is_pro)){
if(window.is_authenticated&&!(null===(t=window.user)||void 0===t?void 0:t.declared_status)){const{showUserStatusDeclarationDialog:e}=await n.e(89051).then(n.bind(n,899105));e()}if(window.user.declared_status){const{openBeforeYouProceedOnLoad:e}=await n.e(38518).then(n.bind(n,196526));e()}}if((0,Ae.isFeatureEnabled)("enable_prof_popup_free")&&!(null===(i=window.user)||void 0===i?void 0:i.is_pro)&&(null===(r=window.user)||void 0===r?void 0:r.declared_status)===qe.UserStatus.Pro){const{showBeforeYouProceedDialog:e}=await n.e(38518).then(n.bind(n,548261));e()}})(),new ze.Action({actionId:"UnknownAction",options:{label:"",onExecute:()=>{window.dispatchEvent(new CustomEvent("keyboard-navigation-activation",{bubbles:!0}));const[e]=Array.from(document.querySelectorAll('button:not([disabled]):not([aria-disabled]):not([tabindex="-1"]), input:not([disabled]):not([aria-disabled]):not([tabindex="-1"]), [tabindex]:not([disabled]):not([aria-disabled]):not([tabindex="-1"])')).filter((0,Ne.createScopedVisibleElementFilter)(document.documentElement)).sort(Ne.navigationOrderComparator);void 0!==e&&e.focus()},hotkeyHash:r.enabled("accessible_keyboard_shortcuts")?9:be.Modifiers.Alt+90,hotkeyGroup:(0,be.createGroup)({desc:"Global shortcuts"}),disabled:!Ne.PLATFORM_ACCESSIBILITY_ENABLED}}),(0,i.addPerfMark)("main_chart.ExecuteEnd")},547982:(e,t,n)=>{"use strict";var i=n(823127),r=n(55826);i.fn.timeUpdate=function(e,t,n){return this.each((function(){var o=i(this),a=o.data(e||"timestamp"),s=this.hasAttribute("data-force-ago-format");a?a*=1e3:a=1e3*o.text(),r.jQueryCompatibleAgoDateFormatter(o,new Date(a),s,t,n),o.removeClass("time-upd js-time-upd")}))}},364366:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="#FB8C00" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'}},e=>{e.O(0,[18562,38970,76572,68716,53848,36876,32327,46574,88601,77669,93874,52650,68754,68473,76592,92483,73151,50293,67103,17769,24028,64094,90854,93370,3833,11664,962,23127,24951,10726,61073,70183,31204,87896,30128,1842,67423,83912,91168,19482,9858,2350,59348,42292,88124,84552,44581,5721,47944,41339,55368,17540,915,40468,95503,29858,25050,84488,26031],(()=>{return t=269810,e(e.s=t);var t}));e.O()}]);