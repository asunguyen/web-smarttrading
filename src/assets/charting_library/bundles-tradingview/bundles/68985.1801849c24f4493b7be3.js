(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[68985],{837287:e=>{e.exports={calendar:"calendar-N6r5jhbE",popupStyle:"popupStyle-N6r5jhbE",header:"header-N6r5jhbE","flip-horizontal":"flip-horizontal-N6r5jhbE","sub-header":"sub-header-N6r5jhbE","view-month":"view-month-N6r5jhbE","view-year":"view-year-N6r5jhbE","view-decades":"view-decades-N6r5jhbE",weeks:"weeks-N6r5jhbE",week:"week-N6r5jhbE",day:"day-N6r5jhbE","accent-color":"accent-color-N6r5jhbE","current-day":"current-day-N6r5jhbE","slot-wrapper":"slot-wrapper-N6r5jhbE","hide-focus-ring":"hide-focus-ring-N6r5jhbE","decade-button":"decade-button-N6r5jhbE","visually-hidden":"visually-hidden-N6r5jhbE"}},220111:e=>{e.exports={pickerInput:"pickerInput-P2cJzZdH",icon:"icon-P2cJzZdH",disabled:"disabled-P2cJzZdH",picker:"picker-P2cJzZdH",fixed:"fixed-P2cJzZdH",absolute:"absolute-P2cJzZdH",nativePicker:"nativePicker-P2cJzZdH"}},833254:(e,t,s)=>{"use strict";s.d(t,{Calendar:()=>y});var a=s(50959),n=s(497754),i=s(643528),r=s(317140),o=s(837287);function l(e){const{prevAriaLabel:t,nextAriaLabel:s,currentAriaLabel:n,currentVisibleTitle:l,isNextDisabled:c,isPrevDisabled:h,isViewModeDisabled:u,prevRef:d,middleRef:p,onPrevClick:m,onNextClick:D,onCurrentClick:g,onPrevKeyDown:f,onMiddleKeyDown:v,onHeaderKeyDown:w}=e;return a.createElement("div",{className:o.header,onKeyDown:w},a.createElement(i.LightButton,{startIcon:r,onClick:m,size:"small",variant:"ghost","aria-label":t,disabled:h,onKeyDown:f,reference:d}),a.createElement(i.LightButton,{size:"small",variant:"ghost","aria-label":n,onClick:g,disabled:u,onKeyDown:v,reference:p},l),a.createElement(i.LightButton,{startIcon:r,onClick:D,size:"small",variant:"ghost","aria-label":s,disabled:c,className:o["flip-horizontal"]}))}var c=s(274210),h=s(523663),u=s(157954);class d extends a.PureComponent{constructor(){super(...arguments),this._dateFormatter=new u.DateFormatter,this._getVariant=()=>{let e="ghost";return this._withinSelectedRange()&&(e=this.props.isDisabled?"secondary":"quiet-primary"),this._isOnHighlightedEdge()&&this.props.isDisabled&&(e="quiet-primary"),e},this._onClick=()=>{this.props.onClick&&!this.props.isDisabled&&this.props.onClick(new Date(this.props.day))}}render(){const e=n(o.day,this.props.isDisabled&&o.disabled,!this.props.isDisabled&&(this.props.isSelected||this._isOnHighlightedEdge())&&o["accent-color"],this._withinSelectedRange()&&o["within-selected-range"],this._isCurrentDay()&&o["current-day"],!this.props.showFocusRing&&o["hide-focus-ring"]),t=this.props.isSelected||this._isOnHighlightedEdge()||this._withinSelectedRange(),s=t||this._isCurrentDay();return a.createElement(i.LightButton,{onClick:this._onClick,onFocus:this.props.onFocus,size:"small",variant:this._getVariant(),isSelected:s,"data-day":this._dateFormatter.formatLocal(this.props.day),className:e,disabled:this.props.isDisabled,reference:this.props.reference,tabIndex:this.props.tabIndex,"aria-label":(0,h.getDayAriaLabel)(this.props.day),"aria-selected":t,"aria-current":this._isCurrentDay()?"date":void 0},this.props.day.getDate())}
_isOnHighlightedEdge(){const{day:e,highlightedFrom:t,highlightedTo:s}=this.props;return!(!t||!s)&&((0,c.isSameDay)(e,t)||(0,c.isSameDay)(e,s))}_withinSelectedRange(){const{day:e,highlightedFrom:t,highlightedTo:s}=this.props;return!(!t||!s)&&this._isBetweenByDay(t,e,s)}_isCurrentDay(){return(0,c.isSameDay)(new Date,this.props.day)}_isBetweenByDay(e,t,s){const a=(0,c.resetToDayStart)(e),n=(0,c.resetToDayStart)(t),i=(0,c.resetToDayStart)(s);return a<n&&n<i}}var p=s(238718),m=s(470316);function D({isDisabledDate:e,findDate:t,getFirstDate:s,getLastDate:n,setNext:i,setPrev:r,dateToFocus:o,verticalOffset:l,dateLevel:h}){const[u,d]=(0,p.useRefsMap)(),D=(0,a.useCallback)((t=>t?e(t)?null:t:null),[e]),g=(0,a.useCallback)(((s,a)=>{if(!s)return null;const n=(0,c.getCloneDateWithOffset)({dateFrom:s,offset:a,isDisabledDate:e,level:h});return D(t(n))}),[t,D]),f=(0,a.useCallback)((()=>{const e=s();return D(e)||g(e,1)}),[D,g]),v=(0,a.useCallback)((()=>{const e=n();return D(e)||g(e,-1)}),[D,g]),w=(0,a.useCallback)(((t,s)=>{if(!t)return;const a=(0,c.getCloneDateWithOffset)({dateFrom:t,offset:s,isDisabledDate:e,level:h});a&&(s>0?i(a):r(a))}),[e,i,r]),{currentlyFocused:y,setCurrentlyFocused:C,focusItem:b,bindings:F}=function({refsMap:e,verticalOffset:t,getNextKeyToFocus:s,getFirstKey:n,getLastKey:i,onGridEnd:r}){const[o,l]=(0,a.useState)(null),c=(0,a.useCallback)((t=>{if(!t)return;const s=e.current.get(t);s&&(s.focus(),l(t))}),[e]),h=(0,a.useCallback)((e=>{const t=s(o,e);t?c(t):r(o,e)}),[o,s]),u=(0,a.useCallback)((e=>{const s=(0,m.hashFromEvent)(e);if(40===s&&(e.preventDefault(),h(t)),38===s&&(e.preventDefault(),h(-1*t)),39===s&&(e.preventDefault(),h(1)),37===s&&(e.preventDefault(),h(-1)),36===s){e.preventDefault();const t=n();c(t)}if(35===s){e.preventDefault();const t=i();c(t)}}),[o,s]);return{currentlyFocused:o,setCurrentlyFocused:l,focusItem:c,bindings:{onKeyDown:u}}}({refsMap:u,verticalOffset:l,getNextKeyToFocus:g,getFirstKey:f,getLastKey:v,onGridEnd:w});return(0,a.useEffect)((()=>b(D(t(o)))),[o]),{itemsRefs:u,setItemRef:d,ensureNotDisabledDate:D,currentlyFocused:y,setCurrentlyFocused:C,focusItem:b,bindings:F}}function g(e){const{selectedDate:t,dateToFocus:s,weeks:n,onClickDay:i,setPrevMonth:r,setNextMonth:l,maxDate:u,minDate:p,disableWeekends:m,showFocusRing:g,highlightedFrom:f,highlightedTo:v,isDisabled:w,focusableDateRef:y}=e,C=(0,a.useCallback)((e=>{if(!e)return null;let t=null;return n.find((({days:s})=>(t=s.find((t=>(0,c.isSameDay)(t,e))),t))),t}),[n]),b=(0,a.useCallback)((()=>n[0].days[0]),[n]),F=(0,a.useCallback)((()=>{const e=n[n.length-1].days;return e[e.length-1]}),[n]),k=(0,a.useCallback)((e=>w||(0,c.isDayDisabled)({day:e,minDate:p,maxDate:u,disableWeekends:m})),[p,u,m,w]),{itemsRefs:E,setItemRef:S,currentlyFocused:_,setCurrentlyFocused:R,bindings:N}=D({isDisabledDate:k,findDate:C,getFirstDate:b,getLastDate:F,setPrev:r,setNext:l,dateToFocus:s,verticalOffset:7,dateLevel:"day"}),T=(0,c.getDateInTabOrder)({selectedDate:t,dateToFocus:s,currentlyFocused:_,firstEnabledDate:(0,c.getFirstEnabledDay)(n,k),getFirstDate:b,
getLastDate:F,isDisabledDate:k});return(0,a.useEffect)((()=>{y.current=T&&E.current.get(T)||null}),[T,y]),a.createElement(a.Fragment,null,a.createElement("div",{className:o["sub-header"],"aria-hidden":!0},h.WEEKDAYS_MIN.map((e=>a.createElement("span",{key:e},e)))),a.createElement("div",{className:o["view-month"],tabIndex:-1,...N},a.createElement("div",{className:o.weeks},n.map((({week:e,days:s})=>a.createElement("div",{className:o.week,key:e},s.map((e=>a.createElement(d,{key:e.toDateString(),day:e,isDisabled:k(e),isSelected:(0,c.isSameDay)(e,t),onClick:i,highlightedFrom:f,highlightedTo:v,reference:S(e),tabIndex:(0,c.isSameDay)(e,T)?0:-1,onFocus:(0,c.isSameDay)(e,T)?()=>R(e):void 0,showFocusRing:g})))))))))}function f(e){const{months:t,selectedDate:s,maxDate:n,minDate:r,showFocusRing:l,dateToFocus:u,isDisabled:d,focusableDateRef:p,onSelect:m,setPrevYear:g,setNextYear:f}=e,v=(0,a.useCallback)((e=>d||!(0,c.isInRange)(e,r,n,"month")),[r,n,d]),w=(0,a.useCallback)((e=>{if(!e)return null;let s=null;return t.find((({date:t})=>(s=(0,c.isSameMonth)(e,t)?t:null,s))),s}),[t]),y=(0,a.useCallback)((()=>t[0].date),[t]),C=(0,a.useCallback)((()=>t[t.length-1].date),[t]),{itemsRefs:b,setItemRef:F,currentlyFocused:k,setCurrentlyFocused:E,bindings:S}=D({isDisabledDate:v,findDate:w,getFirstDate:y,getLastDate:C,setPrev:g,setNext:f,verticalOffset:3,dateToFocus:u,dateLevel:"month"}),_=(0,c.getDateInTabOrder)({selectedDate:s,dateToFocus:u,currentlyFocused:k,firstEnabledDate:(0,c.getFirstEnabledMonth)(t,v),getFirstDate:y,getLastDate:C,isDisabledDate:v});return(0,a.useEffect)((()=>{p.current=_&&b.current.get(_)||null}),[_,p]),a.createElement(a.Fragment,null,a.createElement("div",{className:o["sub-header"],"aria-hidden":!0},a.createElement("span",null,h.SUB_HEADER_YEAR)),a.createElement("div",{className:o["view-year"],...S},t.map((({title:e,ariaLabel:t,date:n})=>{const r=(0,c.isSameMonth)(n,s),h=v(n),u=r?"quiet-primary":"ghost";return a.createElement(i.LightButton,{key:n.toDateString(),size:"small",variant:u,disabled:h,isSelected:r,className:!l&&o["hide-focus-ring"],onClick:()=>m(n),reference:F(n),tabIndex:(0,c.isSameMonth)(n,_)?0:-1,onFocus:(0,c.isSameMonth)(n,_)?()=>E(n):void 0,"aria-label":`${t} ${n.getFullYear()}`,"aria-selected":r},e)}))))}function v(e){const{years:t,selectedDate:s,dateToFocus:r,maxDate:l,minDate:u,showFocusRing:d,isDisabled:p,focusableDateRef:m,onSelect:g,setPrevDecades:f,setNextDecades:v}=e,w=(0,a.useCallback)((e=>p||!(0,c.isInRange)(e,u,l,"year")),[u,l,p]),y=(0,a.useCallback)((e=>e&&t.find((t=>(0,c.isSameYear)(e,t)))||null),[t]),C=(0,a.useCallback)((()=>t[0]),[t]),b=(0,a.useCallback)((()=>t[t.length-1]),[t]),{itemsRefs:F,setItemRef:k,currentlyFocused:E,setCurrentlyFocused:S,bindings:_}=D({isDisabledDate:w,findDate:y,getFirstDate:C,getLastDate:b,setPrev:f,setNext:v,dateToFocus:r,verticalOffset:4,dateLevel:"year"}),R=(0,c.getDateInTabOrder)({selectedDate:s,dateToFocus:r,currentlyFocused:E,firstEnabledDate:(0,c.getFirstEnabledYear)(t,w),getFirstDate:C,getLastDate:b,isDisabledDate:w});return(0,a.useEffect)((()=>{
m.current=R&&F.current.get(R)||null}),[R,m]),a.createElement(a.Fragment,null,a.createElement("div",{className:o["sub-header"],"aria-hidden":!0},a.createElement("span",null,h.SUB_HEADER_DECADES)),a.createElement("div",{className:o["view-decades"],..._},t.map((e=>{const t=e.getFullYear(),r=(0,c.isSameYear)(e,s),l=w(e),h=r?"quiet-primary":"ghost";return a.createElement(i.LightButton,{key:e.toDateString(),size:"small",variant:h,disabled:l,isSelected:r,className:n(o["decade-button"],!d&&o["hide-focus-ring"]),onClick:()=>g(e),reference:k(e),tabIndex:(0,c.isSameYear)(e,R)?0:-1,onFocus:(0,c.isSameYear)(e,R)?()=>S(e):void 0,"aria-selected":r},t)}))))}var w=s(881383);function y(e){const{selectedDate:t,maxDate:s,minDate:i,className:r,disableWeekends:u,highlightedFrom:d,highlightedTo:p,popupStyle:D=!0,showFocusRing:y=!1,autoFocus:C=!1,isDisabled:b=!1,withFocusTrap:F=!1,endSlot:k,onSelect:E,onMonthSwitch:S,onYearSwitch:_,onDecadesSwitch:R,onViewTypeChange:N,focusTriggerElement:T}=e,[I,P]=(0,a.useState)(y),x=(0,a.useCallback)((()=>P(!0)),[P]);(0,a.useEffect)((()=>{y&&P(!0)}),[y]);const M=(0,a.useCallback)((e=>{T&&38===(0,m.hashFromEvent)(e)&&(e.preventDefault(),e.stopPropagation(),P(!1),T())}),[T]),{viewDate:V,viewType:K,dateToFocus:L,weeks:Y,months:z,years:H,isNextDisabled:O,isPrevDisabled:B,setPrev:A,setNext:j,switchViewType:W,onClickDay:Z,onClickMonth:J,onClickYear:$}=function({selectedDate:e,autoFocus:t,showFocusRing:s,minDate:n,maxDate:i,onSelect:r,onMonthSwitch:o,onYearSwitch:l,onDecadesSwitch:u,onViewTypeChange:d}){const[p,m]=(0,a.useState)(e),[D,g]=(0,a.useState)(h.CalendarViewType.Month),[f,v]=(0,a.useState)(t?e:null),w=(0,a.useMemo)((()=>(0,c.getDecadesStart)(p)),[p]),y=(0,a.useCallback)((e=>{const t=new Date(p),s=(0,h.getNextMonth)(p),a=new Date(s.getFullYear(),s.getMonth()+e,0).getDate(),n=p.getDate()>a?a:p.getDate();t.setMonth(t.getMonth()+e,n),m(t),o&&o(t)}),[p,o]),C=(0,a.useCallback)((e=>{const t=new Date(p);t.setFullYear(t.getFullYear()+e),m(t),l&&l(t)}),[p,l]),b=(0,a.useCallback)((e=>{const t=new Date(w);t.setFullYear(t.getFullYear()+e),m(t),u&&u(t)}),[w,p,u]),F=(0,a.useCallback)(((e,t)=>{switch(t&&v(t),D){case h.CalendarViewType.Month:return y(1*e);case h.CalendarViewType.Year:return C(1*e);case h.CalendarViewType.Decades:return b(e*h.DECADES_YEARS_AMOUNT)}}),[D,y,C,b]),k=(0,a.useCallback)((e=>F(-1,e)),[F]),E=(0,a.useCallback)((e=>F(1,e)),[F]),S=(0,a.useCallback)((()=>{const e=Object.values(h.CalendarViewType);let t=e.indexOf(D)+1;t>=e.length&&(t=0),g(e[t]),d&&d(e[t])}),[D]),_=(0,a.useCallback)((e=>{m(new Date(e)),r&&r(new Date(e))}),[r]),R=(0,a.useCallback)((e=>{const t=new Date(p);t.setMonth(e.getMonth()),(0,c.isSameMonth)(t,e)||t.setMonth(e.getMonth(),1),m(t);const s=new Date(f||p);s.setMonth(e.getMonth()),(0,c.isSameMonth)(s,e)||s.setMonth(e.getMonth(),1),v(s),g(h.CalendarViewType.Month)}),[p,r,S]),N=(0,a.useCallback)((e=>{const t=new Date(p);t.setFullYear(e.getFullYear()),m(t);const s=new Date(f||p);s.setFullYear(e.getFullYear()),v(s),g(h.CalendarViewType.Year)}),[p,r,S]),T=(0,a.useMemo)((()=>(0,
c.getWeeks)(p)),[p]),I=(0,a.useMemo)((()=>(0,c.getMonths)(p)),[p]),P=(0,a.useMemo)((()=>(0,c.getDecades)(w)),[w]),x=(0,a.useMemo)((()=>{switch(D){case h.CalendarViewType.Month:{const e=T[T.length-1].days,t=new Date(e[e.length-1]);return t.setDate(t.getDate()+1),!(0,c.isInRange)(t,n,i)}case h.CalendarViewType.Year:{const e=new Date(I[I.length-1].date);return e.setMonth(e.getMonth()+1),!(0,c.isInRange)(e,n,i,"month")}case h.CalendarViewType.Decades:{const e=new Date(P[P.length-1]);return e.setFullYear(e.getFullYear()+1),!(0,c.isInRange)(e,n,i,"year")}}}),[D,n,i,T,I,P]),M=(0,a.useMemo)((()=>{switch(D){case h.CalendarViewType.Month:{const e=new Date(T[0].days[0]);return e.setDate(e.getDate()-1),!(0,c.isInRange)(e,n,i)}case h.CalendarViewType.Year:{const e=new Date(I[0].date);return e.setMonth(e.getMonth()-1),!(0,c.isInRange)(e,n,i,"month")}case h.CalendarViewType.Decades:{const e=new Date(P[0]);return e.setFullYear(e.getFullYear()-1),!(0,c.isInRange)(e,n,i,"year")}}}),[D,n,i,T,I,P]);return(0,a.useEffect)((()=>{!f&&s&&t&&v(e),s||v(null)}),[t,e,f,s]),{viewDate:p,viewType:D,dateToFocus:f,weeks:T,months:I,years:P,isNextDisabled:x,isPrevDisabled:M,setPrev:k,setNext:E,switchViewType:S,onClickDay:_,onClickMonth:R,onClickYear:N}}({selectedDate:t,minDate:i,maxDate:s,autoFocus:C,showFocusRing:I,onMonthSwitch:S,onYearSwitch:_,onDecadesSwitch:R,onViewTypeChange:N,onSelect:E}),{focusableDateRef:U,prevRef:q,middleRef:G,onPrevKeyDown:Q,onMiddleKeyDown:X,forwardFocusToStart:ee}=function({withFocusTrap:e,isPrevDisabled:t}){const s=(0,a.useRef)(null),n=(0,a.useCallback)((t=>{var a;e&&m.Modifiers.Shift+9===(0,m.hashFromEvent)(t)&&(t.preventDefault(),null===(a=s.current)||void 0===a||a.focus())}),[e]),i=(0,a.useCallback)((e=>{t||n(e)}),[t,n]),r=(0,a.useCallback)((e=>{t&&n(e)}),[t,n]),o=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useCallback)((e=>{var s,a;e.preventDefault(),e.stopPropagation(),t?null===(a=l.current)||void 0===a||a.focus():null===(s=o.current)||void 0===s||s.focus()}),[t]);return{focusableDateRef:s,prevRef:o,middleRef:l,onPrevKeyDown:i,onMiddleKeyDown:r,forwardFocusToStart:c}}({withFocusTrap:F,isPrevDisabled:B}),te=(0,a.useMemo)((()=>H[0]),[H]),{onPrevClick:se,onNextClick:ae,onSwitchViewType:ne}=function({viewType:e,decadesStartYear:t,viewDate:s,setPrev:n,setNext:i,switchViewType:r}){const[o,l]=(0,a.useState)(null),c=(0,a.useCallback)((e=>{o&&o.destroy(),l((0,w.getLiveRegionInstance)().sayPolitely(e))}),[o,l]);return{onPrevClick:(0,a.useCallback)((()=>{c((0,h.getPrevLiveRegionConfirmation)(e,e===h.CalendarViewType.Decades?t:s)),n(null)}),[n,c]),onNextClick:(0,a.useCallback)((()=>{c((0,h.getNextLiveRegionConfirmation)(e,e===h.CalendarViewType.Decades?t:s)),i(null)}),[i,c]),onSwitchViewType:(0,a.useCallback)((a=>{c((0,h.getViewTypeLiveRegionConfirmation)(e,e===h.CalendarViewType.Year?t:s)),r(a)}),[r,c])}}({viewType:K,decadesStartYear:te,viewDate:V,setPrev:A,setNext:j,switchViewType:W});return a.createElement("div",{className:n(o.calendar,D&&o.popupStyle,r),tabIndex:-1,onKeyDown:x},a.createElement(l,{prevAriaLabel:(0,
h.getPrevAriaLabel)(K,K===h.CalendarViewType.Decades?te:V),nextAriaLabel:(0,h.getNextAriaLabel)(K,K===h.CalendarViewType.Decades?te:V),currentAriaLabel:(0,h.getCurrentAriaLabel)(K,K===h.CalendarViewType.Year?te:V),currentVisibleTitle:(0,h.getCurrentVisibleTitle)(K,K===h.CalendarViewType.Decades?te:V),onPrevClick:se,onNextClick:ae,onPrevKeyDown:Q,onMiddleKeyDown:X,onHeaderKeyDown:M,onCurrentClick:ne,isNextDisabled:b||O,isPrevDisabled:b||B,isViewModeDisabled:b,prevRef:q,middleRef:G}),K===h.CalendarViewType.Month&&a.createElement(g,{weeks:Y,selectedDate:t,dateToFocus:L,maxDate:s,minDate:i,onClickDay:Z,disableWeekends:u,highlightedFrom:d,highlightedTo:p,setPrevMonth:A,setNextMonth:j,showFocusRing:I,isDisabled:b,focusableDateRef:U}),K===h.CalendarViewType.Year&&a.createElement(f,{months:z,selectedDate:t,dateToFocus:L,maxDate:s,minDate:i,onSelect:J,setPrevYear:A,setNextYear:j,showFocusRing:I,isDisabled:b,focusableDateRef:U}),K===h.CalendarViewType.Decades&&a.createElement(v,{years:H,selectedDate:t,dateToFocus:L,maxDate:s,minDate:i,onSelect:$,setPrevDecades:A,setNextDecades:j,showFocusRing:I,isDisabled:b,focusableDateRef:U}),a.createElement("div",{className:o["slot-wrapper"]},k),F&&a.createElement("div",{tabIndex:0,onFocus:ee}))}},768985:(e,t,s)=>{"use strict";s.d(t,{DatePicker:()=>f});var a=s(444372),n=s(50959),i=s(497754),r=s(167175),o=s(778785),l=s(157954),c=s(833254),h=s(791478),u=s(428348),d=s(274210),p=s(452395),m=s(470316),D=s(551080),g=s(201401);class f extends n.PureComponent{constructor(e){super(e),this._pickerInputContainerRef=n.createRef(),this._pickerInpuRef=n.createRef(),this._dateFormatter=new l.DateFormatter,this._onPickerInputKeyDown=e=>{const t=(0,m.hashFromEvent)(e);if([m.Modifiers.Shift+9,9].includes(t))this._hideCalendar();else{if(40===t)return e.preventDefault(),this._showCalendar(),void this.setState({autofocusCalendar:!0});13===t&&this.props.onEnter&&this.props.onEnter(e),this._hideCalendar()}},this._returnFocusToInput=()=>{var e;this.setState({autofocusCalendar:!1}),null===(e=this._pickerInpuRef.current)||void 0===e||e.focus()},this._fixValue=e=>(e=(e=e.substring(0,10)).replace(/-+/g,"-"),(/^\d{4}$/.test(e)||/^\d{4}-\d{2}$/.test(e))&&(e+="-"),e),this._isValid=e=>{if(/^[0-9]{4}(-[0-9]{2}){2}/.test(e)){const t=new Date(e.concat("T00:00"));return!(0,d.isInvalidDateObj)(t)&&(!!(this.props.noRangeValidation||o.mobiletouch&&r.isIOS)||(0,d.isInRange)(t,this.props.minDate,this.props.maxDate))}return!1},this._onBlur=e=>{var t;if(!this.props.revertInvalidData||(null===(t=this._pickerInputContainerRef.current)||void 0===t?void 0:t.contains(e.relatedTarget)))return;const{value:s}=e.target;if(!this._isValid(s)){const t=new Date(this.state.date);this.setState({pickerInputKey:e.timeStamp,date:t,isInvalid:!1}),this.props.onPick(t)}},this._onType=e=>{const t=this._isValid(e)?new Date(e.concat("T00:00")):null;t?this.setState({date:t,isInvalid:!1}):this.setState({isInvalid:!0}),this.props.onPick(t)},this._onSelect=e=>{this.setState({date:e,showCalendar:!1,isInvalid:!1}),this.props.onPick(e)},this._showCalendar=()=>{
this.setState({showCalendar:!0})},this._hideCalendar=()=>{this.setState({showCalendar:!1,autofocusCalendar:!1})},this._getErrors=()=>{const e=this.props.errors?[...this.props.errors]:[];return this.state.isInvalid&&e.push(a.t(null,void 0,s(505122))),e},this.state={pickerInputKey:0,date:e.initial,showCalendar:!1,isInvalid:!this._isValid(this._dateFormatter.formatLocal(e.initial)),autofocusCalendar:!1,initial:e.initial}}render(){const e=this.props.endSlotComponent,t=(0,D.mergeRefs)([this._pickerInpuRef,this.props.inputReference]);return o.mobiletouch?n.createElement(u.NativePickerInput,{value:this._dateFormatter.formatLocal(this.state.date),type:"date",onChange:this._onType,icon:g,disabled:this.props.disabled,size:this.props.size,min:this.props.minDate&&this._dateFormatter.formatLocal(this.props.minDate),max:this.props.maxDate&&this._dateFormatter.formatLocal(this.props.maxDate),errors:this._getErrors(),showErrorMessages:this.props.showErrorMessages,name:this.props.name,readonly:this.props.readonly,className:i(this._getFontSizeClassName(this.props.size),this.props.className),containerClassName:this.props.containerClassName,inputReference:this.props.inputReference,InputComponent:this.props.InputComponent}):n.createElement("div",{className:this.props.containerClassName,ref:this._pickerInputContainerRef},n.createElement(h.PickerInput,{key:this.state.pickerInputKey,value:this._dateFormatter.formatLocal(this.state.date),inputRegex:/[0-9.]/,fixValue:this._fixValue,onType:this._onType,onBlur:this._onBlur,onShowPicker:this._showCalendar,onHidePicker:this._hideCalendar,showPicker:this.state.showCalendar&&this.props.withCalendar,showOnFocus:this.props.showOnFocus,icon:g,disabled:this.props.disabled,size:this.props.size,errors:this._getErrors(),showErrorMessages:this.props.showErrorMessages,name:this.props.name,readonly:this.props.readonly,position:this.props.position,className:i(this._getFontSizeClassName(this.props.size),this.props.className),inputReference:t,InputComponent:this.props.InputComponent,onKeyDown:this._onPickerInputKeyDown,onFocus:this.props.onFocus},n.createElement(c.Calendar,{selectedDate:this.state.date,maxDate:this.props.maxDate,minDate:this.props.minDate,onSelect:this._onSelect,endSlot:e&&n.createElement(e,{onSelectDate:this._onSelect}),autoFocus:this.state.autofocusCalendar,showFocusRing:this.state.autofocusCalendar,focusTriggerElement:this._returnFocusToInput,withFocusTrap:!0})))}static getDerivedStateFromProps(e,t){return t.initial!==e.initial?{...t,date:e.initial,initial:e.initial}:null}_getFontSizeClassName(e){return e?"large"===e?p.InputClasses.FontSizeLarge:p.InputClasses.FontSizeMedium:void 0}}f.defaultProps={position:"fixed",withCalendar:!0}},428348:(e,t,s)=>{"use strict";s.d(t,{NativePickerInput:()=>h});var a=s(50959),n=s(497754),i=s(83436),r=s(342353),o=s(653549),l=s(514420),c=s(220111);class h extends a.PureComponent{constructor(e){super(e),this._input=null,this._nativeInputRef=a.createRef(),this._handleInputRef=e=>{this._input=e,this.props.inputReference&&this.props.inputReference(this._input)},
this._onFocus=()=>{this.setState({isFocused:!0})},this._onBlur=()=>{this._nativeInputRef.current&&(this._nativeInputRef.current.defaultValue=this.state.value),this.setState({isFocused:!1})},this._onChange=e=>{const{value:t}=e.target;t&&(this.setState({value:t}),this.props.onChange(t))},this.state={value:e.value,isFocused:!1}}componentDidMount(){this._nativeInputRef.current&&(this._nativeInputRef.current.defaultValue=this.props.value)}render(){const{className:e,containerClassName:t,disabled:s,errors:h,InputComponent:u=r.FormInput}=this.props,d=!this.props.readonly&&!s,p=this.props.showErrorMessages&&h&&h.length>0;return a.createElement("div",{className:n(c.pickerInput,t)},a.createElement(u,{value:this.state.value,readonly:!0,noReadonlyStyles:!0,endSlot:h&&h.length?void 0:a.createElement(l.EndSlot,null,a.createElement(i.Icon,{icon:this.props.icon,className:n(c.icon,s&&c.disabled)})),className:e,inputClassName:c.textInput,size:this.props.size,disabled:s,hasErrors:p,errors:h,alwaysShowAttachedErrors:!0,messagesPosition:o.MessagesPosition.Attached,name:d?void 0:this.props.name,reference:this._handleInputRef,highlight:this.state.isFocused,intent:!p&&this.state.isFocused?"primary":void 0}),d&&a.createElement("input",{ref:this._nativeInputRef,type:this.props.type,className:c.nativePicker,onChange:this._onChange,onInput:this._onChange,min:this.props.min,max:this.props.max,name:this.props.name,onFocus:this._onFocus,onBlur:this._onBlur}))}}},791478:(e,t,s)=>{"use strict";s.d(t,{PickerInput:()=>m});var a=s(50959),n=s(497754),i=s(650151),r=s(83436),o=s(342353),l=s(653549),c=s(514420),h=s(58407),u=s(636098),d=s(470316),p=s(220111);class m extends a.PureComponent{constructor(e){super(e),this._input=null,this._inputContainer=null,this._handleFocus=e=>{var t,s;this.props.showOnFocus&&this.props.onShowPicker(),null===(s=(t=this.props).onFocus)||void 0===s||s.call(t,e)},this._handleInputRef=e=>{this._input=e,this.props.inputReference&&this.props.inputReference(this._input)},this._handleContainerRef=e=>{this._inputContainer=e},this._onShowPicker=e=>{if(e&&this._inputContainer){const t=e.getBoundingClientRect(),s=this._inputContainer.getBoundingClientRect();t.width&&t.width>window.innerWidth-s.left?(e.style.right="0",e.style.left="auto"):(e.style.right="auto",e.style.left=`${s.left}px`);const a=window.innerHeight-s.bottom,n=s.top;if(a>=t.height)return void(e.style.top=`${s.bottom}px`);e.style.top="auto",e.style.bottom=n<t.height?"0":`${a+s.height}px`}},this._onChange=()=>{const e=(0,i.ensureNotNull)(this._input).value;this.setState({value:e}),this.props.onType(e)},this._onKeyDown=e=>{this.props.hideOnKeyDown&&this.props.onHidePicker(),this.props.onKeyDown&&this.props.onKeyDown(e)},this._onKeyPress=e=>{if(e.charCode){const t=String.fromCharCode(e.charCode);this.props.inputRegex.test(t)||e.preventDefault()}},this._onKeyUp=e=>{if(8!==e.keyCode){const e=(0,i.ensureNotNull)(this._input).value,t=this.props.fixValue(e);t!==e&&this.setState({value:t})}},this._handleDropdownKeydown=e=>{var t;27===(0,
d.hashFromEvent)(e)&&(null===(t=this._input)||void 0===t||t.focus(),this.props.onHidePicker())},this.state={value:e.value,valueFromProps:e.value}}render(){const{position:e="fixed",className:t,size:s,disabled:i,readonly:d,errors:m,icon:D,InputComponent:g=o.FormInput}=this.props;return a.createElement("div",{className:p.pickerInput,ref:this._handleContainerRef},a.createElement(g,{value:this.state.value,onBlur:this.props.onBlur,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onChange:this._onChange,onFocus:this._handleFocus,onClick:this.props.onShowPicker,reference:this._handleInputRef,className:t,size:s,disabled:i,errors:m,messagesPosition:l.MessagesPosition.Attached,hasErrors:this.props.showErrorMessages&&m&&m.length>0,name:this.props.name,readonly:d,endSlot:m&&m.length?void 0:a.createElement(c.EndSlot,null,a.createElement(r.Icon,{icon:D,className:n(p.icon,i&&p.disabled),onClick:i||d?void 0:this.props.onShowPicker})),"data-name":this.props.name}),this.props.showPicker&&!d?a.createElement(u.Portal,{top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"},a.createElement(h.OutsideEvent,{mouseDown:!0,handler:this.props.onHidePicker},(t=>a.createElement("span",{ref:t,style:{pointerEvents:"auto"}},a.createElement("div",{className:n(p.picker,p[e]),key:"0",ref:this._onShowPicker,onKeyDown:this._handleDropdownKeydown},this.props.children))))):null)}static getDerivedStateFromProps(e,t){return e.value!==t.valueFromProps?{value:e.value,valueFromProps:e.value}:null}}m.defaultProps={showOnFocus:!0}},317140:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m16.47 7.47 1.06 1.06L12.06 14l5.47 5.47-1.06 1.06L9.94 14l6.53-6.53Z"/></svg>'},201401:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M4 0c-.6 0-1 .4-1 1v1H1c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1h14c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1h-2V1c0-.6-.4-1-1-1h-1c-.6 0-1 .4-1 1v1H6V1c0-.6-.4-1-1-1H4zM2 5h12v9H2V5zm5 2v2h2V7H7zm3 0v2h2V7h-2zm-6 3v2h2v-2H4zm3 0v2h2v-2H7zm3 0v2h2v-2h-2z"/></svg>'}}]);