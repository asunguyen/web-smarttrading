"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[87112],{936199:(e,t,i)=>{i.r(t),i.d(t,{DataWindowRenderer:()=>o});var s=i(498898),n=i(707957);class o extends s.WidgetbarWidgetRenderer{constructor(e){var t,i;super(e),this._mounted=!1,this._contentRenderer=null,this._updateDelegate=new n.Delegate,this.fullUpdate=()=>{var e;this._updateChartWidget(),this._mounted&&(null===(e=this._contentRenderer)||void 0===e||e.call(this))},this._activityChangeHandler=e=>{e?this._chartWidgetCollection.activeChartWidget.subscribe(this.fullUpdate,{callWithLast:!0}):this._chartWidgetCollection.activeChartWidget.unsubscribe(this.fullUpdate)},this._props=e;const s=null===(i=(t=this._props).getChartWidgetCollection)||void 0===i?void 0:i.call(t);if(!s)throw new Error("ChartWidgetCollection is required");this._chartWidgetCollection=s,this._chartWidget=this._chartWidgetCollection.activeChartWidget.value(),this._props.active.subscribe(this._activityChangeHandler,{callWithLast:!0})}mount(){if(this._mounted)return;this._mounted=!0;const e=this._loadModulePromise=Promise.all([Promise.resolve().then(i.t.bind(i,50959,19)),Promise.resolve().then(i.t.bind(i,500962,19)),Promise.all([i.e(36747),i.e(52567),i.e(35542),i.e(43141),i.e(91205)]).then(i.bind(i,293001))]).then((([t,i,s])=>{this._loadModulePromise===e&&(this._contentRenderer=()=>{i.render(t.createElement(s.DataWindow,{selectedSourcesWV:this._chartWidgetCollection.selectedSources,chartWidget:this._chartWidget,updateDelegate:this._updateDelegate}),this._container)},this._contentRenderer())}))}unmount(){this._mounted&&(this._mounted=!1,super.unmount(),this._loadModulePromise=null)}unmountBody(){this._mounted&&(this._mounted=!1,super.unmountBody(),this._loadModulePromise=null)}destroy(){this._props.active.unsubscribe(this._activityChangeHandler),super.destroy()}update(){this._mounted&&this._updateDelegate.fire()}_updateChartWidget(){const e=this._chartWidget,t=this._chartWidgetCollection.activeChartWidget.value();e&&e.removeDataWindowWidget(),t&&(this._chartWidget=t,t.setDataWindowWidget(this))}}},994204:(e,t,i)=>{i.r(t),i.d(t,{ChartObjectsWidgetRenderer:()=>h});var s=i(650151),n=i(564894),o=i(270294),r=i(544207);class d{constructor(e){this._viewModel=null,this._promise=null,this._activityChangeHandler=e=>{e?this.mount():this.destroy()},this._container=e.container,this._hideHeaderTitle=!0}mount(){
const e=this._promise=Promise.all([Promise.resolve().then(i.t.bind(i,50959,19)),Promise.resolve().then(i.t.bind(i,500962,19)),Promise.all([i.e(22666),i.e(5993),i.e(34465),i.e(69121),i.e(53842),i.e(4015),i.e(88194),i.e(35649),i.e(30006),i.e(36747),i.e(58056),i.e(67080),i.e(15518),i.e(35542),i.e(51494),i.e(26525),i.e(30979),i.e(86942),i.e(29594),i.e(65747),i.e(91622),i.e(35408),i.e(48396),i.e(50845),i.e(25031)]).then(i.bind(i,170248)),Promise.all([i.e(22666),i.e(5993),i.e(34465),i.e(69121),i.e(53842),i.e(4015),i.e(88194),i.e(35649),i.e(30006),i.e(36747),i.e(58056),i.e(67080),i.e(15518),i.e(35542),i.e(51494),i.e(26525),i.e(30979),i.e(86942),i.e(29594),i.e(65747),i.e(91622),i.e(35408),i.e(48396),i.e(50845),i.e(25031)]).then(i.bind(i,892094)),Promise.all([i.e(22666),i.e(5993),i.e(34465),i.e(69121),i.e(53842),i.e(4015),i.e(88194),i.e(35649),i.e(30006),i.e(36747),i.e(58056),i.e(67080),i.e(15518),i.e(35542),i.e(51494),i.e(26525),i.e(30979),i.e(86942),i.e(29594),i.e(65747),i.e(91622),i.e(35408),i.e(48396),i.e(50845),i.e(25031)]).then(i.bind(i,62969)),(0,r.loadAllSourcesIcons)()]).then((([t,i,s,r,d])=>{if(this._promise===e){const e=(0,n.service)(o.CHART_WIDGET_COLLECTION_SERVICE);null===this._viewModel&&(this._viewModel=new d.ObjectTree(e.activeChartWidget)),i.render(t.createElement(r.ObjectTree,{nodeRenderer:s.NodeRenderer,viewModel:this._viewModel,hideHeaderTitle:this._hideHeaderTitle}),this._container)}}))}unmount(){this.unmountBody()}unmountBody(){this._promise=null;const e=i.c[500962];if(e){e.exports.unmountComponentAtNode(this._container)}}destroy(){this.unmount(),null!==this._viewModel&&(this._viewModel.destroy(),this._viewModel=null)}}var l=i(936199),a=i(498898);class h extends a.WidgetbarWidgetRenderer{constructor(e){super(e),this._selectWidget=e=>{this._bridge.properties.setValue({selectedPage:e})},this._activityChangeHandler=e=>{e?this.mount():this._getSelectedWidget().unmountBody()},this._pageChangeHandle=e=>{const{selectedPage:t}=(0,s.ensureNotNull)(e);t!==this._lastMountedPage&&(this._unmountDeselectedWidgets(),this._lastMountedPage=t,this._getSelectedWidget().mount())},this._dataWindowWidget=new l.DataWindowRenderer(e),this._objectTreeWidget=new d(e),this._selectedPageWV=e.properties.readonly(),this._selectedPageWV.subscribe(this._pageChangeHandle),this._bridge=e,this._bridge.active.subscribe(this._activityChangeHandler,{callWithLast:!0})}mount(){const e=this._loadModulePromise=Promise.all([Promise.resolve().then(i.t.bind(i,50959,19)),Promise.resolve().then(i.t.bind(i,500962,19)),Promise.all([i.e(80925),i.e(3484),i.e(59255),i.e(94021),i.e(58298)]).then(i.bind(i,745491))]).then((([t,i,s])=>{this._loadModulePromise===e&&i.render(t.createElement(s.Switcher,{selectedPageWV:this._selectedPageWV,onSelect:this._selectWidget}),this._headerContainer)}));this._lastMountedPage=this._getSelectedPage(),this._getSelectedWidget().mount()}unmount(){this._getSelectedWidget().unmount(),super.unmount()}destroy(){this._dataWindowWidget.destroy(),this._objectTreeWidget.destroy(),
this._selectedPageWV.unsubscribe(this._pageChangeHandle),this._bridge.active.unsubscribe(this._activityChangeHandler),super.destroy()}_getSelectedPage(){return(0,s.ensureNotNull)(this._selectedPageWV.value()).selectedPage}_getSelectedWidget(){return"data-window"===this._getSelectedPage()?this._dataWindowWidget:this._objectTreeWidget}_unmountDeselectedWidgets(){("data-window"===this._getSelectedPage()?this._objectTreeWidget:this._dataWindowWidget).unmountBody()}}},498898:(e,t,i)=>{i.d(t,{WidgetbarWidgetRenderer:()=>s});class s{constructor(e){this.hasLifecycle=!0,this._loadModulePromise=null;const{container:t,header:i,id:s}=e;this._container=t,this._headerContainer=i,this._widgetId=s}destroy(){this._loadModulePromise=null,this.unmount()}unmount(){this.unmountBody(),this.unmountHeader()}unmountBody(){const e=i.c[500962];if(e){e.exports.unmountComponentAtNode(this._container)}}unmountHeader(){const e=i.c[500962];if(e){e.exports.unmountComponentAtNode(this._headerContainer)}}}},544207:(e,t,i)=>{i.d(t,{getAllSourcesIcons:()=>h,loadAllSourcesIcons:()=>a});var s=i(963568);const n=(0,i(201089).getLogger)("DataSourcesIcons");let o=null;function r(){const e=i.c[68961];return e?Promise.resolve(e.exports.lineToolsIcons):i.e(91890).then(i.bind(i,68961)).then((e=>e.lineToolsIcons))}function d(){const e=i.c[328736];return e?Promise.resolve(e.exports.SERIES_ICONS):i.e(79685).then(i.bind(i,328736)).then((e=>e.SERIES_ICONS))}let l=null;function a(){return null===l&&(l=function(){const e=(0,s.retries)(r,2).then((e=>e)).catch((e=>(n.logWarn(e),{}))),t=(0,s.retries)(d,2).then((e=>e)).catch((e=>(n.logWarn(e),{})));return Promise.all([e,t])}()),l.then((e=>(o={linetool:e[0],series:e[1]},o)))}function h(){return o}}}]);