(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[71286],{750468:e=>{e.exports={wrap:"wrap-HXzRntFl",input:"input-HXzRntFl",box:"box-HXzRntFl",hoverDot:"hoverDot-HXzRntFl",red:"red-HXzRntFl",blue:"blue-HXzRntFl",green:"green-HXzRntFl",orange:"orange-HXzRntFl",purple:"purple-HXzRntFl",cyan:"cyan-HXzRntFl",pink:"pink-HXzRntFl",large:"large-HXzRntFl",pickerDot:"pickerDot-HXzRntFl"}},530824:e=>{e.exports={wrapper:"wrapper-BZLCGWlx",buttons:"buttons-BZLCGWlx",colorSelectButton:"colorSelectButton-BZLCGWlx"}},858079:e=>{e.exports={wrapper:"wrapper-xPNB6vOB",selector:"selector-xPNB6vOB",arrowLeft:"arrowLeft-xPNB6vOB",colorSelectButton:"colorSelectButton-xPNB6vOB",popup:"popup-xPNB6vOB"}},353427:e=>{e.exports={wrap:"wrap-erqqoDve",uiMarker:"uiMarker-erqqoDve",red:"red-erqqoDve",blue:"blue-erqqoDve",green:"green-erqqoDve",orange:"orange-erqqoDve",purple:"purple-erqqoDve",cyan:"cyan-erqqoDve",pink:"pink-erqqoDve",uiMarker__small:"uiMarker__small-erqqoDve"}},260803:e=>{e.exports={container:"container-hEv0no2M",visible:"visible-hEv0no2M",forceVisible:"forceVisible-hEv0no2M"}},522436:e=>{e.exports={item:"item-GJX1EXhk",interactive:"interactive-GJX1EXhk",hovered:"hovered-GJX1EXhk",disabled:"disabled-GJX1EXhk",active:"active-GJX1EXhk",shortcut:"shortcut-GJX1EXhk",normal:"normal-GJX1EXhk",big:"big-GJX1EXhk",iconCell:"iconCell-GJX1EXhk",icon:"icon-GJX1EXhk",checkmark:"checkmark-GJX1EXhk",content:"content-GJX1EXhk",label:"label-GJX1EXhk",checked:"checked-GJX1EXhk",toolbox:"toolbox-GJX1EXhk",showToolboxOnHover:"showToolboxOnHover-GJX1EXhk",arrowIcon:"arrowIcon-GJX1EXhk",subMenu:"subMenu-GJX1EXhk",invisibleHotkey:"invisibleHotkey-GJX1EXhk"}},829122:e=>{e.exports={item:"item-WJDah4zD",emptyIcons:"emptyIcons-WJDah4zD",loading:"loading-WJDah4zD",disabled:"disabled-WJDah4zD",interactive:"interactive-WJDah4zD",hovered:"hovered-WJDah4zD",normal:"normal-WJDah4zD",big:"big-WJDah4zD",icon:"icon-WJDah4zD",label:"label-WJDah4zD",title:"title-WJDah4zD",nested:"nested-WJDah4zD",shortcut:"shortcut-WJDah4zD",remove:"remove-WJDah4zD"}},333927:e=>{e.exports={separator:"separator-Ymxd0dt_"}},966076:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-_HnK0UIN",positionBottom:"positionBottom-_HnK0UIN",backdrop:"backdrop-_HnK0UIN",drawer:"drawer-_HnK0UIN",positionLeft:"positionLeft-_HnK0UIN"}},296890:(e,t,o)=>{"use strict";o.d(t,{LIST_COLORS:()=>u,ListColor:()=>s,changeDescription:()=>S,createCrossTabSyncMiddleware:()=>L,getCommands:()=>B,getListByColor:()=>M,getSymbolColor:()=>N,getSymbolsByColor:()=>I,getTimestamp:()=>X,isListColor:()=>d,markMany:()=>y,reducer:()=>D,remove:()=>f,rename:()=>k,renameSeparator:()=>E,reset:()=>_,setup:()=>g,share:()=>x,shiftCommand:()=>w});var s,n=o(826300),r=o(438253),l=o(650151),i=o(199669),a=o(50991),c=o(340958),m=o(173777),h=o(559986);!function(e){e.Red="red",e.Blue="blue",e.Green="green",e.Orange="orange",e.Purple="purple",e.Cyan="cyan",e.Pink="pink"}(s||(s={}));const u=[s.Red,s.Blue,s.Green,s.Orange,s.Purple,s.Cyan,s.Pink];function d(e){return new Set(u).has(e)}const p={lists:{
colors:[],byColor:{},bySymbol:{}},commands:[],timestamp:null};function v(e,t){const{lists:o}=e,s=o.byColor[t];s&&0===s.symbols.length&&(o.colors=o.colors.filter((e=>e!==t)))}function C(e){return(0,m.isSeparatorItem)(e)}const b=(0,n.createSlice)({name:"marked-lists",initialState:p,reducers:{setup:(e,t)=>{const{lists:o,timestamp:s}=t.payload,n={lists:{colors:[],byColor:{},bySymbol:{}},commands:[],timestamp:null};n.timestamp=s;for(const e of function(e,t){return[...e].sort(((e,o)=>t.indexOf(e.color)-t.indexOf(o.color)))}(o,u)){const t=e.symbols.filter((t=>void 0===n.lists.bySymbol[t]&&(C(t)||(n.lists.bySymbol[t]=e.color),!0)));n.lists.byColor[e.color]={color:e.color,name:e.name,description:e.description,shared:e.shared,symbols:t},t.length>0&&n.lists.colors.push(e.color)}return n},remove:(e,t)=>{const{color:o,symbols:s,silent:n}=t.payload,{lists:i,commands:a}=e,m=i.byColor[o];if(void 0===m||0===m.symbols.length)return;const h=new Set(s),u=m.symbols.filter((e=>!h.has(e)));if(!(0,c.equalArrays)(u,m.symbols)){m.symbols=u;for(const e of h)delete i.bySymbol[e];n||a.push({type:"remove",color:o,symbols:[...h],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}),v(e,o)}},markMany:(e,t)=>{const{color:o,before:s,silent:n}=t.payload,{lists:i,commands:a}=e,{unique:m,exclusions:u}=function(e,t){var o;const{color:s,symbols:n,separators:r}=t.payload,{lists:i}=e,a={},c=new Set,m=e=>C(e)?((0,l.assert)(null!==s),s):i.bySymbol[e];for(let e=0;e<n.length;++e){const t=n[e];if(c.has(t)||C(t)&&!r)continue;c.add(t);const s=m(t);void 0!==s&&(a[s]=null!==(o=a[s])&&void 0!==o?o:new Set).add(t)}return{exclusions:a,unique:c}}(e,t);if(0===m.size)return;const d=function(e,t,o,s){const{color:n,before:r}=t.payload,{lists:l}=e;let i;if(null!==n&&void 0!==r&&o.has(r)){const e=l.byColor[n];if(void 0!==e){i=s;for(let t=e.symbols.indexOf(r);t>=0;--t)if(!o.has(e.symbols[t])){i=e.symbols[t];break}}}return i}(e,t,m,h.LIST_START);if(null!==o&&void 0!==u[o]&&1===Object.keys(u).length){const t=i.byColor[o];(0,l.assert)(void 0!==t);const p=t.symbols.filter((e=>!m.has(e))),b=(0,h.getTargetIndex)(p,s,d);if(void 0===b?p.push(...m):p.splice(b,0,...m),(0,c.equalArrays)(p,t.symbols))return;{const s=u[o];(0,l.assert)(void 0!==s),t.symbols=p;for(const e of s)delete i.bySymbol[e];for(const e of m)C(e)||(i.bySymbol[e]=o);return v(e,o),void(n||a.push({type:"replace",color:o,symbols:[...t.symbols],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))}}for(const t in u){if(!u.hasOwnProperty(t))continue;const o=u[t];(0,l.assert)(void 0!==o);const s=i.byColor[t];(0,l.assert)(void 0!==s),s.symbols=s.symbols.filter((e=>!o.has(e)||(delete i.bySymbol[e],!1))),v(e,t)}if(null===o)return void(n||a.push({type:"reset",symbols:[...m],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}));const p=i.byColor[o];if(i.colors.includes(o)){(0,l.assert)(void 0!==p);const t=(0,h.getTargetIndex)(p.symbols,s,d);void 0===t?(p.symbols.push(...m),n||(void 0===u[o]?a.push({type:"append",color:o,symbols:[...m],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}):a.push({type:"replace",
color:o,symbols:[...p.symbols],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))):(p.symbols.splice(t,0,...m),n||a.push({type:"replace",color:o,symbols:[...p.symbols],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))}else void 0===p?i.byColor[o]={color:o,symbols:[...m],name:null,description:null,shared:!1}:p.symbols=[...m],i.colors.push(o),n||a.push({type:"append",color:o,symbols:[...m],prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists});for(const e of m)C(e)||(i.bySymbol[e]=o)},renameSeparator:(e,t)=>{const{color:o,separator:s,name:n,silent:i}=t.payload;if(s===n||!C(s)||!C(n))return;const a=e.lists.byColor[o];(0,l.assert)(void 0!==a);const c=a.symbols.indexOf(s);-1!==c&&-1===a.symbols.indexOf(n)&&(a.symbols.splice(c,1,n),i||e.commands.push({type:"rename-separator",color:o,separator:s,name:n,prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))},rename:(e,t)=>{const{name:o,color:s,silent:n}=t.payload,i=e.lists.byColor[s];(0,l.assert)(void 0!==i),i.name!==o&&(i.name=o,n||e.commands.push({type:"rename",color:s,name:o,prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))},changeDescription:(e,t)=>{const{color:o,description:s,silent:n}=t.payload,i=e.lists.byColor[o];(0,l.assert)(void 0!==i),i.description!==s&&(i.description=s,n||e.commands.push({type:"change-description",color:o,description:s,prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))},reset:(e,t)=>{const{silent:o}=t.payload,{lists:s}=e;for(const e of u){const t=s.byColor[e];void 0!==t&&(t.symbols=[])}s.colors=[],s.bySymbol={},o||e.commands.push({type:"reset-all",prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists})},share:(e,t)=>{const{lists:o,commands:s}=e,{shared:n,color:i,silent:a}=t.payload,c=o.byColor[i];void 0!==c&&c.shared!==n&&(c.shared=n,a||s.push({type:"share",color:i,shared:n,prevLists:(0,l.ensureDefined)((0,r.original)(e)).lists}))},shiftCommand:(e,t)=>{const{count:o}=t.payload;e.commands.splice(0,o)}}}),{markMany:y,setup:g,reset:_,remove:f,rename:k,changeDescription:S,renameSeparator:E,shiftCommand:w,share:x}=b.actions,{reducer:D}=b;function L(e,t,o=b){return(0,i.createCrossTabSyncMiddleware)({id:e,channel:t,event:"marked-list-cross-tab-sync",filter:e=>function(e,t){return t.actions.markMany.match(e)||t.actions.rename.match(e)||t.actions.changeDescription.match(e)||t.actions.remove.match(e)||t.actions.setup.match(e)||t.actions.renameSeparator.match(e)||t.actions.reset.match(e)||t.actions.share.match(e)}(e,o)})}function N(e,t){var o;return null!==(o=e.lists.bySymbol[a.qualified.cast(t)])&&void 0!==o?o:null}function M(e,t){var o;return null!==(o=e.lists.byColor[t])&&void 0!==o?o:null}function I(e,t){var o,s;return null!==(s=null===(o=M(e,t))||void 0===o?void 0:o.symbols)&&void 0!==s?s:null}function B(e){return e.commands}function X(e){return e.timestamp}},12228:(e,t,o)=>{"use strict";o.d(t,{ColorSelector:()=>v});var s,n=o(50959),r=o(296890),l=o(451608),i=o(497754),a=o.n(i),c=o(83436),m=o(948019),h=o(676809),u=o(24122),d=o(750468);const p=(0,l.makeSwitchGroupItem)(((s=class extends n.PureComponent{constructor(){
super(...arguments),this._onClickIfChecked=()=>{this.props.onClickIfChecked&&this.props.onClickIfChecked(this.props.value)},this._onChange=()=>{this.props.onChange&&this.props.onChange(this.props.value)}}render(){var e,t;const{className:o,value:s,name:r,checked:l}=this.props,i=null!==(t=null===(e=this.context)||void 0===e?void 0:e.type)&&void 0!==t?t:"menu",m=s;return n.createElement("label",{className:a()(o,d.wrap,"drawer"===i&&d.large)},n.createElement("input",{className:d.input,type:"radio",name:r,value:s,checked:l,onChange:this._onChange,onClick:l?this._onClickIfChecked:void 0}),n.createElement("div",{className:a()(d.box,d[m],"drawer"===i&&d.large)},l?n.createElement(c.Icon,{icon:h}):n.createElement("div",{className:d.pickerDot},n.createElement(c.Icon,{className:d.hoverDot,icon:u}))))}}).contextType=m.ContextMenuContext,s.defaultProps={value:r.ListColor.Red},s));class v extends n.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange&&this.props.onChange(e)}}render(){const{buttonClassName:e,value:t,onSelectedClick:o}=this.props,s=r.LIST_COLORS.map(((t,s)=>n.createElement(p,{className:e,onClickIfChecked:o,key:s,value:t})));return n.createElement(l.SwitchGroup,{name:"color-selector",onChange:this._onChange,values:[t||""]},s)}}},309867:(e,t,o)=>{"use strict";o.d(t,{flaggedSymbolColorName:()=>r});var s=o(296890),n=o(444372);function r(e){switch(e){case s.ListColor.Red:return n.t(null,void 0,o(258753));case s.ListColor.Green:return n.t(null,void 0,o(516340));case s.ListColor.Blue:return n.t(null,void 0,o(824896));case s.ListColor.Orange:return n.t(null,void 0,o(19151));case s.ListColor.Purple:return n.t(null,void 0,o(237964));case s.ListColor.Cyan:return n.t(null,void 0,o(85692));case s.ListColor.Pink:return n.t(null,void 0,o(216755))}}},487750:(e,t,o)=>{"use strict";o.d(t,{LabelColorSelector:()=>i});var s=o(50959),n=o(12228),r=o(777466),l=o(530824);class i extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.props.onChange(e)}}render(){const{value:e}=this.props;return s.createElement("span",{className:l.wrapper},s.createElement("span",{className:l.buttons,onClick:r.preventDefault},s.createElement(n.ColorSelector,{buttonClassName:l.colorSelectButton,value:e,onChange:this._onChange,onSelectedClick:this._onChange})))}}},796499:(e,t,o)=>{"use strict";o.d(t,{PopupColorSelector:()=>_});var s=o(50959),n=o(500962),r=o(670797),l=o(642709),i=o(18182),a=o(332585),c=o(67812),m=o(762852),h=o(31341),u=o(636098),d=o(12228),p=o(778785),v=o(858079);class C extends s.PureComponent{constructor(){super(...arguments),this._popUpElem=null,this._onChange=e=>{this.props.onSelectColor(e),this.props.hide()},this._onTargetMouseLeave=e=>{const t=!!e.relatedTarget.nodeName,o=e.relatedTarget===this._popUpElem,s=this._popUpElem&&t&&this._popUpElem.contains(e.relatedTarget);o||s||this.props.hide()},this._onPopUpMouseLeave=e=>{const t=!!e.nativeEvent.relatedTarget.nodeName,o=e.nativeEvent.relatedTarget===this.props.elem,s=t&&this.props.elem.contains(e.nativeEvent.relatedTarget)
;o||s||this.props.hide()},this._onTouchStart=e=>{const t=!!e.target.nodeName,o=e.target===this.props.elem,s=e.target===this._popUpElem,n=t&&this.props.elem.contains(e.target),r=this._popUpElem&&t&&this._popUpElem.contains(e.target);o||n||s||r||this.props.hide()},this._setPopUpElem=e=>{this._popUpElem=e}}componentDidMount(){document.documentElement&&(p.mobiletouch?document.documentElement.addEventListener("touchstart",this._onTouchStart):(this.props.elem.addEventListener("mouseleave",this._onTargetMouseLeave),document.body.addEventListener("scroll",this.props.hide)))}componentWillUnmount(){document.documentElement&&(p.mobiletouch?document.documentElement.removeEventListener("touchstart",this._onTouchStart):this.props.elem&&(this.props.elem.removeEventListener("mouseleave",this._onTargetMouseLeave),document.documentElement.removeEventListener("scroll",this.props.hide)))}render(){const e={top:0,left:0};if(this.props.elem){const t=this.props.elem.getBoundingClientRect();e.top=t.top+t.height/2,e.left=t.left+((0,h.isRtl)()?0:t.width)}return s.createElement(u.Portal,null,s.createElement("div",{style:e,className:v.popup,ref:this._setPopUpElem,onMouseLeave:p.mobiletouch?void 0:this._onPopUpMouseLeave},s.createElement("div",{className:v.wrapper},s.createElement("div",{className:v.selector},s.createElement("div",{className:v.arrowLeft}),s.createElement(d.ColorSelector,{buttonClassName:v.colorSelectButton,value:this.props.currentColor,onChange:this._onChange})))))}}var b=o(948019);function y(e){const{actions:t,...o}=e;return s.createElement(i.MatchMedia,{rule:l.DialogBreakpoints.TabletSmall},(e=>e&&t?s.createElement(a.DrawerManager,null,s.createElement(b.ContextMenuContext.Provider,{value:{type:"drawer"}},s.createElement(m.Drawer,{onClose:o.hide,position:"Bottom"},s.createElement(c.ContextMenuList,{items:t})))):s.createElement(C,{...o})))}let g=null;var _;!function(e){function t(){g&&n.unmountComponentAtNode(g)}e.show=function(e){g||(g=document.createElement("div")),t(),n.render(s.createElement(r.SlotContext.Provider,{value:e.manager||null},s.createElement(y,{...e,hide:t})),g)},e.hide=t}(_||(_={}))},345890:(e,t,o)=>{"use strict";o.d(t,{SymbolMarker:()=>g,createSymbolMarkerStandalone:()=>f});o(586463);var s=o(94987),n=o(387506),r=o(796499),l=o(935219),i=o(642709),a=o(50959),c=o(444372),m=o(296890),h=o(487750),u=o(373571),d=o(779923),p=o(494966),v=o(345848),C=o(430159),b=o(309867);function y(e,t,s,n){const r=function(e,t,s,n){const r=c.t(null,void 0,o(182246)).format({symbol:(0,p.safeShortName)(t)}),l=e.getSymbolColor(t)||void 0,i={},d=m.LIST_COLORS.map((e=>{const t=new u.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{label:(0,b.flaggedSymbolColorName)(e),onExecute:()=>y(e),checkable:!0,checked:e===l}});return i[e]=t,t})),y=o=>{n(),(0,C.runOrSigninWithFeature)((()=>{s.setColor(o),e.setSymbolsColor([t],s.getColor()),(0,v.trackEvent)("Watchlist","Context menu","Flag"),m.LIST_COLORS.forEach((e=>{i[e].update({checked:e===s.getColor()})}))}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},g={
doNotCloseOnClick:!0};return[new u.Action({actionId:"Watchlist.FlagSymbol",options:{label:r,onExecute:()=>y(s.getColor())}}),new u.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{...g,label:c.t(null,void 0,o(318280)),subItems:d},customActionOptions:{...g,jsxLabel:a.createElement(h.LabelColorSelector,{value:l,onChange:y})}})]}(e,t,s,n);return null!==e.getSymbolColor(t)&&r.push(function(e,t){return new u.Action({actionId:"Watchlist.UnflagSymbol",options:{label:c.t(null,void 0,o(684114)).format({symbol:(0,p.safeShortName)(t)}),onExecute:()=>{e.setSymbolsColor([t],null),(0,v.trackEvent)("Watchlist","Context menu","Unflag")}}})}(e,t)),r.push(function(e){return new u.Action({actionId:"Watchlist.UnflagAllSymbols",options:{label:c.t(null,void 0,o(560342)),onExecute:()=>{var t;t=()=>{e.clearAllSymbolsColor()},(0,d.showConfirm)({text:c.t(null,void 0,o(654408)),onConfirm:({dialogClose:e})=>{t(),e()}}),(0,v.trackEvent)("Watchlist","Context menu","Unflag all")}}})}(e)),r}class g{constructor(e){this._service=(0,n.getMarkedSymbolsListServiceInstance)(),this._colorManager=new l.ColorManager({context:l.ColorContext.SymbolMarker}),this._classes=[],this._onClick=e=>{e.preventDefault();const t=()=>{const e=y(this._service,this._symbol,this._colorManager,r.PopupColorSelector.hide),t=this._colorManager.getColor(),o={elem:this._uimarker.getElem(),currentColor:t,onSelectColor:this._onSelectColor,actions:e,manager:this._opts.manager};window.matchMedia(i.DialogBreakpoints.TabletSmall).matches?r.PopupColorSelector.show(o):null===this._color?(r.PopupColorSelector.show(o),this._service.setSymbolsColor([this._symbol],t)):(r.PopupColorSelector.hide(),this._service.setSymbolsColor([this._symbol],null))},o=window.is_authenticated;(0,C.runOrSigninWithFeature)((()=>{o&&(this._opts.onClick?this._opts.onClick(this._symbol,t):t())}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},this._onSelectColor=e=>{this._colorManager.setColor(e),this._service.setSymbolsColor([this._symbol],this._colorManager.getColor())},this._onDblClick=e=>{e.preventDefault()},this._onChange=()=>{this._setState(this._service.getSymbolColor(this._symbol))},this._opts=e,this._symbol=e.symbol,this._color=e.color||this._service.getSymbolColor(this._symbol),this._uimarker=new s.UiMarker({color:this._color,container:e.container,onClick:this._onClick,onDblClick:this._onDblClick,specialImage:e.specialImage}),e.className&&this.setClassName(e.className),null!==this._color&&this._addActiveClassName(),this._service.onSymbolChange(this._symbol,this._onChange)}updateSubscription(){this._setState(this._service.getSymbolColor(this._symbol))}bindTo(e,t){this._service.offSymbolChange(this._symbol,this._onChange),this._symbol=e,this._uimarker.appendTo(t),this._setState(this._service.getSymbolColor(e)),this._service.onSymbolChange(e,this._onChange)}unbind(){this._service.offSymbolChange(this._symbol,this._onChange),this._uimarker.detach()}getElem(){return this._uimarker.getElem()}isMarked(){return null!==this._color}setClassName(e){
this._uimarker.getElem().classList.remove(...this._classes),this._classes=e.split(" ").filter(Boolean),this._uimarker.getElem().classList.add(...this._classes)}destroy(){this.unbind(),delete this._uimarker,delete this._opts}_setState(e){const t=this.isMarked();this._color=e,null!==this._color?(this._uimarker.setColor(this._color),this._addActiveClassName()):(this._uimarker.removeColor(),this._removeActiveClassName()),void 0!==this._opts.onMarkedChanged&&t!==this.isMarked()&&this._opts.onMarkedChanged()}_addActiveClassName(){this._opts.activeClassName&&this._uimarker.addClass(this._opts.activeClassName)}_removeActiveClassName(){this._opts.activeClassName&&this._uimarker.removeClass(this._opts.activeClassName)}}class _ extends g{constructor(e){super(e),this._onInit=()=>{this.updateSubscription()},this._service.onInit(this._onInit)}destroy(){this._service.offInit(this._onInit),super.destroy()}}function f(e){return new _(e)}},94987:(e,t,o)=>{"use strict";o.d(t,{UiMarker:()=>c});var s=o(296890),n=o(571690),r=o(904799),l=o(497754),i=o(778785),a=o(353427);class c{constructor(e){this._onClick=e=>{this._opts.onClick&&this._opts.onClick(e)},this._onDblClick=e=>{this._opts.onDblClick&&this._opts.onDblClick(e)},this._container=e.container,this._opts=e,this._elem=this._render(e),this._addEventListeners()}setColor(e){this.removeColor(),this._elem.classList.add(a[e])}removeColor(){this._elem.classList.remove(a[s.ListColor.Red],a[s.ListColor.Orange],a[s.ListColor.Purple],a[s.ListColor.Green],a[s.ListColor.Blue],a[s.ListColor.Cyan],a[s.ListColor.Pink])}addClass(e){this._elem.classList.add(e)}removeClass(e){this._elem.classList.remove(e)}getElem(){return this._elem}appendTo(e){this.detach(),this._container=e,this._container.appendChild(this._elem),this._addEventListeners()}detach(){this._removeEventListeners(),this._container&&(this._container.removeChild(this._elem),delete this._container)}_render(e){const t=l(a.uiMarker,{[e.className]:Boolean(e.className),[a[e.color]]:Boolean(e.color)}),o=e.specialImage||r,s=(0,n.parseHtmlElement)(`<div class="${t}">${o}</div>`);if(!s)throw new Error("Can't parse html");return this._container&&this._container.appendChild(s),s}_addEventListeners(){const e=i.mobiletouch?"touchstart":"click";this._elem.addEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.addEventListener("dblclick",this._onDblClick)}_removeEventListeners(){const e=i.mobiletouch?"touchstart":"click";this._elem.removeEventListener(e,this._onClick),this._opts.onDblClick&&this._elem.removeEventListener("dblclick",this._onDblClick)}}},559986:(e,t,o)=>{"use strict";o.d(t,{LIST_START:()=>s,getTargetIndex:()=>n});const s=Symbol();function n(e,t,o){const n=void 0===o?void 0!==t?e.indexOf(t):void 0:o===s?0:e.indexOf(o)+1;return-1!==n?n:void 0}},199669:(e,t,o)=>{"use strict";function s(e){const{id:t,event:o,channel:s,filter:n}=e;return e=>(s.on(o,(o=>{const{action:s,emitter:r}=JSON.parse(o);r!==t&&n(s)&&e.dispatch({...s,payload:{...s.payload,silent:!0}})})),e=>r=>{const l=e(r)
;return n(r)&&(r.payload.silent||s.emit(o,JSON.stringify({action:r,emitter:t}))),l})}o.d(t,{createCrossTabSyncMiddleware:()=>s})},50991:(e,t,o)=>{"use strict";o.d(t,{qualified:()=>s});const s={cast:e=>e,castMany:e=>e.map(s.cast)}},340958:(e,t,o)=>{"use strict";function s(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(e[o]!==t[o])return!1;return!0}o.d(t,{equalArrays:()=>s})},818612:(e,t,o)=>{"use strict";o.d(t,{Spinner:()=>l});var s=o(50959),n=o(497754),r=o(685023);o(683135);function l(e){const t=n(e.className,"tv-spinner","tv-spinner--shown",`tv-spinner--size_${r.spinnerSizeMap[e.size||r.DEFAULT_SIZE]}`);return s.createElement("div",{className:t,style:e.style,role:"progressbar"})}},478710:(e,t,o)=>{"use strict";o.d(t,{Flag:()=>i});var s=o(50959),n=o(670797),r=o(345890),l=o(260803);class i extends s.Component{constructor(){super(...arguments),this._symbolMarker=null,this._ref=null,this._handleRef=e=>{const{symbol:t,onClick:o,className:s,activeClassName:n,forceVisible:i=!1}=this.props;null!==e&&(this._symbolMarker=new r.SymbolMarker({symbol:t,className:s,container:e,activeClassName:n||(i?l.forceVisible:l.visible),onClick:(e,t)=>{o?o(e,t):t()},manager:this.context})),this._ref=e}}shouldComponentUpdate(e){return this.props.symbol!==e.symbol||this.props.className!==e.className}componentDidUpdate(e){var t,o;const{symbol:s,className:n}=this.props;null!==this._ref&&(s!==e.symbol&&(null===(t=this._symbolMarker)||void 0===t||t.bindTo(this.props.symbol,this._ref)),n!==e.className&&n&&(null===(o=this._symbolMarker)||void 0===o||o.setClassName(n)))}componentWillUnmount(){this._symbolMarker&&this._symbolMarker.destroy()}render(){return s.createElement("span",{className:l.container,ref:this._handleRef})}}i.contextType=n.SlotContext},948019:(e,t,o)=>{"use strict";o.d(t,{ContextMenuContext:()=>s});const s=o(50959).createContext(null)},582997:(e,t,o)=>{"use strict";o.d(t,{Hint:()=>i});var s=o(50959),n=o(497754),r=o.n(n),l=o(522436);function i(e){const{text:t="",className:o}=e;return s.createElement("span",{className:r()(l.shortcut,o)},t)}},886004:(e,t,o)=>{"use strict";o.d(t,{ContextMenuItem:()=>p});var s=o(50959),n=o(497754),r=o.n(n),l=o(83436),i=o(265005),a=o(302478),c=o(582997),m=o(339750),h=o(379978),u=o(69311),d=o(829122);function p(e){const{className:t,isTitle:o,isLoading:n,isHovered:p,active:v,checkable:C,disabled:b,checked:y,icon:g,iconChecked:_,hint:f,subItems:k,label:S,styledLabel:E,onClick:w,children:x,toolbox:D,jsxLabel:L,size:N="normal"}=e,M=(0,s.useContext)(a.EmptyIconsContext),I=!!k.length;return n?s.createElement("li",{className:r()(t,d.item,d.loading,d[N])},s.createElement(i.Loader,null)):s.createElement("li",{className:r()(t,d.item,d.interactive,o&&d.title,b&&d.disabled,p&&d.hovered,v&&d.active,M&&d.emptyIcons,d[N]),onClick:w},s.createElement(l.Icon,{className:r()(d.icon),icon:function(){if(C&&y)return _||g||m;return g}()}),s.createElement("span",{className:r()(d.label)},!L&&E?E.map((({text:e,...t},o)=>s.createElement("span",{key:o,style:t},e))):null!=L?L:S),!!D&&s.createElement(l.Icon,{
onClick:function(){D&&D.action()},className:d.remove,icon:u}),!I&&f&&s.createElement(c.Hint,{className:d.shortcut,text:f}),I&&s.createElement(l.Icon,{className:d.nested,icon:h}),x)}},67812:(e,t,o)=>{"use strict";o.d(t,{ContextMenuList:()=>p});var s=o(50959),n=o(333927);function r(e){return s.createElement("li",{className:n.separator})}var l=o(886004),i=o(125226),a=o(762852),c=o(224743);const m=(0,i.isFeatureEnabled)("force_disable_jsx_menu_items_rendering");function h(e){var t;const o=m?e.action:null!==(t=e.action.custom())&&void 0!==t?t:e.action,[n,r]=(0,s.useState)((()=>o.getState())),[i,h]=(0,s.useState)(!1),u=!!n.subItems.length,d=u&&i;return(0,s.useEffect)((()=>{const e=()=>r(o.getState());return o.onUpdate().subscribe(null,e),()=>{o.onUpdate().unsubscribe(null,e)}}),[]),s.createElement(l.ContextMenuItem,{...n,onClick:function(e){if(n.disabled||e.defaultPrevented)return;if(u)return void h(!0);n.doNotCloseOnClick||(0,c.globalCloseMenu)();o.execute()},isLoading:n.loading,isHovered:d},d&&s.createElement(a.Drawer,{onClose:v},s.createElement(p,{items:n.subItems,parentAction:o,closeNested:v})));function v(e){e&&e.preventDefault(),h(!1)}}var u=o(302478),d=o(366493);function p(e){const{items:t,parentAction:o,closeNested:n}=e,i=!Boolean(o)&&t.every((e=>!Boolean("separator"!==e.type&&(e.getState().icon||e.getState().checkable))));return s.createElement(u.EmptyIconsContext.Provider,{value:i},s.createElement("ul",null,o&&s.createElement(s.Fragment,null,s.createElement(l.ContextMenuItem,{label:o.getState().label,isTitle:!0,active:!1,disabled:!1,subItems:[],checkable:!1,checked:!1,doNotCloseOnClick:!1,icon:d,onClick:n}),s.createElement(r,null)),t.map((e=>{switch(e.type){case"action":return s.createElement(h,{key:e.id,action:e});case"separator":return s.createElement(r,{key:e.id})}}))))}},302478:(e,t,o)=>{"use strict";o.d(t,{EmptyIconsContext:()=>s});const s=o(50959).createContext(!1)},332585:(e,t,o)=>{"use strict";o.d(t,{DrawerContext:()=>l,DrawerManager:()=>r});var s=o(50959),n=o(575658);class r extends s.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,n.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,n.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,n.setFixedBodyState)(!1)}render(){return s.createElement(l.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const l=s.createContext(null)},762852:(e,t,o)=>{"use strict";o.d(t,{Drawer:()=>u});var s=o(50959),n=o(650151),r=o(497754),l=o(541558),i=o(636098),a=o(332585),c=o(320116),m=o(150881),h=o(966076);function u(e){
const{position:t="Bottom",onClose:o,children:m,className:u,theme:p=h}=e,v=(0,n.ensureNotNull)((0,s.useContext)(a.DrawerContext)),[C]=(0,s.useState)((()=>(0,l.randomHash)())),b=(0,s.useRef)(null),y=(0,s.useContext)(c.CloseDelegateContext);return(0,s.useLayoutEffect)((()=>((0,n.ensureNotNull)(b.current).focus({preventScroll:!0}),y.subscribe(v,o),v.addDrawer(C),()=>{v.removeDrawer(C),y.unsubscribe(v,o)})),[]),s.createElement(i.Portal,null,s.createElement("div",{className:r(h.wrap,h[`position${t}`])},C===v.currentDrawer&&s.createElement("div",{className:h.backdrop,onClick:o}),s.createElement(d,{className:r(p.drawer,h[`position${t}`],u),ref:b,"data-name":e["data-name"]},m)))}const d=(0,s.forwardRef)(((e,t)=>{const{className:o,...n}=e;return s.createElement(m.TouchScrollContainer,{className:r(h.drawer,o),tabIndex:-1,ref:t,...n})}))},443549:(e,t,o)=>{"use strict";o.d(t,{Spinner:()=>s.Spinner});var s=o(818612)},366493:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5 20L11 14.5 16.5 9"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},339750:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 15l5 5L23 9"/></svg>'},69311:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.7 9l4.65-4.65-.7-.7L9 8.29 4.35 3.65l-.7.7L8.29 9l-4.64 4.65.7.7L9 9.71l4.65 4.64.7-.7L9.71 9z"/></svg>'},24122:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" d="M4 8a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},676809:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M0 8a8 8 0 1 0 16 0A8 8 0 1 0 0 8zm2 0a6 6 0 1 0 12 0A6 6 0 1 0 2 8zm2 0a4 4 0 1 0 8 0 4 4 0 1 0-8 0"/></svg>'},904799:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 12" width="14" height="12" fill="currentColor" focusable="false" preserveAspectRatio="none"><path d="M14 12l-4-6 4-6H0v12z"/></svg>'}}]);