(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[18226,91859,43382,44692],{470048:e=>{e.exports={wrapper:"wrapper-GZajBGIm",input:"input-GZajBGIm",box:"box-GZajBGIm",icon:"icon-GZajBGIm",noOutline:"noOutline-GZajBGIm","intent-danger":"intent-danger-GZajBGIm",check:"check-GZajBGIm",dot:"dot-GZajBGIm"}},869789:e=>{e.exports={checkbox:"checkbox-vyj6oJxw",reverse:"reverse-vyj6oJxw",label:"label-vyj6oJxw",baseline:"baseline-vyj6oJxw"}},257240:e=>{e.exports={container:"container-M1mz4quA",pairContainer:"pairContainer-M1mz4quA",logo:"logo-M1mz4quA",hidden:"hidden-M1mz4quA"}},76244:e=>{e.exports={button:"button-jpZsjw5k",withIcon:"withIcon-jpZsjw5k","a11y-text":"a11y-text-jpZsjw5k",buttonIcon:"buttonIcon-jpZsjw5k"}},517723:e=>{e.exports={footer:"footer-dwINHZFL"}},678810:e=>{e.exports={footer:"footer-kcB9V_Ib",shortcuts:"shortcuts-kcB9V_Ib",buttonGroup:"buttonGroup-kcB9V_Ib",button:"button-kcB9V_Ib",withIcon:"withIcon-kcB9V_Ib",icon:"icon-kcB9V_Ib"}},103322:e=>{e.exports={wrapper:"wrapper-NLkHhUu3",newLabel:"newLabel-NLkHhUu3"}},372851:e=>{e.exports={item:"item-MkbKmfsi",small:"small-MkbKmfsi",checkbox:"checkbox-MkbKmfsi",label:"label-MkbKmfsi"}},88148:e=>{e.exports={button:"button-g115eYH4",hover:"hover-g115eYH4",isOpened:"isOpened-g115eYH4",inner:"inner-g115eYH4"}},45195:e=>{e.exports={node:"node-lhJq7vpW"}},654145:e=>{e.exports={removeButton:"removeButton-Tf8QRdrk"}},344390:e=>{e.exports={separator:"separator-eCC6Skn5",innerWrapper:"innerWrapper-eCC6Skn5",selected:"selected-eCC6Skn5",removeButton:"removeButton-eCC6Skn5",small:"small-eCC6Skn5",highlighted:"highlighted-eCC6Skn5",firstItem:"firstItem-eCC6Skn5",label:"label-eCC6Skn5",renaming:"renaming-eCC6Skn5",hasExpand:"hasExpand-eCC6Skn5",renamableInput:"renamableInput-eCC6Skn5",touch:"touch-eCC6Skn5",expandHandle:"expandHandle-eCC6Skn5",hovered:"hovered-eCC6Skn5",disabled:"disabled-eCC6Skn5"}},705665:e=>{e.exports={wrap:"wrap-g71rrBCn",scrollable:"scrollable-g71rrBCn",content:"content-g71rrBCn",empty:"empty-g71rrBCn",centered:"centered-g71rrBCn",emptyIcon:"emptyIcon-g71rrBCn",separatorDragPreview:"separatorDragPreview-g71rrBCn"}},927677:e=>{e.exports={}},448306:e=>{e.exports={}},978636:e=>{e.exports={icon:"icon-BHdu7XsL",long:"long-BHdu7XsL"}},8929:e=>{e.exports={notesIcon:"notesIcon-CpLnrEq1",wrapper:"wrapper-CpLnrEq1"}},417334:e=>{e.exports={wrapper:"wrapper-hqF8rL7S",description:"description-hqF8rL7S"}},780732:e=>{e.exports={wrapper:"wrapper-bIGHJRgI",description:"description-bIGHJRgI",dot:"dot-bIGHJRgI",marketOpen:"marketOpen-bIGHJRgI",marketPre:"marketPre-bIGHJRgI",marketPost:"marketPost-bIGHJRgI",marketClose:"marketClose-bIGHJRgI",marketHoliday:"marketHoliday-bIGHJRgI"}},154576:e=>{e.exports={symbol:"symbol-RsFlttSS",tileView:"tileView-RsFlttSS",small:"small-RsFlttSS",firstRow:"firstRow-RsFlttSS",selected:"selected-RsFlttSS",removeButton:"removeButton-RsFlttSS",active:"active-RsFlttSS",flag:"flag-RsFlttSS",indicators:"indicators-RsFlttSS",highlighted:"highlighted-RsFlttSS",invalid:"invalid-RsFlttSS",cell:"cell-RsFlttSS",inner:"inner-RsFlttSS",
logo:"logo-RsFlttSS",symbolName:"symbolName-RsFlttSS",tileSymbolName:"tileSymbolName-RsFlttSS",warningIcon:"warningIcon-RsFlttSS",notes:"notes-RsFlttSS",positions:"positions-RsFlttSS",symbolNameText:"symbolNameText-RsFlttSS",tileNameContent:"tileNameContent-RsFlttSS",description:"description-RsFlttSS",last:"last-RsFlttSS",change:"change-RsFlttSS",changeInPercents:"changeInPercents-RsFlttSS",volume:"volume-RsFlttSS",prePostMarket:"prePostMarket-RsFlttSS",prePostMarketNoPrice:"prePostMarketNoPrice-RsFlttSS",tileItem:"tileItem-RsFlttSS",tileChange:"tileChange-RsFlttSS",hidden:"hidden-RsFlttSS",tileChanges:"tileChanges-RsFlttSS",displayContents:"displayContents-RsFlttSS",tileWrap:"tileWrap-RsFlttSS",ellipsis:"ellipsis-RsFlttSS",plus:"plus-RsFlttSS",minus:"minus-RsFlttSS",firstItem:"firstItem-RsFlttSS",lastItem:"lastItem-RsFlttSS",flexCell:"flexCell-RsFlttSS",highlightUp:"highlightUp-RsFlttSS",highlightDown:"highlightDown-RsFlttSS",overlayEnd:"overlayEnd-RsFlttSS",touch:"touch-RsFlttSS"}},899840:e=>{e.exports={wrap:"wrap-evmjQ0gK",columnsMenu:"columnsMenu-evmjQ0gK",checkbox:"checkbox-evmjQ0gK",hovered:"hovered-evmjQ0gK",mobile:"mobile-evmjQ0gK"}},931040:e=>{e.exports={columnHeader:"columnHeader-k67yvGbk",small:"small-k67yvGbk",label:"label-k67yvGbk",sortable:"sortable-k67yvGbk",sortActivated:"sortActivated-k67yvGbk",flagSortable:"flagSortable-k67yvGbk",flagWrap:"flagWrap-k67yvGbk",sortArrow:"sortArrow-k67yvGbk",visible:"visible-k67yvGbk",desc:"desc-k67yvGbk"}},907052:e=>{e.exports={placeholder:"placeholder-qp5yBxtk",wrap:"wrap-qp5yBxtk",handle:"handle-qp5yBxtk",active:"active-qp5yBxtk",separator:"separator-qp5yBxtk"}},709608:e=>{e.exports={item:"item-S5Y6hbPP"}},209663:e=>{e.exports={item:"item-tbEqEdmw",withIcon:"withIcon-tbEqEdmw"}},844626:e=>{e.exports={sortingMenu:"sortingMenu-_MWrmiLZ",menu:"menu-_MWrmiLZ",content:"content-_MWrmiLZ",icon:"icon-_MWrmiLZ",dropped:"dropped-_MWrmiLZ"}},481035:e=>{e.exports={icon:"icon-D_3frAuZ"}},726417:e=>{e.exports={wrap:"wrap-Nz1M1_XP",menu:"menu-Nz1M1_XP",tableHeader:"tableHeader-Nz1M1_XP",columnHeader:"columnHeader-Nz1M1_XP",readonly:"readonly-Nz1M1_XP",symbolName:"symbolName-Nz1M1_XP",last:"last-Nz1M1_XP",change:"change-Nz1M1_XP",changeInPercents:"changeInPercents-Nz1M1_XP",volume:"volume-Nz1M1_XP",prePostMarket:"prePostMarket-Nz1M1_XP",prePostMarketNoPrice:"prePostMarketNoPrice-Nz1M1_XP",label:"label-Nz1M1_XP",firstItem:"firstItem-Nz1M1_XP",lastItem:"lastItem-Nz1M1_XP",mobileItem:"mobileItem-Nz1M1_XP",sortingMenu:"sortingMenu-Nz1M1_XP",reset:"reset-Nz1M1_XP"}},437872:e=>{e.exports={wrapper:"wrapper-loaskYzU"}},354583:e=>{e.exports={checkbox:"checkbox-aOSYFxuH"}},92910:e=>{e.exports={separator:"separator-QjUlCDId",small:"small-QjUlCDId",normal:"normal-QjUlCDId",large:"large-QjUlCDId"}},452671:e=>{e.exports={renameInput:"renameInput-sZgG7O9F"}},203223:(e,t,n)=>{"use strict";n.d(t,{CheckboxInput:()=>u});var s=n(50959),o=n(497754),r=n(8626),i=n(83436),l=n(465890),a=n(470048),c=n.n(a);function u(e){const t=o(c().box,c()[`intent-${e.intent}`],{[c().check]:!Boolean(e.indeterminate),
[c().dot]:Boolean(e.indeterminate),[c().noOutline]:-1===e.tabIndex}),n=o(c().wrapper,e.className);return s.createElement("span",{className:n,title:e.title,style:e.style},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:c().input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference,"aria-required":e["aria-required"],"aria-describedby":e["aria-describedby"],"aria-invalid":e["aria-invalid"],...(0,r.filterDataProps)(e)}),s.createElement("span",{className:t},s.createElement(i.Icon,{icon:l,className:c().icon})))}},182120:(e,t,n)=>{"use strict";n.d(t,{Checkbox:()=>c,GroupedCheckbox:()=>u});var s=n(50959),o=n(497754),r=n(451608),i=n(203223),l=n(869789),a=n.n(l);class c extends s.PureComponent{render(){const{inputClassName:e,labelClassName:t,...n}=this.props,r=o(this.props.className,a().checkbox,{[a().reverse]:Boolean(this.props.labelPositionReverse),[a().baseline]:Boolean(this.props.labelAlignBaseline)}),l=o(a().label,t,{[a().disabled]:this.props.disabled});let c=null;return this.props.label&&(c=s.createElement("span",{className:l,title:this.props.title},this.props.label)),s.createElement("label",{className:r},s.createElement(i.CheckboxInput,{...n,className:e}),c)}}c.defaultProps={value:"on"};const u=(0,r.makeSwitchGroupItem)(c)},57761:(e,t,n)=>{"use strict";n.d(t,{OptionsDialogController:()=>r});var s=n(111393);let o;class r extends s.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._subscribe=e=>{this._setVisibility(e)}}show(e){this._load(e).then((e=>e.show()))}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}static getInstance(){return o||(o=new r),o}_load(e){return Promise.all([n.e(22666),n.e(62253),n.e(92191),n.e(32109),n.e(72639),n.e(9817),n.e(4015),n.e(92108),n.e(89842),n.e(76592),n.e(5145),n.e(38669),n.e(25190),n.e(36747),n.e(45896),n.e(36953),n.e(52567),n.e(21625),n.e(61631),n.e(80538),n.e(80208),n.e(60399),n.e(93285),n.e(61687),n.e(56117),n.e(962),n.e(39501),n.e(78220),n.e(745),n.e(99146),n.e(1196),n.e(64198)]).then(n.bind(n,167793)).then((t=>{var n,s;return null===(n=this._dialog)||void 0===n||n.hide(),null===(s=this._dialog)||void 0===s||s.visible().unsubscribe(this._subscribe),this._dialog=new t.OptionsDialogRenderer(e),this._dialog.visible().subscribe(this._subscribe),this._dialog}))}}},254526:(e,t,n)=>{"use strict";n.d(t,{SYMBOL_TYPE_BLACK_LIST:()=>s});const s=new Set(["spread","economic"])},352137:(e,t,n)=>{"use strict";n.d(t,{QuoteSessionScreenerMultiplexer:()=>v,getBondsRequestParams:()=>C,getFuturesRequestParams:()=>w,getScreenerRequestParams:()=>E,prepareBondsData:()=>S,prepareFuturesData:()=>y});var s=n(838990),o=n(729030),r=n(149891),i=n(103416),l=n(650151),a=n(519073),c=n(254526),u=n(774280),d=n(266325),h=n(159954)
;const m=["price_52_week_high","price_52_week_low","sector","country","market","Low.1M","High.1M","Perf.W","Perf.1M","Perf.3M","Perf.6M","Perf.Y","Perf.YTD","Recommend.All","average_volume_10d_calc","average_volume_30d_calc","nav_discount_premium","open_interest"],_=["expiration","close"],p=["market_cap_calc","market_cap_diluted_calc","total_shares_outstanding","total_value_traded","24h_vol_to_market_cap"],f=["24h_vol_to_market_cap"],g=["Perf.3Y","Perf.5Y","nav_total_return.1M","nav_total_return.3M","nav_total_return.1Y","nav_total_return.YTD","nav_total_return.3Y","nav_total_return.5Y"],b=["maturity_date","close","coupon","typespecs","pricescale","fractional","minmov","minmove2","term-to-maturity","days_to_maturity"];class v{constructor(e){this._futures=[],this._bonds=[],this._cryptoData=null,this._cryptoAssetData=null,this._etfData=null,this._contractFuturesRequest=null,this._screenerCryptoRequest=null,this._screenerCryptoAssetRequest=null,this._screenerEtfRequest=null,this._contractBondsRequest=null,this._screenerData={},this._screenerRequest=null,this._response=null,this._deltaResponse=null,this._currentSymbolName=null,this._screenerComplete=null,this._quoteSessionMultiplexerInstance=e}subscribe(e,t,n){this._currentSymbolName=t,this._screenerRequest=null,this._screenerData={},this._contractFuturesRequest=null,this._contractBondsRequest=null,this._screenerComplete=null,this._futures=[],this._bonds=[],this._cryptoData=null,this._cryptoAssetData=null,this._etfData=null,this._quoteSessionMultiplexerInstance.subscribe(e,t,((e,t)=>{this._checkDataHandler(e,t,n)}))}unsubscribe(e,t,n){this._quoteSessionMultiplexerInstance.unsubscribe(e,t,n)}_mergeDataHandler(e,t={screener:!1,futures:!1,bonds:!1,crypto:!1,etf:!1,cryptoAsset:!1}){const{screener:n,futures:s,bonds:o,crypto:r,cryptoAsset:i,etf:a}=t,c=(0,l.ensureNotNull)(this._response),u=(0,l.ensureNotNull)(this._deltaResponse),d={...c.values,futures:this._futures,bonds:this._bonds,crypto_data:this._cryptoData,etf_data:this._etfData,crypto_asset_data:this._cryptoAssetData},h=n||s||o||r||a?{}:{...u.values};s&&(h.futures=this._futures),o&&(h.bonds=this._bonds),r&&(h.crypto_data=this._cryptoData),i&&(h.crypto_asset_data=this._cryptoAssetData),a&&(h.etf_data=this._etfData),m.forEach((e=>{void 0!==this._screenerData[e]&&null!==this._screenerData[e]&&(d[e]=this._screenerData[e],n&&(h[e]=this._screenerData[e]))}));const _={...c,values:d},p={...u,values:h};null===this._screenerComplete&&c.complete&&null===this._screenerRequest&&(this._screenerComplete=performance.now()),this._screenerComplete&&(_.completeScreener=this._screenerComplete),e(_,p)}_checkDataHandler(e,t,n){this._currentSymbolName===e.symbolname&&(this._response=e,this._deltaResponse=t,null===this._screenerRequest&&(this._screenerRequest=this._requestScreener(e,n)),null===this._screenerCryptoRequest&&(this._screenerCryptoRequest=this._requestCryptoData(e,n)),null===this._screenerCryptoAssetRequest&&(this._screenerCryptoAssetRequest=this._requestCryptoAssetData(e,n)),
null===this._screenerEtfRequest&&(this._screenerEtfRequest=this._requestEtfData(e,n)),null===this._contractFuturesRequest&&(this._contractFuturesRequest=this._requestFuturesContracts(e,n)),null===this._contractBondsRequest&&(this._contractBondsRequest=this._requestBondContracts(e,n)),this._mergeDataHandler(n))}_requestFuturesContracts(e,t){const n=w(e.values);if(void 0===n)return Promise.resolve();if(null===n)return null;const{symbol:o,options:r,market:i}=n;return(0,s.getFuturesContracts)(o,r,i).then((n=>{n&&this._currentSymbolName===e.symbolname&&(n.data.length&&(this._futures=y(n)),this._mergeDataHandler(t,{futures:!0}))}))}_requestBondContracts(e,t){const n=C(e.values);if(void 0===n)return Promise.resolve();if(null===n)return null;const{countryCode:o,options:r,market:i}=n;return(0,s.getBonds)(o,r,i).then((n=>{n&&this._currentSymbolName===e.symbolname&&(n.data.length&&(this._bonds=S(n)),this._mergeDataHandler(t,{bonds:!0}))}))}_requestCryptoAssetData(e,t){const{crypto_asset:n}=e.values;return n?(0,o.getSymbolData)(null,n,f).then((n=>{this._currentSymbolName===e.symbolname&&n&&(0!==Object.keys(n).length&&(this._cryptoAssetData=f.reduce(((e,t)=>({...e,[t]:n[t]})),{})),this._mergeDataHandler(t,{cryptoAsset:!0}))})).catch((e=>{if(!((0,d.isAbortError)(e)||e instanceof h.SymbolDoesNotExistErrorResponse))throw e})):null}_requestCryptoData(e,t){const{typespecs:n,pro_name:s,currency_code:r}=e.values;if(n&&(!(0,a.hasCryptoTypespec)(n)||"USD"!==r))return Promise.resolve();if(!s)return null;const i=(0,u.getTickerSymbol)(s,"crypto");return(0,o.getSymbolData)(null,i,p).then((n=>{this._currentSymbolName===e.symbolname&&n&&(0!==Object.keys(n).length&&(this._cryptoData=p.reduce(((e,t)=>({...e,[t]:n[t]})),{})),this._mergeDataHandler(t,{crypto:!0}))})).catch((e=>{if(!((0,d.isAbortError)(e)||e instanceof h.SymbolDoesNotExistErrorResponse))throw e}))}_requestEtfData(e,t){const{typespecs:n,pro_name:s,type:r}=e.values;return r&&n&&!(0,a.isEtf)(r,n)?Promise.resolve():s?(0,o.getSymbolData)(null,s,g).then((n=>{this._currentSymbolName===e.symbolname&&n&&(0!==Object.keys(n).length&&(this._etfData=g.reduce(((e,t)=>({...e,[t]:n[t]})),{})),this._mergeDataHandler(t,{etf:!0}))})).catch((e=>{if(!((0,d.isAbortError)(e)||e instanceof h.SymbolDoesNotExistErrorResponse))throw e})):null}_requestScreener(e,t){const n=this._currentSymbolName,s=E(e.values);if(void 0===s)return this._screenerComplete=performance.now(),Promise.resolve();if(null===s)return null;const{name:r,type:i}=s,l=(0,u.getTickerSymbol)(r,i);return(0,o.getSymbolData)(null,l,m).then((e=>{this._currentSymbolName===n&&e&&(0!==Object.keys(e).length&&m.forEach((t=>{const n=e[t];this._screenerData[t]=n})),this._screenerComplete=performance.now(),this._mergeDataHandler(t,{screener:!0}))})).catch((e=>{if(!((0,d.isAbortError)(e)||e instanceof h.SymbolDoesNotExistErrorResponse))throw e}))}}function y(e){return e.data.map((e=>_.reduce(((t,n,s)=>({...t,[n]:"expiration"===n?(0,i.mutateSimpleDate)(e.d[s]):e.d[s]})),{symbol:e.s})))}function S(e){return e.data.map((e=>b.reduce(((t,n,s)=>{let o;switch(n){
case"maturity_date":o=(0,i.mutateSimpleDate)(e.d[s]);break;case"fractional":o="true"===e.d[s];break;default:o=e.d[s]}return{...t,[n]:o}}),{symbol:e.s})))}function w(e){const{listed_exchange:t,root:n,type:s}=e;if(s&&"futures"!==s)return;if(!t||!s||!n)return null;const o={columns:_,sort:{sortBy:"expiration",sortOrder:"asc"}};return{symbol:`${t}:${n}`,market:(0,r.getSymbolScannerMarket)(),options:o}}function C(e){const{listed_exchange:t,type:n,typespecs:s,country_code:o}=e;if(n&&"bond"!==n)return;if(!(t&&n&&o&&(null==s?void 0:s.includes("government"))))return null;const i={columns:b,sort:{sortBy:"maturity_date",sortOrder:"asc"}};return{countryCode:o,market:(0,r.getSymbolScannerMarket)(),options:i}}function E(e){if(!e.type||!e.listed_exchange)return null;if(c.SYMBOL_TYPE_BLACK_LIST.has(e.type))return;const t=e.pro_name;return t?{name:t,type:e.type}:null}},250378:(e,t,n)=>{"use strict";n.d(t,{BadRequestErrorResponse:()=>o});var s=n(867023);class o extends s.ErrorResponse{constructor(e){super(e),this.name="BadRequestError",e.error?this.message=e.error:this.message="unknown error"}}},867023:(e,t,n)=>{"use strict";n.d(t,{ErrorResponse:()=>s});class s{constructor(e){this._status=e.status,this._statusText=e.statusText||""}getInfo(){return{name:this.name,status:this._status,statusText:this._statusText,message:this.message}}}},729030:(e,t,n)=>{"use strict";n.d(t,{getSymbolData:()=>c});var s=n(120780),o=n(125226),r=n(438874),i=n(250378),l=n(685503),a=n(159954);function c(e,t,n,c=!0){const u=n.join(","),d=(0,r.getSymbolDataUrl)(t,u,c),h={signal:e,method:"GET",credentials:"include",headers:{Accept:"application/json",...(0,o.isFeatureEnabled)("screener_new_auth_request_header")&&{"X-UseNewAuth":"true"}}};return(0,s.fetch)(d,h,{logOnErrorStatus:!1}).then((e=>{if(400===e.status){const{status:t,statusText:n}=e;return e.json().then((e=>{const s=e.errmsg;throw new i.BadRequestErrorResponse({status:t,statusText:n,error:s})}))}if(404===e.status){const{status:t,statusText:n}=e;return e.json().then((s=>{if("symbol_not_exists"===s.code){const e=s.errmsg;throw new a.SymbolDoesNotExistErrorResponse({status:t,statusText:n,error:e})}throw new l.HttpErrorResponse(e)}))}if(e.ok)return e.json().then((e=>e));throw new l.HttpErrorResponse(e)}))}},685503:(e,t,n)=>{"use strict";n.d(t,{HttpErrorResponse:()=>o});var s=n(867023);class o extends s.ErrorResponse{constructor(e){super(e),this.name="HttpErrorResponse",this._status>=200&&this._status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`}}},159954:(e,t,n)=>{"use strict";n.d(t,{SymbolDoesNotExistErrorResponse:()=>o});var s=n(867023);class o extends s.ErrorResponse{constructor(e){super(e),this.name="SymbolDoesNotExistError",this.message=e.error||"symbol does not exist"}}},438874:(e,t,n)=>{"use strict";function s(){return window.SCREENER_HOST||"https://scanner.tradingview.com"}function o(e,t){const n=s();return t?`${n}/${t}/`:1===e.length?`${n}/${e[0]}/`:`${n}/global/`}
function r(e,t,n){return`${s()}/symbol?symbol=${e}&fields=${t}${n?"&no_404=true":""}`}function i(e,t){return`${s()}/enum?id=${e}&lang=${t||window.language||"en"}`}n.d(t,{getBackendUrl:()=>o,getEnumRegistryUrl:()=>i,getSymbolDataUrl:()=>r})},743538:(e,t,n)=>{"use strict";n.d(t,{actionNames:()=>o});var s=n(591800);const o={"alt+return":(0,s.humanReadableHash)(s.Modifiers.Alt+13),"alt+shift+return":(0,s.humanReadableHash)(s.Modifiers.Alt+s.Modifiers.Shift+13)}},163482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TECHNICALS_QS_FIELDS:()=>s,TECHNICALS_SCREENER_COLUMNS:()=>a,requiredMAColumns:()=>i,requiredOscColumns:()=>r,requiredPivotsColumns:()=>l,requiredRecommendColumns:()=>o});const s=["type","listed_exchange","pricescale","typespecs","pro_name","short_name"],o=["Recommend.Other","Recommend.All","Recommend.MA"],r=["RSI","Stoch.K","CCI20","ADX","AO","Mom","MACD.macd","Stoch.RSI.K","W.R","BBPower","UO"],i=["EMA10","SMA10","EMA20","SMA20","EMA30","SMA30","EMA50","SMA50","EMA100","SMA100","EMA200","SMA200","Ichimoku.BLine","VWMA","HullMA9"],l=["Pivot.M.Classic.S3","Pivot.M.Classic.S2","Pivot.M.Classic.S1","Pivot.M.Classic.Middle","Pivot.M.Classic.R1","Pivot.M.Classic.R2","Pivot.M.Classic.R3","Pivot.M.Fibonacci.S3","Pivot.M.Fibonacci.S2","Pivot.M.Fibonacci.S1","Pivot.M.Fibonacci.Middle","Pivot.M.Fibonacci.R1","Pivot.M.Fibonacci.R2","Pivot.M.Fibonacci.R3","Pivot.M.Camarilla.S3","Pivot.M.Camarilla.S2","Pivot.M.Camarilla.S1","Pivot.M.Camarilla.Middle","Pivot.M.Camarilla.R1","Pivot.M.Camarilla.R2","Pivot.M.Camarilla.R3","Pivot.M.Woodie.S3","Pivot.M.Woodie.S2","Pivot.M.Woodie.S1","Pivot.M.Woodie.Middle","Pivot.M.Woodie.R1","Pivot.M.Woodie.R2","Pivot.M.Woodie.R3","Pivot.M.Demark.S1","Pivot.M.Demark.Middle","Pivot.M.Demark.R1"],a=[...o,...r,...i,...l]},719885:(e,t,n)=>{"use strict";n.d(t,{TechnicalsDialogController:()=>u});var s=n(583912),o=n(111393),r=n(774280),i=n(729030),l=n(254526),a=n(163482);let c;class u extends o.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._subscribe=e=>{this._setVisibility(e)}}async show(e){const t=(null==e?void 0:e.symbol)?e.symbol:s.linking.proSymbol.value();if(null==e?void 0:e.snapshot){const{snapshot:n}=e,s=await this._loadModule();this._getDialog(s,{...e,symbol:t,...n,exchange:n.listed_exchange}).show()}else{const s=async()=>{const{snapshoter:e}=await n.e(51030).then(n.bind(n,795394));return e().getSnapshot(t,new Set(a.TECHNICALS_QS_FIELDS))},[o,r]=await Promise.all([this._loadModule(),s()]);if("error"===r.status)return void this._getDialog(o,{...e,symbol:t}).show();this._getDialog(o,{...e,symbol:t,...r.values,exchange:r.values.listed_exchange}).show()}}async canBeShown(e){const t=e||s.linking.proSymbol.value();if(!t)return!1;const o=new Set([...a.TECHNICALS_QS_FIELDS,"description"]),c=await(async()=>{const{snapshoter:e}=await n.e(51030).then(n.bind(n,795394));return e().getSnapshot(t,o)})();if("error"===c.status)return!1;const{values:{type:u,listed_exchange:d,description:h}}=c;if(!l.SYMBOL_TYPE_BLACK_LIST.has(u))try{const e=(0,r.getTickerSymbol)(t,u),n=await(0,
i.getSymbolData)(null,e,["Recommend.All"]);return Boolean(n&&0!==Object.keys(n).length&&h&&d&&u)}catch(e){return!1}return!1}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}static getInstance(){return c||(c=new u),c}_getDialog(e,t){var n,s;return null===(n=this._dialog)||void 0===n||n.hide(),null===(s=this._dialog)||void 0===s||s.visible().unsubscribe(this._subscribe),this._dialog=new e.TechnicalsDialogRenderer(t),this._dialog.visible().subscribe(this._subscribe),this._dialog}_loadModule(){return Promise.all([n.e(58433),n.e(22666),n.e(5993),n.e(62253),n.e(32109),n.e(9817),n.e(53842),n.e(4015),n.e(92108),n.e(89842),n.e(68992),n.e(5145),n.e(38669),n.e(25190),n.e(36747),n.e(48155),n.e(45896),n.e(52567),n.e(21625),n.e(61631),n.e(80538),n.e(25626),n.e(39760),n.e(98625),n.e(80208),n.e(27825),n.e(60399),n.e(23683),n.e(17905),n.e(39295),n.e(962),n.e(52427),n.e(99146),n.e(97829),n.e(3897),n.e(71138)]).then(n.bind(n,948549))}}},503595:(e,t,n)=>{"use strict";n.d(t,{asyncWindowOpen:()=>r});var s=n(314802);const o=n(444372).t(null,void 0,n(390879));function r(e,t,n){return window.TVD||(0,s.isOnMobileAppPage)("any")?function(e,t,n){return e.then((e=>{void 0!==e&&open(e,t,n)}),(()=>{}))}(e,t,n):async function(e,t,n){const s=URL.createObjectURL(new Blob([`<!doctype html><html style="background-color:${getComputedStyle(document.documentElement).backgroundColor}"><head><meta charset="utf-8"><title>${o}</title></head><body style="background-color:${getComputedStyle(document.body).backgroundColor}"></body></html>`],{type:"text/html"}));try{const o=open(s,t,n);if(!o)throw new Error("cound not open a new tab");const r=await e.catch((()=>{}));void 0!==r?o.location.replace(r):o.close()}finally{URL.revokeObjectURL(s)}}(e,t,n)}},630440:(e,t,n)=>{"use strict";n.d(t,{getWarningTextForFreeUsers:()=>o});var s=n(444372);function o(){return window.is_authenticated?s.t(null,void 0,n(5174)):s.t(null,void 0,n(259782))}},406103:(e,t,n)=>{"use strict";n.d(t,{isIDCExchange:()=>o});var s=n(403009);function o(e,t=!1){var n,o,r;if(e&&e.startsWith("exchange-"))return function(e,t=!1){var n;const o=null===(n=window.pro)||void 0===n?void 0:n.getProduct(e);return!(void 0===o||!(0,s.isProductDefined)(o)||(t?!o.idc_service_codes_delay:!o.idc_service_codes))}(e,t);const i=(e||"").toLowerCase();return null!==(r=null===(o=null===(n=window.pro)||void 0===n?void 0:n.getIDCExchanges(t))||void 0===o?void 0:o.includes(i))&&void 0!==r&&r}},552279:(e,t,n)=>{"use strict";n.d(t,{reloginOrGoPro:()=>h,runOrGoPro:()=>d,runOrGoProWithoutSync:()=>u});var s=n(526225),o=n(960337),r=n(740254),i=n(833813);function l(e,t,n){return t.value||(0,r.enabled)(e,n)}function a(e,t,n){switch(e){case i.ProductFeatures.SCREENER_INTERVALS:return function(e,t){const n=(0,r.getConfig)(i.ProductFeatures.SCREENER_INTERVALS,t);return!(!n||!n.interval)&&n.interval.includes(e.interval)}(t,n);case i.ProductFeatures.SCREENER_AUTO_REFRESH:return l(i.ProductFeatures.SCREENER_AUTO_REFRESH,t,n);case i.ProductFeatures.ALERTS_NO_EXPIRATION:return l(i.ProductFeatures.ALERTS_NO_EXPIRATION,t,n);default:
return(0,r.enabled)(e,n)}}var c=n(781666);function u(e,t,n,s){a(t,s)?e():(0,o.createGoProDialog)({...n,runOrGoproWithFeatureCheckOptions:{featureCheck:()=>a(t,s),signInSuccess:e}})}async function d(e,t,n,o={}){const r=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,s.syncUserData)("gopro"),r===window.is_authenticated?u(e,t,n,o):(0,c.showSignModal)({source:n.goproSource,feature:n.feature,signinSuccess:e})}async function h(e){const t=window.is_authenticated;window.is_authenticated&&window.user.is_pro&&await(0,s.syncUserData)("gopro"),t===window.is_authenticated?(0,o.createGoProDialog)(e):(0,c.showSignModal)({source:e.goproSource,feature:e.feature})}},170873:(e,t,n)=>{"use strict";n.d(t,{FragmentMap:()=>o});var s=n(50959);function o(e){if(e.map){return s.Children.toArray(e.children).map(e.map)}return e.children}},656130:(e,t,n)=>{"use strict";n.d(t,{generateChartUrl:()=>o});var s=n(314802);function o(e){const t=e.chartId?`/chart/${e.chartId}/`:"/chart/",n=new URL(t,location.href);return e.symbol&&n.searchParams.append("symbol",e.symbol),e.interval&&n.searchParams.append("interval",e.interval),e.style&&n.searchParams.append("style",e.style),(0,s.urlWithMobileAppParams)(n.href)}},868305:(e,t,n)=>{"use strict";function s(e){const[t,n,s]=function(e){const t=e.toString();return[Number(t.slice(0,4)),Number(t.slice(4,6)),Number(t.slice(6))]}(e);return new Date(t,n-1,s)}n.d(t,{iso8601ToDateObj:()=>s})},515312:(e,t,n)=>{"use strict";n.d(t,{isNativeUIInteraction:()=>s.isNativeUIInteraction,isTextEditingField:()=>s.isTextEditingField});var s=n(607423)},76107:(e,t,n)=>{"use strict";n.d(t,{getCSSProperty:()=>l,getCSSPropertyNumericValue:()=>a,getContentWidth:()=>r,getScrollbarWidth:()=>s,matchMediaMinMax:()=>o,setStyle:()=>i});const s=(()=>{let e;return()=>{var t;if(void 0===e){const n=document.createElement("div"),s=n.style;s.visibility="hidden",s.width="100px",s.msOverflowStyle="scrollbar",document.body.appendChild(n);const o=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const i=r.offsetWidth;null===(t=n.parentNode)||void 0===t||t.removeChild(n),e=o-i}return e}})();function o(e,t){return t===1/0?window.matchMedia(`(min-width: ${e}px)`):window.matchMedia(`(min-width: ${e}px) and (max-width: ${t}px)`)}function r(e){return a(e,"width")-a(e,"padding-left")-a(e,"padding-right")}function i(e,t,n){null!==e&&e.style.setProperty(t,n)}function l(e,t){return getComputedStyle(e,null).getPropertyValue(t)}function a(e,t){return parseInt(l(e,t))}},526225:(e,t,n)=>{"use strict";n.r(t),n.d(t,{syncUserConversionData:()=>d,syncUserData:()=>u});var s=n(201089),o=n(345848),r=n(120780),i=n(290576);const l=(0,s.getLogger)("User.Sync");function a(e){return`${e}_${window.user&&window.user.username||""}`}function c(e,t,n,s=!0){n!==window.user.pro_plan&&(window.user.pro_plan=n,window.user.is_pro=Boolean(n),(0,o.trackEvent)("Sync User Data","Different Pro Plan",a(e))),t!==window.is_authenticated&&(window.is_authenticated=t,s&&window.loginStateChange.fire(),(0,
o.trackEvent)("Sync User Data","Different Auth",a(e)))}async function u(e){try{c(e,!0,(await(0,i.getProPlanDetailsForUser)()).pro_plan)}catch(t){!function(e,t){403===t.status&&["not_authenticated","login_required"].includes(t.type||"")?c(e,!1,void 0):l.logError(t.message)}(e,t)}}async function d(e,t=!0){var n;const s=new URL("/pricing/",window.location.origin),o=new URLSearchParams(window.location.search);o.has("_test_country")&&s.searchParams.append("_test_country",null!==(n=o.get("_test_country"))&&void 0!==n?n:"");const i=await(0,r.fetch)(s.href),l=await i.json();return c(e,l.is_authenticated,l.user.pro_plan,t),l}},681339:(e,t,n)=>{"use strict";n.d(t,{CachedLogo:()=>h});var s=n(50959),o=n(497754),r=n.n(o),i=(n(46926),n(495217)),l=n(783036),a=n(439378),c=n(552793),u=n(774218),d=n(257240);function h(e){const{className:t,placeholderLetter:n,url1:o,url2:h,size:p="xxxsmall"}=e,f=(0,s.useRef)(null),g=(0,s.useRef)(null),b=(0,s.useRef)(null),v=(0,s.useRef)(null),y=(0,s.useRef)(null),S=(0,s.useRef)(null);return(0,u.useIsomorphicLayoutEffect)((()=>{const e=void 0===o?[]:void 0===h?[o]:[o,h],t=S.current=(n=e,Promise.all(n.map((e=>(0,c.getImage)(`symbol_logo_${e}`,e,_).then((e=>e.cloneNode()))))));var n;t.then((e=>{var n,s,o,r,l,a,c,u,h;if(t===S.current)switch(e.length){case 0:null===(n=b.current)||void 0===n||n.classList.add(d.hidden),null===(s=g.current)||void 0===s||s.classList.add(i.hiddenCircleLogoClass),null===(o=f.current)||void 0===o||o.classList.remove(i.hiddenCircleLogoClass);break;case 1:m(g.current,e[0]),null===(r=b.current)||void 0===r||r.classList.add(d.hidden),null===(l=g.current)||void 0===l||l.classList.remove(i.hiddenCircleLogoClass),null===(a=f.current)||void 0===a||a.classList.add(i.hiddenCircleLogoClass);break;case 2:m(v.current,e[0]),m(y.current,e[1]),null===(c=b.current)||void 0===c||c.classList.remove(d.hidden),null===(u=g.current)||void 0===u||u.classList.add(i.hiddenCircleLogoClass),null===(h=f.current)||void 0===h||h.classList.add(i.hiddenCircleLogoClass)}}))}),[o,h]),s.createElement("span",{className:r()(t,d.container)},s.createElement("span",{ref:b,className:r()(d.pairContainer,d.hidden)},s.createElement("span",{className:(0,a.getBlockStyleClasses)(p)},s.createElement("span",{ref:y,className:r()(d.logo,(0,a.getLogoStyleClasses)(p))}),s.createElement("span",{ref:v,className:r()(d.logo,(0,a.getLogoStyleClasses)(p))}))),s.createElement("span",{ref:g,className:r()(d.logo,i.hiddenCircleLogoClass,(0,l.getStyleClasses)(p))}),s.createElement("span",{ref:f,className:r()(d.logo,(0,l.getStyleClasses)(p))},s.createElement(i.CircleLogo,{size:p,placeholderLetter:n})))}function m(e,t){e&&(e.innerHTML="",e.appendChild(t))}function _(e){e.decoding="async"}},273058:(e,t,n)=>{"use strict";n.d(t,{EtfAnalysisDialogController:()=>r});var s=n(111393);let o;class r extends s.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._subscribe=e=>{this._setVisibility(e)}}show(e){this._load(e).then((e=>e.show()))}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}static getInstance(){
return o||(o=new r),o}_load(e){return Promise.all([n.e(68716),n.e(40273),n.e(62295),n.e(49135),n.e(25538),n.e(22666),n.e(62253),n.e(92191),n.e(32109),n.e(72639),n.e(9817),n.e(4015),n.e(92108),n.e(89842),n.e(48986),n.e(68992),n.e(88548),n.e(81643),n.e(5145),n.e(38669),n.e(25190),n.e(36747),n.e(45896),n.e(89261),n.e(84452),n.e(21860),n.e(52567),n.e(40866),n.e(21625),n.e(61631),n.e(84372),n.e(89053),n.e(80538),n.e(35542),n.e(66886),n.e(50254),n.e(89277),n.e(24510),n.e(43981),n.e(80208),n.e(66863),n.e(51157),n.e(27702),n.e(60399),n.e(72786),n.e(53724),n.e(50576),n.e(36464),n.e(962),n.e(13133),n.e(85464),n.e(76819),n.e(55639),n.e(27818),n.e(93341),n.e(99146),n.e(34122),n.e(58534)]).then(n.bind(n,847194)).then((t=>{var n,s;return null===(n=this._dialog)||void 0===n||n.hide(),null===(s=this._dialog)||void 0===s||s.visible().unsubscribe(this._subscribe),this._dialog=new t.EtfAnalysisDialogRenderer(e),this._dialog.visible().subscribe(this._subscribe),this._dialog}))}}},471862:(e,t,n)=>{"use strict";n.d(t,{FinancialsWebviewController:()=>u});var s=n(195269),o=n(675128),r=n(740406),i=n(6613)
;const l=new Set(["number_of_employees","web_site_url","founded","ceo","market_cap_basic","dividends_yield","price_earnings_ttm","earnings_per_share_basic_ttm","currency_code","fundamental_currency_code","float_shares_outstanding","total_shares_outstanding","total_revenue_fy_h","total_revenue_fq_h","total_revenue_fh_h","net_income_fy_h","net_income_fq_h","net_income_fh_h","total_assets_fy_h","total_assets_fq_h","total_assets_fh_h","total_liabilities_fy_h","total_liabilities_fq_h","total_liabilities_fh_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_operating_activities_fh_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_investing_activities_fh_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","cash_f_financing_activities_fh_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","interest_income_fy_h","interest_income_fq_h","interest_income_fh_h","non_interest_income_fy_h","non_interest_income_fq_h","non_interest_income_fh_h","earnings_release_date_fq_h","earnings_release_date_fy_h","earnings_release_date_fh_h","earnings_release_next_date_fq","earnings_release_next_date_fy","earnings_release_next_date_fh","earnings_release_next_time","earnings_release_next_date","is_next_earnings_release_date_estimated","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_next_fy","earnings_per_share_forecast_next_fh","earnings_per_share_forecast_fq_h","earnings_per_share_forecast_fy_h","earnings_per_share_forecast_fh_h","earnings_per_share_fq_h","earnings_per_share_fy_h","earnings_per_share_fh_h","earnings_fiscal_period_fq_h","earnings_fiscal_period_fy_h","earnings_fiscal_period_fh_h","next_earnings_fiscal_period_fq","next_earnings_fiscal_period_fy","next_earnings_fiscal_period_fh","revenue_fq_h","revenue_fy_h","revenue_fh_h","revenue_forecast_fq_h","revenue_forecast_fy_h","revenue_forecast_fh_h","revenue_forecast_next_fq","revenue_forecast_next_fy","revenue_forecast_next_fh","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","dividend_amount_h","total_revenue_fy","gross_profit_fy","ebitda_fy","ebit_fy","net_income_fy","fiscal_period_fy","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","total_debt_fy_h","total_debt_fq_h","total_debt_fh_h","free_cash_flow_fy_h","free_cash_flow_fq_h","free_cash_flow_fh_h","cash_n_equivalents_fy_h","cash_n_equivalents_fq_h","cash_n_equivalents_fh_h","loans_net_fy","total_deposits_fy","loan_loss_allowances_fy","total_current_assets_fy","total_current_assets_fq","total_current_assets_fh","total_current_liabilities_fy","total_current_liabilities_fq","total_current_liabilities_fh","total_non_current_assets_fy","total_non_current_assets_fq","total_non_current_assets_fh","total_non_current_liabilities_fy","total_non_current_liabilities_fq","total_non_current_liabilities_fh","fiscal_period_fy","fiscal_period_fq","fiscal_period_fh","price_earnings_fq_h","price_earnings_fy_h","price_earnings_fh_h","price_sales_fq_h","price_sales_fy_h","price_sales_fh_h","fiscal_period_fy_h","fiscal_period_fq_h","fiscal_period_fh_h","market_cap_basic","diluted_net_income_ttm","total_revenue_ttm","price_earnings_current","price_sales_current","revenue_seg_by_business_h","revenue_seg_by_region_h","fiscal_period_fy","interest_income_fy","interest_income_fq","interest_income_fh","non_interest_income_fy","non_interest_income_fq","non_interest_income_fh","interest_expense_fy","interest_expense_fq","interest_expense_fh","loan_loss_provision_fy","loan_loss_provision_fq","loan_loss_provision_fh","non_interest_expense_fy","non_interest_expense_fq","non_interest_expense_fh","non_oper_income_fy","non_oper_income_fq","non_oper_income_fh","unusual_expense_inc_fy","unusual_expense_inc_fq","unusual_expense_inc_fh","pretax_income_fy","pretax_income_fq","pretax_income_fh","total_revenue_fy","total_revenue_fq","total_revenue_fh","gross_profit_fy","gross_profit_fq","gross_profit_fh","net_income_fy","net_income_fq","net_income_fh","cost_of_goods_fy","cost_of_goods_fq","cost_of_goods_fh","operating_expenses_fy","operating_expenses_fq","operating_expenses_fh","oper_income_fy","oper_income_fq","oper_income_fh","total_non_oper_income_fy","total_non_oper_income_fq","total_non_oper_income_fh","income_tax_fy","income_tax_fq","income_tax_fh","after_tax_other_income_fy","after_tax_other_income_fq","after_tax_other_income_fh","fiscal_period_fy","fiscal_period_fq","fiscal_period_fh","equity_in_earnings_fy","equity_in_earnings_fq","equity_in_earnings_fh","minority_interest_exp_fy","minority_interest_exp_fq","minority_interest_exp_fh","discontinued_operations_fy","discontinued_operations_fq","discontinued_operations_fh","fund_view_mode"]),a=(0,
o.lazyValue)((()=>new r.QuoteSessionSnapshoter({name:"financials-webview-quotes",fields:[...l]})));let c;class u extends s.WebviewControllerBase{open(e){const t=this._createOpenRequest(s.WebviewPageName.Financials,e);a().getSnapshot(t.symbol(),l);t.execute().ChartQuoteSnapshotProvider={getQuoteSnapshot(){var e;const n=i.QUOTE_FIELDS_CACHE.get(t.symbol());return null!==(e=null==n?void 0:n.values)&&void 0!==e?e:{}}}}static getInstance(){return c||(c=new u),c}}},888194:(e,t,n)=>{"use strict";n.d(t,{openFinancialsWebview:()=>o});var s=n(471862);function o(e){s.FinancialsWebviewController.getInstance().open(e)}},308458:(e,t,n)=>{"use strict";n.d(t,{KeyboardButton:()=>l});var s=n(50959),o=n(497754),r=n(83436),i=n(76244);function l(e){const{icon:t,title:n,className:l,iconClassName:a,a11yLabel:c}=e,u=Boolean(t);return s.createElement("kbd",{className:o(i.button,u&&i.withIcon,l)},u?s.createElement(s.Fragment,null,s.createElement(r.Icon,{"aria-hidden":!0,className:o(i.buttonIcon,a),icon:t}),s.createElement("span",{className:i["a11y-text"]},n)):c?s.createElement(s.Fragment,null,s.createElement("span",{"aria-hidden":!0},n),s.createElement("span",{className:i["a11y-text"]},c)):n)}},61570:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchDialogFooter:()=>l});var s=n(50959),o=n(497754),r=n.n(o),i=n(517723);function l(e){const{className:t,children:n}=e;return s.createElement("div",{className:r()(i.footer,t)},n)}},72368:(e,t,n)=>{"use strict";n.d(t,{canShowNewSymbolSearch:()=>a,getCurrentLocaleInfoCountry:()=>c,isMobile:()=>i,isPlatformMobile:()=>l});var s=n(314802),o=n(77122),r=n(638456);function i(){const e=window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches;return r.CheckMobile.any()&&!e}function l(){return!(0,s.isOnMobileAppPage)("any")&&i()}function a(){return!o.enabled("widget")&&!(0,s.isOnMobileAppPage)("any")}function c(){var e,t;return null===(t=null===(e=window.initData)||void 0===e?void 0:e.currentLocaleInfo)||void 0===t?void 0:t.flag.toUpperCase()}},704624:(e,t,n)=>{"use strict";n.d(t,{showWatchlistSearchDialog:()=>D});var s=n(50959),o=n(650151),r=n(444372),i=n(778785),l=n(386942),a=n(552623);function c(e){const{targetSymbol:t,store:n,children:o,handleTargetSymbolRemoved:r}=e,[i,c]=(0,s.useState)(null),[d,h]=(0,s.useState)(t),[m,_]=(0,s.useState)(null),p=(0,s.useRef)(null),f=(0,s.useMemo)((()=>({selectedAction:i,setSelectedAction:e=>c(e),isSpreadOrMultipleMode:u,addAfter:d,clearTargetSymbol:g,highlighted:m,highlight:b})),[i,c,d,m,_]);return(0,s.useEffect)((()=>()=>{null!==p.current&&clearTimeout(p.current)}),[]),s.createElement(l.Provider,{store:n},s.createElement(a.SymbolSearchWatchlistContext.Provider,{value:f},o));function g(){h(void 0),r()}function b(e){_(e),null!==p.current&&clearTimeout(p.current),p.current=setTimeout((()=>_(null)),500)}}function u(e,t){const n=!!t.current&&t.current.value.includes(",");return e||n}function d(e,t,n){return o=>s.createElement(c,{...o,store:e,targetSymbol:n,handleTargetSymbolRemoved:t})}var h=n(306388),m=n(691622),_=n(15814),p=n(826939),f=n(244692);function g(e,t){
const n=(0,_.getCurrentViewableListByWidgetId)(e,p.WATCHLIST_WIDGET_ID),{fullSymbolName:s}=t;return null===n||void 0===s?{}:{existInWatchlist:n.symbols.includes(s)}}function b(e){return(0,m.bindActionCreators)({addToWatchlist:f.addSymbolsThunk,removeFromWatchlist:f.removeSymbolsThunk,findInWatchlist:f.findInWatchlistThunk},e)}function v(e){return(0,m.bindActionCreators)({addToWatchlist:f.addSymbolsThunk,removeFromWatchlist:f.removeSymbolsThunk,findInWatchlist:f.findInWatchlistThunk},e)}var y=n(34831),S=n(497754),w=n.n(S),C=n(89248),E=n(470316),x=n(61570),I=n(308458),k=n(72952),N=n(678810);function T(e){const{searchRef:t,searchSpreads:i}=(0,o.ensureNotNull)((0,s.useContext)(C.SymbolSearchItemsDialogContext)),{isSpreadOrMultipleMode:l}=(0,o.ensureNotNull)((0,s.useContext)(a.SymbolSearchWatchlistContext)),c=l(i,t);return s.createElement(x.SymbolSearchDialogFooter,{className:N.footer},s.createElement("div",{className:N.shortcuts},c?s.createElement("div",{className:N.buttonGroup},s.createElement(I.KeyboardButton,{title:"Enter",className:N.button})):s.createElement(s.Fragment,null,s.createElement("div",{className:N.buttonGroup},u(),"+",s.createElement(I.KeyboardButton,{title:r.t(null,void 0,n(613750)),className:N.button})),r.t(null,void 0,n(96921)),s.createElement("div",{className:N.buttonGroup},u(),"+",s.createElement(I.KeyboardButton,{title:"Enter",className:N.button})))),s.createElement("div",{className:N.text},r.t(null,void 0,n(291635))));function u(){return E.isMacKeyboard?s.createElement(I.KeyboardButton,{title:"Shift",icon:k,className:w()(N.button,N.withIcon),iconClassName:N.icon}):s.createElement(I.KeyboardButton,{title:"Shift",className:N.button})}}const A=(0,n(72368).isPlatformMobile)();let M=null;function D(e){const{fullscreen:t,onSearchComplete:a,targetSymbol:c}=e;let u=!1;const m={dialogTitle:r.t(null,void 0,n(57590)),fullscreen:t,onSearchComplete:e=>u?a(e):a(e,c)},_=()=>u=!0;(0,h.initSymbolListService)().then((e=>{const t=M=(0,y.loadNewSymbolSearch)().then((a=>{if(t!==M)return;const{showSymbolSearchItemsDialog:u,Components:h}=a;var p,f;u({...m,wrapper:d(e.store,_,c),dialog:(f=(0,o.ensureNotNull)(h.SymbolSearchWatchlistDialog),(0,l.connect)(null,v)(f)),contentItem:(p=(0,o.ensureNotNull)(h.SymbolSearchWatchlistDialogContentItem),(0,l.connect)(g,b)(p)),placeholder:A?void 0:r.t(null,void 0,n(252298)),footer:i.mobiletouch?void 0:s.createElement(T)})}))}))}},89248:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchItemsDialogContext:()=>s});const s=n(50959).createContext(null)},332450:(e,t,n)=>{"use strict";n.d(t,{CLOSE_POPUPS_AND_DIALOGS_COMMAND:()=>s,breakpointList:()=>o});const s="CLOSE_POPUPS_AND_DIALOGS_COMMAND",o=[1920,1440,1280,1024,768,480,0]},711496:(e,t,n)=>{"use strict";n.d(t,{hasFinancialsByAvailabilityFlags:()=>u,hasFinancialsByTypespecs:()=>c});var s=n(519073);const o=new Set(["stock","dr","right","warrant","structured","bond"]),r=new Set(["mutual","unit","trust","reit","closedend","etn"]),i=new Set(["etn"]),l=new Set(["convertible","corporate"]),a=new Set(["cfd"]);function c(e,t){return!(e&&t&&(0,
s.isEtf)(e,t))&&("structured"===e&&(null==t?void 0:t.length)?t.filter((e=>i.has(e))).length>0:"fund"===e&&(null==t?void 0:t.length)?t.filter((e=>r.has(e))).length>0:"bond"===e&&(null==t?void 0:t.length)?t.filter((e=>l.has(e))).length>0:"stock"===e&&(null==t?void 0:t.length)?0===t.filter((e=>a.has(e))).length:Boolean(e&&o.has(e)))}function u(e,t,n){if(t&&n&&(0,s.isEtf)(t,n))return!1;const{dividendsAvailability:o,earningsAvailability:r,financialsAvailability:i}=e;return 1===i||1===o||1===r}},713931:(e,t,n)=>{"use strict";n.d(t,{hideDetailsDialogs:()=>a});var s=n(57761),o=n(719885),r=n(988534),i=n(316478),l=n(273058);function a(e){"forecast"!==e&&function(){const e=i.ForecastDialogController.getInstance();e.visible()&&e.hide()}(),"technicals"!==e&&function(){const e=o.TechnicalsDialogController.getInstance();e.visible()&&e.hide()}(),"financials"!==e&&function(){const e=r.FinancialsDialogController.getInstance();e.visible()&&e.hide()}(),"options"!==e&&function(){const e=s.OptionsDialogController.getInstance();e.visible()&&e.hide()}(),"etf-analysis"!==e&&function(){const e=l.EtfAnalysisDialogController.getInstance();e.visible()&&e.hide()}()}},137674:(e,t,n)=>{"use strict";n.d(t,{createSymbolNote:()=>p,showMindsPage:()=>_,showSymbolDetails:()=>f,showSymbolIdeas:()=>m,showSymbolNews:()=>h,showSymbolNotes:()=>d});var s=n(2606),o=n(421219),r=n(777453);async function i(e){Promise.all([n.e(22666),n.e(5993),n.e(62253),n.e(92191),n.e(34465),n.e(32109),n.e(9817),n.e(69121),n.e(4015),n.e(92108),n.e(87845),n.e(89842),n.e(76592),n.e(35649),n.e(5145),n.e(38669),n.e(25190),n.e(73954),n.e(58056),n.e(21625),n.e(61631),n.e(90592),n.e(15518),n.e(34186),n.e(66154),n.e(98535),n.e(70235),n.e(86102),n.e(962),n.e(26300),n.e(86942),n.e(21115),n.e(91357),n.e(50996)]).then(n.bind(n,768175)).then((t=>{t.renderNotesDialog(e)}))}var l=n(881607);var a=n(515828);let c=null;function u(e,t){if(c&&s.isDetailsReady.unsubscribe(c),c=()=>{var n,s,o;(null===(o=null===(s=null===(n=null===window||void 0===window?void 0:window.widgetbar)||void 0===n?void 0:n.layout)||void 0===s?void 0:s.getWidgetByType("detail"))||void 0===o?void 0:o.widgetObject).navigate(e,t)},s.isDetailsReady.value())return c(),void(c=null);s.isDetailsReady.subscribe(c,{once:!0})}function d(e=null,t){const n=(0,o.pathToGroup)(null!=e?e:"");t?i(n):u(n)}function h(e,t){const s=(0,r.newsPathToGroup)(null!=e?e:"");t?async function(e){(await Promise.all([n.e(22666),n.e(5993),n.e(62253),n.e(32109),n.e(9817),n.e(53842),n.e(4015),n.e(92108),n.e(13423),n.e(89842),n.e(88548),n.e(76592),n.e(35649),n.e(5145),n.e(38669),n.e(30006),n.e(25190),n.e(36747),n.e(58056),n.e(52567),n.e(21625),n.e(50938),n.e(67080),n.e(61631),n.e(54234),n.e(15518),n.e(76972),n.e(24490),n.e(58666),n.e(39164),n.e(45932),n.e(91729),n.e(962),n.e(85529),n.e(87633),n.e(54994),n.e(95886),n.e(84482)]).then(n.bind(n,23154))).renderNewsDialog(e)}(s):u(s)}function m(e,t){const s=(0,l.ideasPathToGroup)(null!=e?e:"");t?async function(e){
(await Promise.all([n.e(22666),n.e(62253),n.e(92191),n.e(32109),n.e(9817),n.e(4015),n.e(92108),n.e(89842),n.e(88548),n.e(76592),n.e(5145),n.e(38669),n.e(25190),n.e(36747),n.e(45896),n.e(58056),n.e(42244),n.e(52567),n.e(21625),n.e(50938),n.e(61631),n.e(15518),n.e(76972),n.e(35306),n.e(65864),n.e(71793),n.e(82173),n.e(98535),n.e(76140),n.e(962),n.e(23127),n.e(51579),n.e(94673)]).then(n.bind(n,790348))).renderIdeasDialog(e)}(s):u(s)}function _(e,t,n){u((0,a.createMindsPath)(null!=e?e:"",t,n))}function p(e=null,t){const n=(0,o.pathToGroup)(null!=e?e:"")+"?new="+performance.now();t&&i(n),u(n)}function f(){u("/")}},881607:(e,t,n)=>{"use strict";n.d(t,{IDEAS_GROUP_PATH_PATTERN:()=>s,ideasPathToGroup:()=>o});const s="/ideas/groups/:symbol/";function o(e){return s.replace(":symbol",encodeURIComponent(e))}},515828:(e,t,n)=>{"use strict";n.d(t,{MINDS_GROUP_PATH_PATTERN:()=>s,createMindsPath:()=>o});const s="/minds/groups/:symbol/";function o(e,t,n){let o=s.replace(":symbol",encodeURIComponent(e));if(!t)return o;const r=new URLSearchParams;return r.set("mind",t),n&&r.set("editable","true"),o+=`?${r.toString()}`,o}},777453:(e,t,n)=>{"use strict";n.d(t,{NEWS_GROUP_PATH_PATTERN:()=>s,newsPathToGroup:()=>o});const s="/news/groups/:symbol/";function o(e){return s.replace(":symbol",encodeURIComponent(e))}},57933:(e,t,n)=>{"use strict";n.d(t,{selectAllSymbolNotesGroups:()=>l,selectLastModifiedNoteInGroup:()=>d,selectLastNote:()=>c,selectNotesStatus:()=>u,selectSymbolNotesByGroup:()=>a});var s=n(377145),o=n(650151),r=n(431070);const i=e=>e.symbolNotes,l=(0,s.createSelector)(i,(e=>{const t={};return Object.keys(e.groups).forEach((n=>{var s,o;e.groups[n]&&(t[n]={name:n,notes:null!==(o=null===(s=e.groups[n])||void 0===s?void 0:s.notes.filter((t=>{var n;return null===(n=e.notes[t])||void 0===n?void 0:n.content.trim()})))&&void 0!==o?o:[]})})),t})),a=(0,s.createSelector)([l,(e,t)=>t],((e,t)=>{var n,s;return null!==(s=null===(n=e[t])||void 0===n?void 0:n.notes)&&void 0!==s?s:[]})),c=(0,s.createSelector)([i,a],((e,t)=>{var n;const s=t[t.length-1];return null!==(n=e.notes[s])&&void 0!==n?n:null})),u=(0,s.createSelector)(i,(e=>e.status)),d=(0,s.createSelector)([i,a],((e,t)=>(0,o.ensureDefined)(e.notes[(0,r.getLastModifiedNoteId)(t,e.notes)])))},421219:(e,t,n)=>{"use strict";n.d(t,{GROUP_PATH_PATTERN:()=>o,NOTES_PATH_PATTERN:()=>s,UNATTENDED_PATH_PATTERN:()=>r,pathToGroup:()=>i});const s="/notes/",o="/notes/groups/:symbol/",r="/notes/unattended/";function i(e){return e?o.replace(":symbol",encodeURIComponent(e)):r}},362052:(e,t,n)=>{"use strict";n.d(t,{CompareLabel:()=>i});var s=n(50959),o=n(558470),r=n(103322);function i(e){return s.createElement("div",{className:r.wrapper},s.createElement("span",null,e.label),s.createElement(o.Badge,{className:r.newLabel,size:o.BadgeSize.XSmall},"New"))}},103669:(e,t,n)=>{"use strict";n.d(t,{DetailsDialogController:()=>r});var s=n(111393);let o;class r extends s.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._promise=null,this._subscribe=e=>{this._setVisibility(e)}}show(e){
const t=this._promise=Promise.all([n.e(18809),n.e(68716),n.e(22309),n.e(11165),n.e(93054),n.e(58433),n.e(40273),n.e(62295),n.e(27866),n.e(45612),n.e(22666),n.e(5993),n.e(62253),n.e(32109),n.e(9817),n.e(53842),n.e(4015),n.e(92108),n.e(89842),n.e(68992),n.e(88548),n.e(35649),n.e(81643),n.e(5145),n.e(38669),n.e(30006),n.e(25190),n.e(36747),n.e(48155),n.e(58056),n.e(52567),n.e(21625),n.e(67080),n.e(61631),n.e(76972),n.e(58666),n.e(39164),n.e(66886),n.e(50254),n.e(25626),n.e(45932),n.e(39760),n.e(5345),n.e(66154),n.e(28699),n.e(10690),n.e(21661),n.e(72817),n.e(20996),n.e(71615),n.e(10699),n.e(962),n.e(26300),n.e(90051),n.e(39501),n.e(86942),n.e(61838),n.e(88124),n.e(44246),n.e(76819),n.e(55639),n.e(75767),n.e(76273),n.e(94029),n.e(26720)]).then(n.bind(n,282555)).then((n=>{this._promise===t&&(this._dialog&&(this._dialog.hide(),this._dialog.visible().unsubscribe(this._subscribe)),this._dialog=new n.DetailsDialogRenderer,this._dialog.visible().subscribe(this._subscribe),this._dialog.show(e))}))}hide(){var e,t;null===(e=this._dialog)||void 0===e||e.hide(),null===(t=this._dialog)||void 0===t||t.visible().unsubscribe(this._subscribe)}static getInstance(){return o||(o=new r),o}}},766728:(e,t,n)=>{"use strict";n.d(t,{DetailsWebviewController:()=>g});var s=n(195269),o=n(675128),r=n(740406),i=n(352137),l=n(838990)
;const a=["Perf.W","Perf.1M","Perf.3M","Perf.6M","Perf.Y","Perf.YTD","Recommend.All","sector","country","market","average_volume_30d_calc","nav_discount_premium","price_52_week_high","price_52_week_low","open_interest"],c=["volume","logoid","currency-logoid","base-currency-logoid","current_session","update_mode","update_mode_seconds","change","change_percent","last_price","currency_code","measure","currency_id","unit_id","value_unit_id","fundamental_currency_code","lp_time","rtc","rch","rchp","minmov","minmove2","fractional","timezone","pro_name","short_name","type","typespecs","exchange","listed_exchange","industry","market_cap_basic","earnings_per_share_basic_ttm","dividends_yield","price_earnings_ttm","web_site_url","business_description","number_of_employees","float_shares_outstanding","pricescale","variable_tick_size","open_price","low_price","high_price","bid","ask","bid_size","ask_size","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_next_calendar_date","recommendation_mark","price_target_average","rates_pt","symbol-primaryname","source2","format","last_report_frequency","dividend_payout_ratio_ttm","dividends_yield_current","dividend_ex_date_upcoming","dividend_amount_upcoming","dividend_amount_recent","dividend_ex_date_recent","total_revenue_fq_h","total_revenue_fy_h","net_income_fy_h","net_income_fq_h","total_assets_fy_h","total_assets_fq_h","total_liabilities_fy_h","total_liabilities_fq_h","cash_f_operating_activities_fy_h","cash_f_operating_activities_fq_h","cash_f_investing_activities_fy_h","cash_f_investing_activities_fq_h","cash_f_financing_activities_fy_h","cash_f_financing_activities_fq_h","fiscal_period_fy_h","fiscal_period_fq_h","earnings_release_date_fq_h","earnings_release_next_date_fq","earnings_per_share_forecast_next_fq","earnings_per_share_forecast_fq_h","earnings_per_share_fq_h","earnings_fiscal_period_fq_h","interest_income_fy_h","interest_income_fq_h","interest_income_fh_h","non_interest_income_fy_h","non_interest_income_fq_h","non_interest_income_fh_h","fund_view_mode","next_earnings_fiscal_period_fq","earnings_release_next_time","is_next_earnings_release_date_estimated","root","isin","country_code","website","doc","explorer","sources","contracts","crypto_common_categories","crypto_asset","community","dividends_availability","earnings_availability","financials_availability","etf_asset_type_exposure","etf_region_exposure","etf_holdings_count","pointvalue","front_contract","expiration","contract-description","options-info","aum","beta_1_year","asset_class","focus","expense_ratio","launch_date","issuer","brand","homepage","index_tracked"];var u=n(729030),d=n(774280),h=n(266325),m=n(159954);const _=new Set(["short_name","pro_name","listed_exchange","type","typespecs","root","country_code"]),p=new Set(c),f=(0,o.lazyValue)((()=>new r.QuoteSessionSnapshoter({name:"details-webview-quotes",fields:[...c]})));class g extends s.WebviewControllerBase{open(e=new URLSearchParams){
const t=this._createOpenRequest(s.WebviewPageName.Details,e),n=f().getSnapshot(t.symbol(),_),o=this._getScreenerData(n),i=this._getFuturesData(n),l=this._getBondsData(n);f().getSnapshot(t.symbol(),p);const a=t.execute();a.ChartQuoteSnapshotProvider={getQuoteSnapshot(){var e;const n=r.QuoteSessionSnapshoter.cache.get(t.symbol());return null!==(e=null==n?void 0:n.values)&&void 0!==e?e:{}}},a.DetailsScreenerProvider={async getScreenerSnapshot(){const[e,t,n]=await Promise.all([o,i,l]);return{...e,futures:t,bonds:n}}}}async _getScreenerData(e){const t=await e;if("error"===t.status)return;const n=(0,i.getScreenerRequestParams)(t.values);if(!n)return;const{type:s,name:o}=n,r=(0,d.getTickerSymbol)(o,s);try{const e=await(0,u.getSymbolData)(null,r,a);if(!e||0===Object.keys(e).length)return;const t={};return a.forEach((n=>{const s=e[n];null!=s&&(t[n]=s)})),t}catch(e){if((0,h.isAbortError)(e)||e instanceof m.SymbolDoesNotExistErrorResponse)return;throw e}}async _getFuturesData(e){const t=await e;if("error"===t.status)return;const n=(0,i.getFuturesRequestParams)(t.values);if(!n)return;const{symbol:s,options:o,market:r}=n,a=await(0,l.getFuturesContracts)(s,o,r);return a.data.length?(0,i.prepareFuturesData)(a):void 0}async _getBondsData(e){const t=await e;if("error"===t.status)return;const n=(0,i.getBondsRequestParams)(t.values);if(!n)return;const{countryCode:s,options:o,market:r}=n,a=await(0,l.getBonds)(s,o,r);return a.data.length?(0,i.prepareBondsData)(a):void 0}}},715518:(e,t,n)=>{"use strict";n.d(t,{showDetailsDialog:()=>o});var s=n(103669);function o(e){s.DetailsDialogController.getInstance().show(e)}},988534:(e,t,n)=>{"use strict";n.d(t,{FinancialsDialogController:()=>r});var s=n(111393);let o;class r extends s.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._subscribe=e=>{this._setVisibility(e)}}show(e){this._load(e).then((e=>e.show()))}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}static getInstance(){return o||(o=new r),o}_load(e){return Promise.all([n.e(68716),n.e(73729),n.e(22666),n.e(5993),n.e(62253),n.e(92191),n.e(34465),n.e(32109),n.e(72639),n.e(9817),n.e(69121),n.e(53842),n.e(4015),n.e(92108),n.e(66639),n.e(88194),n.e(13423),n.e(89842),n.e(68992),n.e(88548),n.e(76592),n.e(35649),n.e(81643),n.e(13152),n.e(5145),n.e(38669),n.e(30006),n.e(84281),n.e(25190),n.e(36747),n.e(91033),n.e(48155),n.e(45896),n.e(52567),n.e(40866),n.e(21625),n.e(90684),n.e(67080),n.e(61631),n.e(24215),n.e(84372),n.e(80538),n.e(36842),n.e(163),n.e(98149),n.e(35542),n.e(34186),n.e(66886),n.e(50254),n.e(89277),n.e(71838),n.e(66154),n.e(28699),n.e(24510),n.e(43981),n.e(80208),n.e(87554),n.e(72817),n.e(36493),n.e(78059),n.e(60399),n.e(20087),n.e(53724),n.e(81905),n.e(21058),n.e(962),n.e(90051),n.e(31986),n.e(73026),n.e(76819),n.e(55639),n.e(75767),n.e(27818),n.e(18742),n.e(66253),n.e(99146),n.e(64136),n.e(79486),n.e(24878)]).then(n.bind(n,571592)).then((t=>{var n,s;return null===(n=this._dialog)||void 0===n||n.hide(),null===(s=this._dialog)||void 0===s||s.visible().unsubscribe(this._subscribe),
this._dialog=new t.FinancialsDialogRenderer(e),this._dialog.visible().subscribe(this._subscribe),this._dialog}))}}},700134:(e,t,n)=>{"use strict";n.d(t,{showFinancialsDialog:()=>r});var s=n(988534),o=n(713931);function r(e){s.FinancialsDialogController.getInstance().show({...e,onOpen:()=>{(0,o.hideDetailsDialogs)("financials")}})}},316478:(e,t,n)=>{"use strict";n.d(t,{ForecastDialogController:()=>i});var s=n(111393),o=n(583912);let r;class i extends s.DialogRenderer{constructor(){super(...arguments),this._dialog=null,this._subscribe=e=>{this._setVisibility(e)}}show(e){this._load(e).then((e=>e.show()))}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}async canBeShown(e){const t=e||o.linking.proSymbol.value(),s=new Set(["recommendation_mark","pro_name"]),r=await(async()=>{const{snapshoter:e}=await n.e(62495).then(n.bind(n,960669));return e().getSnapshot(t,s)})();return!("error"===r.status||!r.values.recommendation_mark)}static getInstance(){return r||(r=new i),r}_load(e){return Promise.all([n.e(68716),n.e(73486),n.e(22666),n.e(5993),n.e(62253),n.e(32109),n.e(72639),n.e(9817),n.e(53842),n.e(4015),n.e(92108),n.e(89842),n.e(68992),n.e(88548),n.e(5145),n.e(38669),n.e(25190),n.e(36747),n.e(48155),n.e(45896),n.e(52567),n.e(40866),n.e(21625),n.e(61631),n.e(80538),n.e(35542),n.e(66886),n.e(25626),n.e(89277),n.e(5345),n.e(98625),n.e(24510),n.e(43981),n.e(80208),n.e(10690),n.e(21661),n.e(27825),n.e(36493),n.e(60399),n.e(39855),n.e(35269),n.e(71520),n.e(962),n.e(39501),n.e(67656),n.e(76819),n.e(75767),n.e(27818),n.e(52427),n.e(99146),n.e(85816),n.e(85080)]).then(n.bind(n,231078)).then((t=>{var n,s;return null===(n=this._dialog)||void 0===n||n.hide(),null===(s=this._dialog)||void 0===s||s.visible().unsubscribe(this._subscribe),this._dialog=new t.ForecastDialogRenderer(e),this._dialog.visible().subscribe(this._subscribe),this._dialog}))}}},631530:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContextMenuWatchlistItem:()=>l});var s=n(50959),o=n(497754),r=n(45219),i=n(372851);function l(e){const{title:t,isSmallSize:n,indeterminate:l,isChecked:a}=e;return s.createElement(r.PopupMenuItemToggle,{isChecked:a||Boolean(l),label:t,className:o(i.item,n&&i.small),labelClassName:i.label,checkboxClassName:i.checkbox,indeterminate:l})}},608435:(e,t,n)=>{"use strict";n.d(t,{HeaderMenu:()=>u});var s=n(50959),o=n(497754),r=n.n(o),i=n(70829),l=n(995683),a=n(88148);const c=(0,l.mergeThemes)(i.DEFAULT_TOOL_WIDGET_MENU_THEME,{button:a.button,hover:a.hover,isOpened:a.isOpened});function u(e){const{className:t,content:n,...o}=e;return s.createElement(i.ToolWidgetMenu,{...o,theme:c,className:r()(t),content:s.createElement("span",{className:r()(a.inner)},n)})}},819752:(e,t,n)=>{"use strict";n.d(t,{SymbolList:()=>mn});var s=n(386942),o=n(691622),r=n(296890),i=n(50959),l=n(497754),a=n.n(l),c=n(650151),u=n(443549),d=n(324997),h=n(320116),m=n(494966),_=n(45195);function p(e){const{id:t,className:n}=e;return i.createElement("div",{className:a()(_.node,n)},(0,m.safeShortName)(t))}var f=n(478293),g=n(850935),b=(n(305797),
n(960466)),v=n(722840),y=n(309103),S=n(778785),w=n(583912),C=n(665570),E=n(456746),x=n(444372),I=n(919476),k=n(780732);const N={market:"marketOpen",pre_market:"marketPre",post_market:"marketPost",out_of_session:"marketClose",holiday:"marketHoliday"},T={market:x.t(null,void 0,n(383949)),pre_market:x.t(null,void 0,n(943608)),post_market:x.t(null,void 0,n(556604)),out_of_session:x.t(null,void 0,n(895814)),holiday:x.t(null,void 0,n(988958))},A={delayed_streaming:x.t(null,void 0,n(78211)),pulsed:x.t(null,void 0,n(78211)),streaming:x.t(null,void 0,n(906530)),endofday:x.t(null,void 0,n(132023))};function M(e){const t=T[e];return`<span class="${k[N[e]]}">${(0,I.htmlEscape)(t)}</span>`}var D=n(837657),L=n(148547),P=n(244692),R=n(654145),F=n(333765);const W=(0,s.connect)(null,(function(e){return(0,o.bindActionCreators)({removeSymbol:P.removeSymbolsThunk},e)}))((function(e){return i.createElement(L.ListItemButton,{onClick:function(t){const{widgetId:n,removeSymbol:s,symbolName:o}=e;t.preventDefault(),s(n,o)},className:a()(e.className,R.removeButton),icon:F})}));var B=n(949590);function O(e){if(3===e.nodeType&&e.data.trim())return e;if(e.childNodes)for(let t=e.childNodes.length;t--;){const n=O(e.childNodes[t]);if(n)return n}return null}function q(e,t){const n=t.parentNode;if(!n)return;const s=t.nextSibling;s?n.insertBefore(e,s):n.appendChild(e)}function H(e){const t=O(e);if(t){const e=t.data;if(t.parentNode&&t.parentNode.tagName&&"sup"===t.parentNode.tagName.toLowerCase())return;const n=/^([^]*)(\S)(\s*)$/.exec(e);if(n){t.data=n[1];const e=document.createElement("sup");e.textContent=n[2],q(e,t),n[3]&&q(document.createTextNode(n[3]),e)}}}var z=n(154576);class U extends i.PureComponent{constructor(){super(...arguments),this._ref=null,this._highlightTimeout=null,this._context=null,this._values=null,this._handleRef=e=>{this._ref=e}}componentWillUnmount(){this._highlightTimeout&&clearTimeout(this._highlightTimeout)}render(){const{isHidden:e,className:t,ellipsis:n}=this.props;return i.createElement("span",{className:l(t,z.cell,z.last,e&&z.hidden)},i.createElement("span",{className:l(z.inner,n&&z.ellipsis),ref:this._handleRef}))}update(e){const{values:t}=e,n=this._values;if(void 0===t.last_price||null===this._ref)return;const s=null===n||n.pricescale!==t.pricescale||n.minmov!==t.minmov||n.fractional!==t.fractional||n.minmove2!==t.minmove2,o=null===n||n.last_price!==t.last_price;if(!s&&!o)return;this._values={...t};const{format:r,pricescale:i=100,minmov:l=1,fractional:a,minmove2:c,variable_tick_size:u}=t,d=new B.LastChangeFormatter({format:r,pricescale:i,minmov:l,fractional:a,minmove2:c,variableMinTick:u}),h=t.last_price,m=d.format(t.last_price),_=null!==this._context?this._context.currentText:null,p=null!==this._context?this._context.currentValue:null,f=this._context={formatter:d,currentValue:h,currentText:m,previousValue:p,previousText:_};this._ref.innerText=m,this._processHighlight(this._ref,f);d.hasForexAdditionalPrecision()&&H(this._ref)}_processNumericDiff(e){
const{previousValue:t,previousText:n,currentValue:s,currentText:o,formatter:r}=e;if(null===t||null===n||null===this._ref)return;const i=l(s>t&&z.plus,s<t&&z.minus),a=Math.min(n.length,o.length);let c=0;for(;c<a&&n.charAt(c)===o.charAt(c);)c++;const u=o.slice(0,c),d=o.slice(c);d.length&&i?this._ref.innerHTML=u+`<span class="${i}">${d}</span>`:this._ref.innerText=o;r.hasForexAdditionalPrecision()&&H(this._ref)}_processHighlight(e,t){const{previousValue:n,currentValue:s}=t;null!==n&&n!==s&&(null!==this._highlightTimeout&&(clearTimeout(this._highlightTimeout),this._highlightTimeout=null),e.classList.toggle(z.highlightUp,s>n),e.classList.toggle(z.highlightDown,s<n),this._highlightTimeout=setTimeout((()=>{e.classList.remove(z.highlightUp,z.highlightDown),this._processNumericDiff(t)}),500))}}var V=n(150335);const G=new(n(182436).NumericFormatter);class j extends i.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return i.createElement("span",{className:l(t,z.cell,z.change,e&&z.hidden)},i.createElement("span",{className:z.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.change;if(!(0,V.isNumber)(n)||null===this._ref)return;const{last_price:s,format:o,pricescale:r=100,minmov:i=1,fractional:l,minmove2:a,type:u,variable_tick_size:d}=t;this._ref.innerText="spread"!==u||l?new B.LastChangeFormatter({format:o,pricescale:r,minmov:i,fractional:l,minmove2:a,variableMinTick:d}).formatChange((0,c.ensureDefined)(s),(0,c.ensureDefined)(s)-n):G.format(n),0!==n&&(this._ref.classList.remove(z.plus,z.minus),this._ref.classList.add(n>0?z.plus:z.minus))}}var $=n(541346);const Z=new $.PercentageFormatter;class X extends i.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return i.createElement("span",{className:l(t,z.cell,z.changeInPercents,e&&z.hidden)},i.createElement("span",{className:z.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.change_percent;(0,V.isNumber)(n)&&null!==this._ref&&(this._ref.innerText=Z.format(n),0!==n&&(this._ref.classList.remove(z.plus,z.minus),this._ref.classList.add(n>0?z.plus:z.minus)))}}const K=new(n(943994).VolumeFormatter);class Y extends i.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return i.createElement("span",{className:l(t,z.cell,z.volume,e&&z.hidden)},i.createElement("span",{className:z.inner,ref:this._handleRef}))}update(e){const{values:t}=e,n=t.volume;void 0===n||null===this._ref||Math.abs(n)>=1e100||(this._ref.innerText=K.format(n),this._ref.setAttribute("data-value",`${n}`))}}var Q=n(719240),J=n(600303),ee=n(83436),te=n(563140),ne=n(531340),se=n(978636);function oe(e,t){const s=v.quoteSessionAdapters.get(e).getLastSymbolData(t.symbol);if(!s)return"";const o=s.values,{format:r,pricescale:i=100,minmov:l=1,fractional:a,minmove2:c,variable_tick_size:u}=o,d=new B.LastChangeFormatter({format:r,
pricescale:i,minmov:l,fractional:a,minmove2:c,variableMinTick:u});return`${1===t.side?x.t(null,void 0,n(273064)):x.t(null,void 0,n(777851))} ${Math.abs(t.qty)} @ ${d.format(t.avgPrice)}`}var re=n(15814);const ie=(0,s.connect)((function(e,t){return{position:(0,re.positionSelector)(e,t.symbolName)}}))((function(e){const{position:t,className:n,widgetId:s}=e;if(void 0===t)return null;const o=1===t.side;return i.createElement(ee.Icon,{className:l("apply-common-tooltip",se.icon,o&&se.long,n),icon:o?te:ne,title:oe(s,t)})}));var le=n(575816),ae=n(681339),ce=n(417334);var ue=n(137674),de=n(740087),he=n(73105),me=n(926561),_e=n(8929);var pe=n(329503),fe=n(57933);const ge=(0,s.connect)((function(e,t){var n,s;return{note:null!==(s=null===(n=(0,fe.selectLastNote)(e,t.notesGroupKey))||void 0===n?void 0:n.content)&&void 0!==s?s:null}}),null,null,{context:pe.NotesContext})((function(e){const{className:t,note:n,notesGroupKey:s}=e,o=(0,i.useRef)(null);return(0,i.useEffect)((()=>{if(o.current&&n){const e=function(e){const t=e?`<div class="${ce.description}">${(0,I.htmlEscape)(e)}</div>`:null;return`<div class="${ce.wrapper}">${t}</div>`}(n);o.current.setAttribute("data-tooltip",e)}})),n?i.createElement("div",{ref:o,className:a()(_e.wrapper,t,"apply-common-tooltip","common-tooltip-html"),onClick:function(e){e.preventDefault(),(0,ue.showSymbolNotes)(s),(0,de.expandWidget)("detail",he.MIN_NOTES_WIDGET_HEIGHT_IN_INPUT_MODE)}},i.createElement(ee.Icon,{icon:me,className:_e.notesIcon})):null}));var be=n(232683);function ve(e){const{symbolName:t,className:n}=e,{store:s}=(0,i.useContext)(pe.NotesContext);if(!s)return null;const o=(0,be.useNotesGroupKey)(t);return o?i.createElement(ge,{notesGroupKey:o,className:n}):null}var ye=n(670686);n(448306),n(927677);const Se=(e,t)=>({classSuffix:"--for-symbol-list",el:e,short:!0,symbol:t,manualUpdate:!0,tooltipType:"custom"});class we extends i.PureComponent{constructor(){super(...arguments),this._nameRef=null,this._descRef=null,this._marketStatusIndicator=null,this._dataModeIndicator=null,this._description=null,this._handleNameContentSet=()=>{if(null===this._nameRef)return;const{tickerType:e,symbolName:t,isTileView:n}=this.props,s={[le.TickerType.Description]:()=>this._description||(0,m.safeShortName)(t),[le.TickerType.Ticker]:()=>(0,m.safeShortName)(t)};this._nameRef.textContent=s[n?le.TickerType.Ticker:e]()},this._handleDescContentSet=()=>{null!==this._descRef&&this.props.isTileView&&(this._descRef.textContent=this._description)},this._handleNameRef=e=>{this._nameRef=e},this._handleDescRef=e=>{this._descRef=e},this._handleMarketStatusRef=e=>{const{symbolName:t}=this.props;null!==e&&(this._marketStatusIndicator=new J.MarketStatusIndicator(Se(e,t)))},this._handleDataModeRef=e=>{const{symbolName:t}=this.props;null!==e&&(this._dataModeIndicator=new Q.DataModeIndicator(Se(e,t)))}}componentDidMount(){this._handleNameContentSet(),this._handleDescContentSet()}componentDidUpdate(e){null!==this._nameRef&&(e.tickerType===this.props.tickerType||this.props.isTileView||this._handleNameContentSet())}render(){
const{symbolName:e,className:t,logoUrls:n,isTileView:s}=this.props,o=s?"xsmall":"xxxsmall";return i.createElement("div",{className:a()(t,z.symbolName,s&&z.tileSymbolName)},i.createElement("span",{className:a()(z.cell,z.flexCell)},n&&i.createElement(ae.CachedLogo,{key:o,className:z.logo,url1:n[0],url2:n[1],placeholderLetter:(0,m.safeShortName)(e)[0],size:o}),i.createElement("div",{className:a()(z.displayContents,s&&z.tileWrap)},i.createElement("div",{className:a()(z.flexCell,s&&z.tileNameContent)},this._renderContent()),s&&i.createElement("div",{className:z.description,ref:this._handleDescRef},this._description))))}update(e){if(null===this._nameRef)return;const{values:t}=e;this._marketStatusIndicator&&this._marketStatusIndicator.update({values:t}),this._dataModeIndicator&&("economic"===t.type&&"endofday"===t.update_mode?this._dataModeIndicator.hide():(this._dataModeIndicator.show(),this._dataModeIndicator.update({values:t}))),this._description=(0,C.getTranslatedSymbolDescription)(t),this._handleNameContentSet(),this._handleDescContentSet()}_renderContent(){const{isInvalid:e,symbolName:t,shouldDisplayPositions:n,widgetId:s,warningText:o}=this.props;return i.createElement(i.Fragment,null,i.createElement("span",{className:a()(z.inner,z.symbolNameText),ref:this._handleNameRef}),!e&&i.createElement(i.Fragment,null,o&&i.createElement(ee.Icon,{icon:ye,title:o,className:a()(z.warningIcon,"apply-common-tooltip")}),!o&&i.createElement(i.Fragment,null,i.createElement("span",{ref:this._handleDataModeRef}),i.createElement("span",{ref:this._handleMarketStatusRef}),n&&i.createElement(ie,{widgetId:s,className:z.positions,symbolName:t}))),i.createElement(ve,{symbolName:t,className:z.notes}))}}var Ce=n(638456),Ee=n(170873),xe=n(913914);const Ie=new $.PercentageFormatter;class ke extends i.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e}}render(){const{isHidden:e,className:t}=this.props;return i.createElement("span",{className:l(t,z.cell,z.prePostMarketNoPrice,e&&z.hidden)},i.createElement("span",{className:z.inner,ref:this._handleRef}))}update(e){const{values:{rchp:t}}=e;if(null===this._ref||void 0===e.values.current_session)return;const n="pre_market"===e.values.current_session,s="post_market"===e.values.current_session;if(!(n||s))return void(this._ref.hasAttribute("data-value")&&(this._ref.removeAttribute("data-value"),this._ref.innerHTML=""));if(null==t)return;const o=Ie.format(t),r=l(t>0&&z.plus,t<0&&z.minus),i=document.createElement("span");r&&i.classList.add(r),i.textContent=o,this._ref.innerHTML="",this._ref.appendChild(i),this._ref.setAttribute("data-value",o)}}class Ne extends i.PureComponent{constructor(e){super(e),this._injectListClasses=(e,t)=>{if(!i.isValidElement(e))return e;const n=["short_name","last_price","change","change_percent","volume","rchp"].map(((e,t)=>[t,e])).filter((([e,t])=>this.props.columns.includes(t))),[s]=n[0];t===s&&(e=i.cloneElement(e,{className:l(e.props.className,z.firstItem)}));const[o]=n[n.length-1];return t===o&&(e=i.cloneElement(e,{
className:l(e.props.className,z.lastItem)})),e},this._lastPrice=i.createRef(),this._change=i.createRef(),this._changeInPercents=i.createRef(),this._volume=i.createRef(),this._prePostMarket=i.createRef(),this._symbolName=i.createRef()}render(){const{id:e,columns:t,tickerType:n,widgetId:s,isDeletable:o,shouldDisplayPositions:r,hasLogo:a,logoUrls:c,isInvalid:u,isActive:d,warningText:h}=this.props,{size:m}=this.context;return i.createElement(i.Fragment,null,i.createElement("div",{className:l(z.indicators,d&&z.active)},!(0,Ce.onWidget)()&&i.createElement(xe.SymbolListFlag,{widgetId:s,symbol:e,className:z.flag,forceVisible:1===m})),i.createElement(Ee.FragmentMap,{map:this._injectListClasses},i.createElement(we,{symbolName:e,shouldDisplayPositions:r,ref:this._symbolName,warningText:h,isInvalid:u,widgetId:s,tickerType:n,logoUrls:a?c:void 0,isTileView:!1}),i.createElement(U,{ref:this._lastPrice,isHidden:!t.includes("last_price")}),i.createElement(j,{ref:this._change,isHidden:!t.includes("change")}),i.createElement(X,{ref:this._changeInPercents,isHidden:!t.includes("change_percent")}),i.createElement(Y,{ref:this._volume,isHidden:!t.includes("volume")}),i.createElement(ke,{ref:this._prePostMarket,isHidden:!t.includes("rchp")})),o&&i.createElement("div",{className:z.overlayEnd},i.createElement(W,{className:z.removeButton,widgetId:s,symbolName:e})))}update(e){null!==this._symbolName.current&&this._symbolName.current.update(e),null!==this._lastPrice.current&&this._lastPrice.current.update(e),null!==this._change.current&&this._change.current.update(e),null!==this._changeInPercents.current&&this._changeInPercents.current.update(e),null!==this._volume.current&&this._volume.current.update(e),null!==this._prePostMarket.current&&this._prePostMarket.current.update(e)}}Ne.contextType=b.SizeContext;var Te=n(77122),Ae=n(607546),Me=n(849204);function De(e){if(!e)return!1;const{complete:t,values:n}=e,{"currency-logoid":s,"base-currency-logoid":o,logoid:r}=n;return Boolean(r||s&&o||t)}function Le(e){const{values:t}=e;return(0,Ae.removeUsdFromCryptoPairLogos)((0,Ae.resolveLogoUrls)(t,Me.LogoSize.Medium))}class Pe extends i.PureComponent{constructor(e){super(e),this._lastPrice=i.createRef(),this._change=i.createRef(),this._changeInPercents=i.createRef(),this._symbolName=i.createRef()}render(){const{id:e,widgetId:t,isDeletable:n,shouldDisplayPositions:s,hasLogo:o,logoUrls:r,isInvalid:a,isActive:c,warningText:u}=this.props,{size:d}=this.context;return i.createElement(i.Fragment,null,i.createElement("div",{className:l(z.indicators,c&&z.active)},!(0,Ce.onWidget)()&&i.createElement(xe.SymbolListFlag,{widgetId:t,symbol:e,className:z.flag,forceVisible:1===d})),i.createElement(we,{className:z.firstItem,symbolName:e,shouldDisplayPositions:s,ref:this._symbolName,warningText:u,isInvalid:a,widgetId:t,tickerType:le.TickerType.Ticker,logoUrls:o?r:void 0,isTileView:!0}),i.createElement("div",{className:l(z.lastItem,z.tileChanges)},i.createElement(U,{ref:this._lastPrice,className:z.tileItem,ellipsis:!0}),i.createElement("div",{className:z.flexCell
},i.createElement(j,{ref:this._change,className:l(z.tileItem,z.tileChange)}),i.createElement(X,{ref:this._changeInPercents,className:l(z.tileItem,z.tileChange)}))),n&&i.createElement("div",{className:z.overlayEnd},i.createElement(W,{className:z.removeButton,widgetId:t,symbolName:e})))}update(e){null!==this._symbolName.current&&this._symbolName.current.update(e),null!==this._lastPrice.current&&this._lastPrice.current.update(e),null!==this._change.current&&this._change.current.update(e),null!==this._changeInPercents.current&&this._changeInPercents.current.update(e)}}Pe.contextType=b.SizeContext;var Re=n(630440);const Fe=!Te.enabled("widget")||!1;class We extends i.PureComponent{constructor(e){super(e),this._observer=null,this._ref=null,this._raf=null,this._onData=e=>{this._data=e,this._resolvedName=e.values.pro_name,null===this._raf&&(this._raf=requestAnimationFrame((()=>{const{id:e}=this.props,{logoUrls:t}=this.state,n=(0,c.ensureDefined)(this._data),{symbolname:s,status:o,errmsg:r}=n;if(e===s){if(this._ref&&this._ref.setAttribute("data-status","resolved"),Fe&&0===t.length&&De(n)){const e=Le(n);e.length>0&&this.setState({logoUrls:e})}"error"===o&&r&&r.toLowerCase().includes("continuous limit")?this.setState({warningText:r}):"error"===o?this.setState({isInvalid:!0}):"sf_data"===o?this.setState({warningText:(0,Re.getWarningTextForFreeUsers)()}):(null!==this._symbolItem.current&&this._symbolItem.current.update(n),null!==this._symbolTileItem.current&&this._symbolTileItem.current.update(n))}this._handleCustomTooltipSetter("error"===o,n),this._raf=null})))},this._handleCustomTooltipSetter=(e,t)=>{if(null===this._ref)return;if(e)return void this._ref.setAttribute("data-tooltip","");const n=function(e){const{description:t,exchange:n,updateMode:s,marketStatus:o}=e,r=t?`<div class="${k.description}">${(0,I.htmlEscape)(t)}</div>`:null,i=`<span class="${k.dot}">•</span>`,l=[n?`<span>${(0,I.htmlEscape)(n)}</span>`:null,s?`<span>${(0,I.htmlEscape)(A[s])}</span>`:null,o?M(o):null].filter((e=>null!==e)).join(i),a=r?[r,l].join(""):l;return`<div class="${k.wrapper}">${a}</div>`}(this._getSymbolTooltipData(t));n&&this._ref.getAttribute("data-tooltip")!==n&&this._ref.setAttribute("data-tooltip",n)},this._handleRef=e=>{if(null!==e){const t=.25;this._observer=new IntersectionObserver((e=>{e[e.length-1].intersectionRatio<t?this._onInvisible():this._onVisible()}),{threshold:[0,.25,.5,.75,1],root:null,rootMargin:"0px"}),this._observer.observe(e)}this._ref=e},this._handleContextMenu=e=>{e.preventDefault(),this._showContextMenu(e,0)},this._handleSmallContextMenu=e=>{this._showContextMenu(e,1)},this._showContextMenu=(e,t)=>{e.persist();const{showContextMenu:n,id:s,widgetId:o}=this.props;n(o,s,e,t)},this._onSymbolChanged=e=>{const t=this._computeActive(e);t!==this.state.isActive&&this.setState({isActive:t}),(0,y.hide)()},this._onAliasesChange=e=>{if(!e||!e.length||this.state.isActive)return;const t=e.some((e=>this._computeActive(e)));t&&this.setState({isActive:t})},this._symbolItem=i.createRef(),this._symbolTileItem=i.createRef()
;const t=this._getLastSymbolData();this._resolvedName=null==t?void 0:t.values.pro_name;const n=Fe&&De(t)?Le((0,c.ensureDefined)(t)):[];this.state={isInvalid:!1,warningText:null,isActive:this._computeActive(w.linking.proSymbol.value()),logoUrls:n}}componentDidMount(){const{id:e,widgetId:t}=this.props;null!==this._ref&&this._ref.setAttribute("data-status","pending");const n=v.quoteSessionAdapters.get(t),s=this._getLastSymbolData();s&&this._onData(s),n.addSymbolDataHandler(e,this._onData),w.linking.proSymbol.subscribe(this._onSymbolChanged),w.linking.symbolNamesList.subscribe(this._onAliasesChange,{callWithLast:!0})}componentDidUpdate(e){this._data&&e.typeView!==this.props.typeView&&this._onData(this._data)}componentWillUnmount(){const{id:e,widgetId:t}=this.props;v.quoteSessionAdapters.get(t).removeSymbolDataHandler(e),this._observer&&this._observer.disconnect(),w.linking.proSymbol.unsubscribe(this._onSymbolChanged),w.linking.symbolNamesList.unsubscribe(this._onAliasesChange),null!==this._raf&&(cancelAnimationFrame(this._raf),this._raf=null)}render(){const{id:e,columns:t,tickerType:n,isSelected:s,isHighlighted:o,widgetId:r,isDeletable:a,enableContextMenu:c,shouldDisplayPositions:u,isContainedByMultiSelection:d,isFirstListItem:h,isLogoEnabled:_,typeView:p}=this.props,{isInvalid:f,warningText:g,isActive:b,logoUrls:v}=this.state,{size:y}=this.context,w=b?d:s,C=(0,D.isSeparatorItem)(e)||f,E="tile"===p,x={widgetId:r,isDeletable:a,shouldDisplayPositions:u,hasLogo:(E||_)&&Fe,logoUrls:v,isInvalid:f,isActive:b,warningText:g,id:e};return i.createElement("div",{className:l(z.symbol,E&&z.tileView,1===y&&z.small,w&&z.selected,b&&z.active,S.mobiletouch&&z.touch,o&&z.highlighted,C&&z.invalid,h&&z.firstRow,"common-tooltip-html","common-tooltip-vertical","apply-common-tooltip"),ref:this._handleRef,"data-tooltip-delay":1500,"data-symbol-full":e,"data-symbol-short":(0,m.safeShortName)(e),"data-active":b,"data-selected":s,onClick:1===y&&c?this._handleSmallContextMenu:void 0,onContextMenu:0===y&&c?this._handleContextMenu:void 0},E?i.createElement(Pe,{...x,ref:this._symbolTileItem}):i.createElement(Ne,{...x,ref:this._symbolItem,columns:t,tickerType:n}))}_onVisible(){const{id:e,widgetId:t}=this.props;v.quoteSessionAdapters.get(t).addFastSymbol(e)}_onInvisible(){const{id:e,widgetId:t}=this.props;v.quoteSessionAdapters.get(t).removeFastSymbol(e)}_getSymbolTooltipData(e){const{values:t}=e;let n;n="forex"===t.type?t.exchange||null:t.listed_exchange||null;const s="economic"===t.type&&"endofday"===t.update_mode?null:t.update_mode||null;return{description:(0,C.getTranslatedSymbolDescription)(t)||null,exchange:n,updateMode:s,marketStatus:t.current_session||null}}_computeActive(e){if(void 0===e)return!1;let t=(0,E.compareSymbols)(e,this.props.id);return!t&&this._resolvedName&&(t=(0,E.compareSymbols)(e,this._resolvedName)),t}_getLastSymbolData(){const{id:e,widgetId:t}=this.props;return v.quoteSessionAdapters.get(t).getLastSymbolData(e)}}We.contextType=b.SizeContext;const Be=(0,s.connect)((function(){const e=(0,re.makeGetIsContainedByMultiSelection)()
;return(t,n)=>{const{isDeletable:s,enableContextMenu:o,isLogoEnabled:r}=(0,re.widgetOptionsSelector)(t,n.widgetId),i=(0,re.highlightedSymbolsSelector)(t,n.widgetId);return{isDeletable:s,enableContextMenu:o,isContainedByMultiSelection:e(t,{widgetId:n.widgetId,symbol:n.id}),isLogoEnabled:r,shouldDisplayPositions:(0,re.shouldDisplayPositionsSelector)(t,n.widgetId),columns:(0,re.columnsSelector)(t,n.widgetId),tickerType:(0,re.tickerTypeSelector)(t,n.widgetId),isHighlighted:!!i&&i.includes(n.id)}}}),(function(e){return(0,o.bindActionCreators)({showContextMenu:g.showContextMenu},e)}))(We);var Oe=n(436779),qe=n(70829),He=n(345848),ze=n(599960),Ue=n(715336),Ve=n(899840);const Ge=(0,s.connect)((function(e,t){return{columns:(0,re.columnsSelector)(e,t.widgetId)}}),(function(e){return(0,o.bindActionCreators)({updateWidget:g.updateWidget},e)}))((function(e){const{columns:t,updateWidget:n,className:s,widgetId:o}=e,{size:r}=(0,i.useContext)(b.SizeContext),l=1===r;return i.createElement("div",{className:a()(Ve.wrap,s)},i.createElement(qe.ToolWidgetMenu,{content:i.createElement(ee.Icon,{className:Ve.icon,icon:Ue}),arrow:!1,className:Ve.columnsMenu,onClose:function(){(0,He.trackEvent)("Watchlist","Change columns",t.join(", "))},isDrawer:l,drawerPosition:"Bottom"},i.createElement(ze.ColumnsMenuContent,{widgetId:o,columns:t,updateWidget:n})))}));var je=n(962624),$e=n(481035),Ze=n(904799);function Xe(e){const{onClick:t,className:n}=e;return i.createElement(ee.Icon,{icon:Ze,className:l($e.icon,n),onClick:t})}const Ke=i.createContext({});var Ye=n(31341),Qe=n(404573),Je=n(907052);const et=(0,Ye.isRtl)();function tt(e){const{column:t}=e,{columnResizeDelegate:n,columnResizeStopDelegate:s}=(0,i.useContext)(Ke),o=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=new Qe.PointerBackend({handle:(0,c.ensureNotNull)(o.current),onDragStart:()=>{var e;null===(e=o.current)||void 0===e||e.classList.add(Je.active)},onDragMove:e=>{const{current:s,initial:o}=e.detail,r=s.pageX-o.pageX;null==n||n.fire(t,r*(et?1:-1))},onDragStop:()=>{var e;null===(e=o.current)||void 0===e||e.classList.remove(Je.active),null==s||s.fire()}});return()=>{e.destroy()}}),[t,n,s]),i.createElement("div",{className:Je.placeholder},i.createElement("div",{ref:o,className:Je.wrap},i.createElement("div",{className:Je.handle}),i.createElement("div",{className:Je.separator})))}var nt=n(913042),st=n(975361),ot=n(119850),rt=n(931040);const it=(0,s.connect)((function(e,t){return{sorting:(0,re.sortingSelector)(e,t.widgetId)}}),(function(e){return(0,o.bindActionCreators)({sortSymbols:P.sortSymbolsThunk},e)}))((function(e){const{widgetId:t,isSortable:s,tickerType:o,column:r,className:a,sortSymbols:u,label:d,sorting:m}=e,[_,p]=(0,i.useState)(!1),f=(0,i.useRef)(null),g=(0,i.useRef)(null),[v,S]=(0,je.useHover)(),{size:w}=(0,i.useContext)(b.SizeContext),C=(0,i.useContext)(h.CloseDelegateContext),E=1===w,{columnResizeDelegate:I,requestColumnInitWidthDelegate:k,setColumnInitWidthDelegate:N}=(0,i.useContext)(Ke),T=(0,i.useMemo)((()=>function(e,t,s,o){if(!t)return""
;const r=x.t(null,void 0,n(768973)).format({columnLabel:s});if(null!==e&&e.column===o&&1===e.direction)return`${r} ${ot}`;return`${r} ${st}`}(m,s,d,r)),[m,s,d,r]);return(0,i.useEffect)((()=>{const e=e=>{e===r&&(null==N||N.fire(r,(0,c.ensureNotNull)(f.current).getBoundingClientRect().width))};return null==k||k.subscribe(null,e),()=>null==k?void 0:k.unsubscribe(null,e)}),[k,N,r]),(0,i.useEffect)((()=>(C.subscribe(null,y.hide),()=>C.unsubscribe(null,y.hide))),[]),(0,i.useEffect)((()=>{s&&(v?(0,y.showOnElement)((0,c.ensureNotNull)(g.current),{content:{type:"html",data:T}}):(0,y.hide)())}),[v,T]),(0,i.useEffect)((()=>{if((null==m?void 0:m.column)!==r||!s)return;p(!0);const e=setTimeout((()=>p(!1)),5e3);return()=>{clearTimeout(e),p(!1)}}),[m,r]),"flag"===r?i.createElement("span",{...S,className:rt.flagWrap,ref:g,"data-column-type":r},i.createElement(Xe,{onClick:s?A:void 0,className:l(s&&rt.flagSortable)})):i.createElement(i.Fragment,null,i.createElement("span",{ref:f,key:r,className:l(rt.columnHeader,a,E&&rt.small)},s&&i.createElement(ee.Icon,{className:l(rt.sortArrow,_&&rt.visible,1!==(null==m?void 0:m.direction)&&rt.desc),icon:nt}),i.createElement("span",{...S,ref:g,className:l(rt.label,s&&rt.sortable,_&&rt.sortActivated),onClick:s?A:void 0,"data-column-type":r},d)),I&&i.createElement(tt,{column:r}));function A(){let e={column:r,direction:1};null!==m&&m.column===r&&1===m.direction&&(e={...m,direction:-1}),u(t,e,o);const n=e?1===e.direction?"ascending":"descending":"default";(0,He.trackEvent)("Watchlist","Sort",`Sort by ${r} ${n}`)}}));var lt=n(634993),at=n(995683),ct=n(93916),ut=n(205939),dt=n(7304),ht=n(209663),mt=n(709608);const _t=[{column:"change_percent",label:x.t(null,void 0,n(680027))},{column:"change",label:x.t(null,void 0,n(349329))},{column:"last_price",label:x.t(null,void 0,n(915107))},{column:"short_name",label:x.t(null,void 0,n(589053))}],pt=(0,at.mergeThemes)(lt.DEFAULT_POPUP_MENU_ITEM_THEME,ht),ft=(0,at.mergeThemes)(lt.DEFAULT_POPUP_MENU_ITEM_THEME,mt);function gt(e){const{sorting:t,sortSymbols:s,widgetId:o}=e,{size:r}=(0,i.useContext)(b.SizeContext),l=(0,i.useContext)(h.CloseDelegateContext),a=1===r,c=a?ft:pt;return i.createElement(i.Fragment,null,i.createElement(lt.PopupMenuItem,{key:"custom",label:x.t(null,void 0,n(565176)),isDisabled:!t,onClick:()=>u(),theme:c}),_t.map((e=>{const{column:t,label:n}=e;return i.createElement(i.Fragment,{key:t},i.createElement(ct.PopupMenuSeparator,null),i.createElement(lt.PopupMenuItem,{icon:dt,label:n,theme:c,onClick:()=>u({column:t,direction:1})}),i.createElement(lt.PopupMenuItem,{icon:ut,label:n,theme:c,onClick:()=>u({column:t,direction:-1})}))})));function u(e){s(o,null!=e?e:null,le.TickerType.Ticker),a&&l.fire()}}var bt=n(312420),vt=n(347531),yt=n(844626);const St=(0,s.connect)((function(e,t){return{sorting:(0,re.sortingSelector)(e,t.widgetId)}}),(function(e){return(0,o.bindActionCreators)({sortSymbols:P.sortSymbolsThunk},e)}))((function(e){const{sortSymbols:t,widgetId:s,sorting:o,className:r}=e,{size:l}=(0,i.useContext)(b.SizeContext),c=1===l,[u,d]=(0,
i.useState)(!1),h=(0,i.useCallback)((()=>d(!0)),[]),m=(0,i.useCallback)((()=>d(!1)),[]);return i.createElement(qe.ToolWidgetMenu,{onOpen:h,onClose:m,arrow:!1,isDrawer:c,className:a()(yt.sortingMenu,r),menuClassName:yt.menu,horizontalDropDirection:bt.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:bt.HorizontalAttachEdge.Right,drawerPosition:"Bottom",content:i.createElement("div",{className:yt.content},i.createElement("span",null,x.t(null,void 0,n(714634))),i.createElement(ee.Icon,{className:a()(yt.icon,u&&yt.dropped),icon:vt}))},i.createElement(gt,{widgetId:s,sorting:o,sortSymbols:t}))}));var wt=n(72368),Ct=n(672197),Et=n(726417);const xt=(0,wt.canShowNewSymbolSearch)();const It=(0,s.connect)((function(e,t){const{shouldDisplayColumnsMenu:n,isTableView:s,isSortable:o}=(0,re.widgetOptionsSelector)(e,t.widgetId),r=(0,re.getCurrentViewableListByWidgetId)(e,t.widgetId);return{shouldDisplayColumnsMenu:n,isTableView:s,isSortable:o,columns:(0,re.columnsSelector)(e,t.widgetId),tickerType:(0,re.tickerTypeSelector)(e,t.widgetId),hasFlagColumn:"custom"===(null==r?void 0:r.type)&&o,sorting:(0,re.sortingSelector)(e,t.widgetId)}}))((function(e){const{columns:t,widgetId:o,shouldDisplayColumnsMenu:r,tickerType:l,hasFlagColumn:c,sorting:u,isTableView:d,isSortable:h}=e,m=(0,s.useDispatch)(),{size:_}=(0,i.useContext)(b.SizeContext),p=(0,i.useMemo)((()=>Te.enabled("widget")||1!==_&&d),[_,d]),f=(0,i.useMemo)((()=>function(e,t,s){const o=[{column:"short_name",label:{[le.TickerType.Ticker]:x.t(null,void 0,n(589053)),[le.TickerType.Description]:x.t(null,void 0,n(629601))}[t],className:Et.symbolName},{column:"last_price",label:x.t(null,void 0,n(915107)),className:Et.last},{column:"change",label:x.t(null,void 0,n(34565)),className:Et.change},{column:"change_percent",label:x.t(null,void 0,n(191198)),className:Et.changeInPercents},{column:"volume",label:x.t(null,{context:"study"},n(32819)),className:Et.volume}];o.push({column:"rchp",label:x.t(null,void 0,n(339843)),className:Et.prePostMarketNoPrice}),(0,wt.canShowNewSymbolSearch)()&&o.unshift({column:"flag",label:x.t(null,void 0,n(121524)),className:Et.flag});return o.filter((t=>e.includes(t.column)||s&&"flag"===t.column))}(p?t:["short_name"],p?l:le.TickerType.Ticker,c)),[t,l,c,p]);return i.createElement("div",{className:Et.wrap},r&&!xt&&i.createElement(Ge,{widgetId:o,className:Et.menu}),i.createElement("div",{className:Et.tableHeader},f.map(((e,t)=>i.createElement(it,{widgetId:o,isSortable:h&&p,key:e.column,tickerType:l,label:e.label,column:e.column,className:a()(e.className,0===t&&Et.firstItem,p&&t===f.length-1&&Et.lastItem,!p&&Et.mobileItem)}))),!p&&h&&i.createElement(St,{className:Et.sortingMenu,widgetId:o})),p&&Boolean(u)&&i.createElement(ee.Icon,{className:a()(Et.reset,"apply-common-tooltip"),title:x.t(null,void 0,n(344200)),icon:Ct,onClick:function(){m((0,P.sortSymbolsThunk)(o,null,l)),(0,He.trackEvent)("Watchlist","Sort","Sort by custom order")}}))}))
;var kt=n(470316),Nt=n(777466),Tt=n(776734),At=n(61103),Mt=n(373571),Dt=n(783375),Lt=n(576442),Pt=n(704624),Rt=n(430159),Ft=n(615309),Wt=n(133055),Bt=n(535149),Ot=n(833366),qt=n(344390);var Ht=n(452528),zt=n(38506),Ut=n(266325),Vt=n(546079),Gt=n(377953),jt=n(934011),$t=n(779923);function Zt(e,t,n){return async(s,o)=>{const i=o();if(t===n)return;const l=(0,re.getCurrentViewableListByWidgetId)(i,e);if(null===l)return;if("hot"===l.type)return;const{symbols:a}=l,c=a.filter(D.isSeparatorItem),u=(0,E.buildUniqueName)(c,n,!1);if(!a.includes(u))if("custom"===l.type)await s((0,zt.renameSeparatorThunk)(null,l,t,u));else{if(null===(0,Vt.getMarkedListsState)(i))return;s((0,r.renameSeparator)({color:l.color,separator:t,name:u}))}}}function Xt(e,t,s){return async(o,r)=>{const i=r(),l=(0,re.getCurrentViewableListByWidgetId)(i,e);if(!l||"hot"===l.type)return;const a=(0,re.selectedSymbolsSelector)(i,e).filter(D.isSeparatorItem),c=a.includes(t)?a:[t],u=Kt(c,s);o((0,jt.setSeparatorsCollapse)({listId:l.id,values:u})),window.is_authenticated&&await(0,Gt.setCollapsedSeparators)({list:l,separators:c,value:s}).catch(Ut.skipAbortError).catch((e=>{(0,$t.showWarning)({title:x.t(null,void 0,n(482751)),text:e.message});const t=Kt(c,!s);o((0,jt.setSeparatorsCollapse)({listId:l.id,values:t}))}))}}function Kt(e,t){const n={};return e.forEach((e=>{n[e]=t})),n}const Yt=(0,s.connect)((function(){const e=(0,re.makeGetIsContainedByMultiSelection)();return(t,n)=>{const{isDeletable:s,enableContextMenu:o}=(0,re.widgetOptionsSelector)(t,n.widgetId),r=(0,re.highlightedSymbolsSelector)(t,n.widgetId);return{isCollapsed:(0,Ht.separatorIsCollapsedSelector)(t,n.widgetId,n.id),isContainedByMultiSelection:e(t,{widgetId:n.widgetId,symbol:n.id}),isDeletable:s,enableContextMenu:o,isHighlighted:!!r&&r.includes(n.id)}}}),(function(e){return(0,o.bindActionCreators)({renameSymbol:Zt,removeSymbol:P.removeSymbolsThunk,addSymbols:P.addSymbolsThunk,showContextMenu:g.showContextMenu,setSeparatorCollapse:Xt},e)}))((function(e){const{isCollapsed:t,widgetId:s,id:o,isSelected:r,removeSymbol:l,renameSymbol:c,enableContextMenu:u,isDeletable:d,isContainedByMultiSelection:h,isFirstListItem:m,showContextMenu:_,addSymbols:p,isHighlighted:f,setSeparatorCollapse:g}=e,{size:v}=(0,i.useContext)(b.SizeContext),[y,w]=(0,i.useState)(!1),[C,I]=(0,i.useState)(!1),k=(0,Lt.useFeatureToggle)("watchlist_collapsible_sections"),N=k&&!Te.enabled("widget"),T=d&&(!k||!t),A=(0,E.separatorValToDisplayVal)(o);return i.createElement("div",{className:a()(qt.separator,1===v&&qt.small,m&&qt.firstItem,r&&qt.selected,f&&qt.highlighted,S.mobiletouch&&qt.touch),onClick:function(e){if(I(!1),C||e.isDefaultPrevented())return;if([kt.Modifiers.Mod,kt.Modifiers.Shift].includes((0,kt.modifiersFromEvent)(e)))return;if(1===v&&!y)return void function(e){e.persist(),D(e)}(e);r&&d&&w(!0)},onMouseDown:function(){y&&I(!0)},onKeyDown:function(e){if(!y)return;(0,kt.hashFromEvent)(e)!==kt.Modifiers.Mod+65&&46!==(0,kt.hashFromEvent)(e)&&8!==(0,kt.hashFromEvent)(e)&&40!==(0,kt.hashFromEvent)(e)&&38!==(0,
kt.hashFromEvent)(e)||e.stopPropagation()},onContextMenu:0===v&&u?function(e){if(e.preventDefault(),e.persist(),y)return;if(h)return void _(s,o,e,0);D(e)}:void 0,"data-collapsed":N?t:void 0},i.createElement("div",{className:a()(qt.innerWrapper,N&&qt.hasExpand,y&&qt.renaming)},i.createElement(At.Renamable,{inputClassName:qt.renamableInput,name:A,isRenaming:y,onSubmit:function(e){M();const t=e.trim().toUpperCase();if(0===t.length)return;const n=(0,E.convertToSeparatorName)(t);c(s,o,n)},onClose:M,size:"xxsmall"},i.createElement(i.Fragment,null,N&&i.createElement(ee.Icon,{icon:t?Ft:vt,className:qt.expandHandle,onClick:function(e){e.preventDefault(),g(s,o,!t),(0,He.trackEvent)("Watchlist",t?"Expand section":"Collapse section")},onMouseDown:Nt.preventDefault}),i.createElement("span",{className:qt.label},A),T&&i.createElement(W,{className:qt.removeButton,widgetId:s,symbolName:o})))));function M(){w(!1)}function D(e){if(!d)return;const t=[new Mt.Action({actionId:"Watchlist.RenameSection",options:{label:x.t(null,void 0,n(435038)),icon:Wt,onExecute:()=>{w(!0)}}})];T&&t.push(new Mt.Action({actionId:"Watchlist.RemoveSection",options:{label:x.t(null,void 0,n(86261)),icon:Bt,onExecute:()=>{l(s,o)}}})),Dt.ContextMenuManager.showMenu([...t,new Mt.Separator,new Mt.Action({actionId:"Watchlist.AddSymbolToSection",options:{label:x.t(null,void 0,n(57590)),icon:Ot,onExecute:()=>{(0,Pt.showWatchlistSearchDialog)({fullscreen:1===v,targetSymbol:o,onSearchComplete:e=>{(0,Rt.runOrSigninWithFeature)((()=>{const t=e.map((e=>e.symbol));p(s,t,o)}),{feature:"watchList",source:"add symbol to watchlist"})}})}}})],e,{mode:1===v?"drawer":void 0,returnFocus:!0,takeFocus:!0})}}));var Qt=n(707957);const Jt=32;var en=n(678515),tn=n(705665);const nn={32:"next",[32+kt.Modifiers.Shift]:"previous"},sn=S.mobiletouch?"touch":"native",on=["flag","short_name","last_price","change","change_percent","volume","rchp"];function rn(e){return Array.from(e).sort(((e,t)=>on.indexOf(e)-on.indexOf(t)))}function ln(e,t,n,s){let o=16,r=Jt;const i=rn(t);return i.forEach(((t,l)=>{const a=Math.max(Jt,n-o-Jt*(i.length-l-1));t===e&&(r=a);const c=s.get(t);if(c){const e=(0,en.clamp)(c*n,Jt,a);o+=e}})),an(r)}function an(e){return Math.round(10*e)/10}function cn(e){const{dropType:t,boundBox:n}=e,{top:s,bottom:o,left:r}=(0,c.ensureDefined)(n);return[r,"before"===t||"inside"===t?s+.5:o-.5]}function un(e){return i.createElement("div",{className:tn.empty},i.createElement("div",{className:tn.centered},e.children))}function dn(e,t){(0,Tt.getTracker)().then((n=>{null!==n&&n.trackChangeSymbol(e,t)}))}function hn(e,t){const{listId:n}=e.widgets[t];return null!==n?(0,r.isListColor)(n)?"colored":"custom":null}const mn=(0,s.connect)((function(e,t){const{isMovable:n,isTableView:s}=(0,re.widgetOptionsSelector)(e,t.widgetId),o=(0,re.getCurrentViewableListByWidgetId)(e,t.widgetId);return{columns:(0,re.columnsSelector)(e,t.widgetId),isMovable:n,isTableView:s,isLoading:(0,re.isLoadingSelector)(e,t.widgetId),selectedSymbols:(0,re.selectedSymbolsSelector)(e,t.widgetId),scrollToId:(0,
re.scrollToIdSelector)(e,t.widgetId),listType:hn(e,t.widgetId),isHotlist:Boolean("hot"===(null==o?void 0:o.type))}}),(function(e){return(0,o.bindActionCreators)({updateWidget:g.updateWidget,selectNextAvailableSymbol:g.selectNextAvailableSymbol},e)}))((function(e){const{columns:t,symbols:n,icon:s,isLoading:o,noSymbolsPlaceholder:r,selectedSymbols:a,updateWidget:m,selectNextAvailableSymbol:_,onKeyDown:g,isMovable:y,widgetId:S,scrollToId:C,listType:x,isHotlist:I,viewState:k,isTableView:N,...T}=e,A=(0,i.useMemo)((()=>(0,Oe.createNodes)(n)),[n]),M=(0,i.useContext)(h.CloseDelegateContext),{size:D}=(0,i.useContext)(b.SizeContext),L=1===D,P=(0,i.useMemo)((()=>Te.enabled("widget")||!L&&N),[L,N]),R=(0,i.useRef)(performance.now()),F=(0,i.useRef)(null),W=(0,i.useCallback)((e=>(0,E.isValidSeparatorItem)(e.id)?i.createElement(Yt,{...e,widgetId:S}):i.createElement(Be,{...e,widgetId:S,typeView:P?"table":"tile"})),[S,P]),B=(0,i.useCallback)((e=>i.createElement(p,{...e,widgetId:S,id:(0,E.isValidSeparatorItem)(e.id)?(0,E.separatorValToDisplayVal)(e.id):e.id,className:l((0,E.isValidSeparatorItem)(e.id)&&tn.separatorDragPreview)})),[S]),O=(0,i.useCallback)(((e,t)=>{switch(t.type){case"node":return(0,E.isValidSeparatorItem)(t.node.props.id)?36:P?30:42;case"separator":return 13}}),[P]),q=(0,i.useCallback)(((e,t)=>{var n;0!==e.button||0!==(0,kt.modifiersFromEvent)(e)||(0,E.isValidSeparatorItem)(t)||(1===e.nativeEvent.detail&&(w.linking.setSymbolAndLogInitiator(t,I?"hotlist":"watchlist"),dn(t,I?"hotlist":"watchlist")),2===e.nativeEvent.detail&&(null===(n=w.linking.getChartWidget())||void 0===n||n.chartWidgetCollection().setSymbolAll(t)))}),[]),H=(0,i.useCallback)((e=>{(0,E.isValidSeparatorItem)(e)||(w.linking.setSymbolAndLogInitiator(e,I?"hotlist":"watchlist"),dn(e,I?"hotlist":"watchlist"))}),[]),z=(0,i.useCallback)(((e,t)=>t&&1===e.length&&(0,E.isValidSeparatorItem)(e[0])?_(S,e[0],t):m(S,{selectedSymbols:e})),[S,_,m]),[U,V]=(0,i.useState)(void 0),[G,j]=(0,i.useState)((function(){var e;return null!==(e=null==k?void 0:k.getColumnsPercentages())&&void 0!==e?e:new Map}));(0,i.useEffect)((()=>{const e=v.quoteSessionAdapters.get(S);return e.addToSubscriptionSet(n),e.commitSubscriptionChanges(),w.linking.proSymbol.subscribe(te),()=>{e.addToCancelSubscriptionSet(n),w.linking.proSymbol.unsubscribe(te)}}),[n]),(0,i.useEffect)((()=>()=>{const e=v.quoteSessionAdapters.get(S);e.clearSubscriptionSet(),e.commitSubscriptionChanges()}),[]);const[$,Z]=(0,i.useState)((()=>({height:0,width:0}))),X=(0,d.useResizeObserver)((e=>{const[t]=e,{width:n,height:s}=t.contentRect;Z((e=>e.width===n&&e.height===s?e:{height:s,width:n}))})),K=(0,i.useRef)(null),Y=(0,i.useMemo)((()=>Boolean((null==k?void 0:k.canResizeColumns())&&P)?{requestColumnInitWidthDelegate:new Qt.Delegate,setColumnInitWidthDelegate:new Qt.Delegate,columnResizeStartDelegate:new Qt.Delegate,columnResizeDelegate:new Qt.Delegate,columnResizeStopDelegate:new Qt.Delegate}:{}),[k,P]),Q=function(e,t,n,s){const o={},r=rn(e);!s&&t<=200&&(o["--tv-symbol-list-column-change-display"]="none")
;return Array.from(n.entries()).forEach((([s,i])=>{if(!r.includes(s))return;if(r.indexOf(s)===r.length-1)return void("change_percent"!==s&&"volume"!==s||(o[`--tv-symbol-list-column-${s}-flex`]="1 1"));const l=ln(s,e,t,n);o[`--tv-symbol-list-column-${s}-flex`]=`0 0 ${(0,en.clamp)(an(i*t),Jt,l)}px`})),o}(t,$.width,G,P),J=(0,i.useCallback)(((e,t)=>{const{requestColumnInitWidthDelegate:n,setColumnInitWidthDelegate:s}=Y;let o=!1;return t.forEach((t=>{if(!e.has(t)){o=!0;const r=(t,n)=>e.set(t,n/$.width);null==s||s.subscribe(null,r,!0),null==n||n.fire(t),null==s||s.unsubscribeAll(null)}})),Array.from(e.keys()).forEach((n=>{-1===t.indexOf(n)&&(o=!0,e.delete(n))})),o}),[$,Y]);return(0,i.useEffect)((()=>{var e;if(G.size>0&&(null==k?void 0:k.canResizeColumns())&&P){const n=new Map(G);J(n,t)&&(j(n),null===(e=k.saveColumnsPercentages)||void 0===e||e.call(k,n))}}),[t,G,J,k,P]),(0,i.useEffect)((()=>{const{columnResizeDelegate:e}=Y,n=(e,n)=>{j((s=>{const o=new Map(s);J(o,t);const r=n=>(0,en.clamp)(n,Jt,ln(e,t,$.width,o));null===F.current&&(F.current=r((0,c.ensureDefined)(o.get(e))*$.width));const i=r(F.current-n);return o.set(e,i/$.width),o}))};return null==e||e.subscribe(null,n),()=>null==e?void 0:e.unsubscribe(null,n)}),[t,$,Y,J]),(0,i.useEffect)((()=>{const{columnResizeStopDelegate:e}=Y,t=()=>{var e;F.current=null,null===(e=null==k?void 0:k.saveColumnsPercentages)||void 0===e||e.call(k,G),(0,He.trackEvent)("Watchlist","Resize columns")};return null==e||e.subscribe(null,t),()=>null==e?void 0:e.unsubscribe(null,t)}),[G,Y,k]),i.createElement(Ke.Provider,{value:Y},i.createElement("div",{className:tn.wrap,style:Q,onContextMenu:Nt.preventDefaultForContextMenu},i.createElement(It,{widgetId:S}),i.createElement("div",{ref:X,className:tn.content},i.createElement("div",{className:l(tn.scrollable,0===n.length&&tn.noData),onMouseDown:function(e){if(!(e.target instanceof Element)||null===K.current)return;const{activeElement:t}=document;e.target===K.current&&(K.current.contains(t)&&e.preventDefault(),ne())},onKeyDown:function(e){27===(0,kt.hashFromEvent)(e)&&(e.preventDefault(),ne());if(1===a.length&&(null==U?void 0:U.id)!==a[0]&&(null==U?void 0:U.id)===w.linking.proSymbol.value()){if(40===(0,kt.hashFromEvent)(e))return void w.linking.setSymbolAndLogInitiator(a[0],I?"hotlist":"watchlist");if(38===(0,kt.hashFromEvent)(e))return void _(S,a[0],"previous")}g&&g(e)},"data-name":"symbol-list-wrap",onScrollCapture:function(){if(R.current+500>performance.now())return;M.fire()}},!o&&n.length>0&&0!==$.width&&i.createElement(f.Tree,{...T,key:String(x),height:$.height,width:$.width,navigationKeys:nn,nodeRenderer:W,drag:sn,dragPreviewRenderer:B,nodes:A,onClick:L?void 0:q,selectedIds:a,onSelect:z,readOnly:!y,rowHeight:O,scrollToId:C,onKeyboardSelect:H,dropLayerTransform:cn,lastFocusedNodeObject:U,outerRef:function(e){K.current=e},lastSyncTimestampRef:R}),o&&i.createElement(u.Spinner,null),!o&&r&&0===n.length&&i.createElement(un,null,i.createElement("div",null,s&&i.createElement(ee.Icon,{icon:s,className:tn.emptyIcon}),i.createElement("div",null,r)))))))
;function te(e){const t=(0,E.getSymbolFromList)(e,n);t&&!(0,E.isValidSeparatorItem)(t)&&(z([t]),V({id:t}))}function ne(){te(w.linking.proSymbol.value())}}))},232683:(e,t,n)=>{"use strict";n.d(t,{useNotesGroupKey:()=>i});var s=n(431070),o=n(795394),r=n(510119);function i(e){const t=(0,r.useQuotesSnapshot)(e,["pro_name","symbol-primaryname","type","short_name","typespecs"],(0,o.snapshoter)());return null===t?null:"ok"===t.status?(0,s.getNotesGroupKey)(t.values):e}},913914:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SymbolListFlag:()=>a});var s=n(691622),o=n(386942),r=n(50959),i=n(478710);var l=n(244692);const a=(0,o.connect)(null,(function(e){return(0,s.bindActionCreators)({markSymbol:l.markSymbolsThunk},e)}))((function(e){const{widgetId:t,markSymbol:n,onChange:s}=e;return r.createElement(i.Flag,{...e,onClick:(e,o)=>{n(t,e,o),s&&s()}})}))},599960:(e,t,n)=>{"use strict";n.d(t,{ColumnsMenuContent:()=>d});var s=n(50959),o=n(497754),r=n.n(o),i=n(444372),l=n(960466),a=n(182120),c=n(899840);const u=[{column:"last_price",label:i.t(null,void 0,n(915107))},{column:"change",label:i.t(null,void 0,n(349329))},{column:"change_percent",label:i.t(null,void 0,n(680027))},{column:"volume",label:i.t(null,void 0,n(101111))}];function d(e){const{columns:t,updateWidget:n,widgetId:o}=e,{size:i}=(0,s.useContext)(l.SizeContext),d=1===i;return s.createElement(s.Fragment,null,u.map((e=>{const{column:n,label:o}=e;return s.createElement(a.Checkbox,{key:n,className:r()(c.checkbox,d&&c.mobile),name:n,label:o,checked:t.includes(n),onChange:h(n)})})));function h(e){return()=>{const s=[...t];s.includes(e)?s.splice(s.indexOf(e),1):s.push(e),n(o,{columns:s})}}}u.push({column:"rchp",label:i.t(null,void 0,n(516608))})},377953:(e,t,n)=>{"use strict";n.d(t,{setCollapsedSeparators:()=>i});var s=n(120780),o=n(421907),r=n(77117);async function i(e){const{list:{id:t,type:n,symbols:i},separators:l,value:a,signal:c}=e;if(1===l.length){const[e]=l,s=(0,r.separatorRemoteRepresentation)(e,!a),i=(0,r.separatorRemoteRepresentation)(e,a);return(0,o.commonRenameSeparator)(t,n,s,i)}const u=new Set(l),d=(0,r.remoteSymbolsFormLocalState)(t,i).map(((e,t)=>{const n=i[t];return u.has(n)?(0,r.separatorRemoteRepresentation)(n,a):e})),h=await(0,s.fetch)(`/api/v1/symbols_list/${n}/${t}/replace/?unsafe=true`,{method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json"},signal:c});if(!h.ok){const{detail:e}=await h.json();throw Error(e)}}},241303:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContextMenuActionsFactory:()=>ee});var s=n(444372),o=n(270294),r=n(373571),i=n(704624),l=n(707957),a=n(837657),c=n(50959),u=n(296890),d=n(650151),h=n(77122),m=n(783375),_=n(743538),p=n(779923),f=n(456746),g=n(267578),b=n(345848),v=n(826939),y=n(437872);function S(e){return c.createElement("div",{className:y.wrapper},c.createElement("span",null,s.t(null,void 0,n(871550))))}var w=n(722840),C=n(631530),E=n(251954),x=n(583912),I=n(332450),k=n(167975),N=(n(62802),
n(935219)),T=n(487750),A=n(309867),M=n(362052),D=n(387506),L=n(552279),P=n(833813),R=n(776734),F=n(715518),W=n(700134),B=n(888194),O=n(711496),q=n(440498),H=n(137674),z=n(766728),U=n(430159),V=n(647677),G=n(958613),j=n(324020),$=n(388140),Z=n(845437),X=n(428026),K=n(437924),Y=n(389137),Q=n(436779),J=n(833366);class ee{constructor(e){this._onMoveSymbolsToList=new l.Delegate,this._onAddSymbolsToList=new l.Delegate,this._onMoveSymbolsToNewList=new l.Delegate,this._onAddSymbolsToNewList=new l.Delegate,this._onCreateSection=new l.Delegate,this._onAddSymbols=new l.Delegate,this._onRemoveSymbol=new l.Delegate,this._addEconomyActions=!1,this._isAddToCompareAllowed=!0,this._isAddNoteAllowed=!0,this._getLists=null,this._lists=[],this._transferActions=[],this._service=(0,D.getMarkedSymbolsListServiceInstance)(),this._trackEvent=null,this._chartWidgetCollection=(0,o.chartWidgetCollectionService)(),this._allowExtendTimeScale=!1,this._detailsWebviewController=new z.DetailsWebviewController,this._colorManager=new N.ColorManager({context:N.ColorContext.SymbolMarker}),this._getTransferActionByType=e=>{switch(e){case"add-action":return e=>{const t=this._list?!(0,G.isHotListId)(this._list.id):void 0;this._onAddSymbolsToList.fire(this._widgetId,e,[this._symbol],t),this._trackEvent?this._trackEvent("Add to"):te("Add")};case"add-selected-action":return e=>{const t=this._list?!(0,G.isHotListId)(this._list.id):void 0;this._onAddSymbolsToList.fire(this._widgetId,e,Array.from(this._selectedSymbols),t),ne("Add")};case"move-action":return e=>{this._onMoveSymbolsToList.fire((0,d.ensureDefined)(this._list).id,e,[this._symbol]),te("Move")};case"move-selected-action":return e=>{this._onMoveSymbolsToList.fire((0,d.ensureDefined)(this._list).id,e,Array.from(this._selectedSymbols)),ne("Move")}}},this._updateList=(e,t)=>{const n=this._lists.findIndex((t=>t.id===e));this._lists[n]={...this._lists[n],symbols:t},this._transferActions.forEach((e=>{var t;const n=e.getState().name,s=this._getCreateNewListActionByType(n);if(null!==s){const o=[...this._mapListsToActions(n),new r.Separator,s];e.update({subItems:o}),null===(t=e.custom())||void 0===t||t.update({subItems:o})}}))},this._onTransferActionExecute=(e,t)=>{const n=new Set(e.symbols.filter((e=>!(0,a.isSeparatorItem)(e)))),s=new Set(Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e)))),o=()=>{(0,U.runOrSigninWithFeature)((()=>{var s;this._getTransferActionByType(t)(e.id),this._updateList(e.id,Array.from(n)),(0,q.isDeletedSymbolsList)(null===(s=this._list)||void 0===s?void 0:s.id)&&(0,b.trackEvent)("Watchlist","Context menu","Add from Deleted Symbols")}),{feature:"watchList",source:"add symbol to watchlist"})},r=()=>{this._onRemoveSymbol.fire(this._widgetId,this._symbol,e.id),this._trackEvent&&"add-action"===t&&this._trackEvent("Add to"),this._updateList(e.id,Array.from(n))},i=this._selectedSymbols.size>1&&this._selectedSymbols.has(this._symbol),l=this._getIsChecked(n),c=this._getIndeterminate(n);if(c){Array.from(s).filter((e=>!n.has(e))).forEach((e=>n.add(e))),o()
}else!c&&l?(i?Array.from(s).forEach((e=>n.delete(e))):n.delete(this._symbol),r()):c||l||(i?Array.from(s).forEach((e=>n.add(e))):n.add(this._symbol),o())},this._getIsChecked=e=>{if((0,a.isSeparatorItem)(this._symbol)){return Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e))).some((t=>e.has(t)))}return e.has(this._symbol)},this._getIndeterminate=e=>{if(this._selectedSymbols.size>1&&this._selectedSymbols.has(this._symbol)){const t=Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e))),n=t.filter((t=>e.has(t)));return n.length>0&&t.length>n.length}return!1},this._mapListsToActions=e=>[...this._lists.map((t=>{const n={doNotCloseOnClick:!0,onExecute:()=>this._onTransferActionExecute(t,e)};return new r.Action({actionId:"Watchlist.AddSelectedSymbols",options:{...n,label:(0,d.ensureNotNull)(t.name),checkable:!0,checked:this._getIsChecked(new Set(t.symbols))},customActionOptions:{...n,jsxLabel:c.createElement(C.ContextMenuWatchlistItem,{title:(0,d.ensureNotNull)(t.name),isChecked:this._getIsChecked(new Set(t.symbols)),isSmallSize:1===this._menuSize,indeterminate:this._getIndeterminate(new Set(t.symbols))})}})}))],this._createFinancialsAction=()=>this._list&&(0,G.isHotListId)(this._list.id)?null:new r.Action({actionId:"Chart.Dialogs.ShowInsertFinancials",options:{label:(0,k.appendEllipsis)(s.t(null,void 0,n(677720))),icon:X,statName:"Financials",onExecute:()=>{h.enabled("mobile_app_action_open_financials_webview")?(0,B.openFinancialsWebview)(new URLSearchParams({symbol:this._symbol})):(0,W.showFinancialsDialog)({symbol:this._symbol}),this._trackEvent?this._trackEvent("Financials"):((0,b.trackEvent)("ContextMenuClick","Financials","Watch"),(0,R.getTracker)().then((e=>{null!==e&&e.trackFinancialsDialog(this._symbol,"Watch")})))}}}),this._createDetailsAction=()=>new r.Action({actionId:"Chart.Dialogs.ShowSymbolInfo",options:{label:(0,k.appendEllipsis)(s.t(null,void 0,n(11184))),icon:K,statName:"SymbolInfo",onExecute:()=>{var e;h.enabled("mobile_app_action_open_details_webview")?null===(e=this._detailsWebviewController)||void 0===e||e.open():(0,F.showDetailsDialog)({symbol:this._symbol}),(0,b.trackEvent)("ContextMenuClick","Details","Watch")}}});const{...t}=e;this._params=t}setWidgetId(e){this._widgetId=e}setList(e){this._list=e}setSymbol(e){this._symbol=e}setSelectedSymbols(e){this._selectedSymbols=new Set(e)}setShortName(e){this._shortName=e}setListGetter(e){this._getLists=e}setMenuSize(e){this._menuSize=e}setTickerUrl(e){this._tickerUrl=e}setAddEconomyActions(e){this._addEconomyActions=e}setTrackEventCb(e){this._trackEvent=e}setIsAddingSymbolsAllowed(e){this._isAddingSymbolsAllowed=e}setIsAddToCompareAllowed(e){this._isAddToCompareAllowed=e}setIsAddNoteAllowed(e){this._isAddNoteAllowed=e}onMoveSymbolsToList(){return this._onMoveSymbolsToList}onAddSymbolsToList(){return this._onAddSymbolsToList}onMoveSymbolsToNewList(){return this._onMoveSymbolsToNewList}onAddSymbolsToNewList(){return this._onAddSymbolsToNewList}onCreateSection(){return this._onCreateSection}onAddSymbols(){
return this._onAddSymbols}onRemoveSymbol(){return this._onRemoveSymbol}getContextMenuActions(){return this._getTVContextMenuActions()}_getTVContextMenuActions(){const e=[];if(h.enabled("marked_symbols")){if(this._selectedSymbols.size>1&&this._selectedSymbols.has(this._symbol)){e.push(...this._createFlagAllSelectedAction());const t=Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e)));t.length&&t.every((e=>null!==(0,d.ensureNotNull)(this._service).getSymbolColor(e)))&&e.push(this._createUnflagAllSelectedAction())}else e.push(...this._createFlagSymbolAction()),null!==(0,d.ensureNotNull)(this._service).getSymbolColor(this._symbol)&&e.push(this._createUnflagSymbolAction());e.push(this._createUnflagAllSymbolsAction())}this._isAddingSymbolsAllowed&&this._list&&(e.length>0&&e.push(new r.Separator),e.push(this._createNewSectionAction()),e.push(this._createAddSymbolAction()));const t=this._selectedSymbols.size<=1||!this._selectedSymbols.has(this._symbol),n=this._isAddNoteAllowed&&t&&h.enabled("text_notes");if(this._params.isMultipleListAllowed&&(e.length>0&&e.push(new r.Separator),t?e.push(this._createAddSymbolToAction()):e.push(this._createAddSelectionToAction())),this._isAddToCompareAllowed&&(e.length>0&&!this._params.isMultipleListAllowed&&e.push(new r.Separator),t?e.push(this._createAddSymbolToCompareAction()):this._selectedSymbols.size<=10&&e.push(this._createAddSelectionToCompareAction())),n&&1!==this._menuSize&&e.push(this._createTextNotesAction()),1===this._menuSize&&(!this._params.isMultipleListAllowed&&e.length>0&&e.push(new r.Separator),e.push(this._createRemoveSymbolAction()),e.push(this._createOpenSymbolAction())),n&&1===this._menuSize&&(e.length>0&&e.push(new r.Separator),e.push(this._createTextNotesAction())),t){const t=w.quoteSessionAdapters.get(v.WATCHLIST_WIDGET_ID).getLastSymbolData(this._symbol),s=!!t&&(0,O.hasFinancialsByTypespecs)(t.values.type,t.values.typespecs),o=!this._params.financialsDisabled&&s;o&&(!n&&e.length>0&&e.push(new r.Separator),e.push(this._createFinancialsAction())),1===this._menuSize&&(!n&&!o&&e.length>0&&e.push(new r.Separator),e.push(this._createDetailsAction()))}return this._addEconomyActions&&e.push(...this._createEconomyActions()),e.filter((e=>null!==e))}_getLibraryContextMenuActions(){return[]}_createUnflagAllSymbolsAction(){return new r.Action({actionId:"Watchlist.UnflagAllSymbols",options:{label:s.t(null,void 0,n(560342)),onExecute:()=>{var e;e=()=>{(0,d.ensureNotNull)(this._service).clearAllSymbolsColor()},(0,p.showConfirm)({text:s.t(null,void 0,n(654408)),onConfirm:({dialogClose:t})=>{e(),t()}}),this._trackEvent?this._trackEvent("Unflag all"):this._selectedSymbols.size>1?ne("Context menu unflag all"):te("Unflag all")}}})}_createNewSectionAction(){var e;const t={icon:$,disabled:(0,q.isDeletedSymbolsList)(null===(e=this._list)||void 0===e?void 0:e.id),onExecute:()=>{window.runOrSignIn((()=>{const e=(0,d.ensureDefined)(this._list).symbols.filter(a.isSeparatorItem);this._onCreateSection.fire(this._symbol,(0,f.buildUniqueName)(e,(0,
f.convertToSeparatorName)("SECTION"))),te("New section")}),{source:"Add new section"})}};return new r.Action({actionId:"Watchlist.CreateSection",options:{...t,label:s.t(null,void 0,n(871550))},customActionOptions:{...t,jsxLabel:c.createElement(S,null)}})}_createAddSymbolAction(){var e;return new r.Action({actionId:"Watchlist.AddSymbol",options:{label:s.t(null,void 0,n(57590)),icon:J,disabled:(0,q.isDeletedSymbolsList)(null===(e=this._list)||void 0===e?void 0:e.id),onExecute:()=>{(0,i.showWatchlistSearchDialog)({fullscreen:1===this._menuSize,targetSymbol:this._symbol,onSearchComplete:(e,t)=>{(0,U.runOrSigninWithFeature)((()=>{const n=e.map((e=>e.symbol));this._onAddSymbols.fire(n,t)}),{feature:"watchList",source:"add symbol to watchlist"})}})}}})}_createUnflagSymbolAction(){return new r.Action({actionId:"Watchlist.UnflagSymbol",options:{label:s.t(null,{replace:{symbol:this._shortName}},n(684114)),shortcutHint:_.actionNames["alt+return"],onExecute:()=>{(0,d.ensureNotNull)(this._service).setSymbolsColor([this._symbol],null),this._trackEvent?this._trackEvent("Unflag"):te("Unflag")}}})}_createFlagSymbolAction(){const e=s.t(null,{replace:{symbol:this._shortName}},n(182246)),t=(0,d.ensureNotNull)(this._service).getSymbolColor(this._symbol)||void 0,o=(0,d.ensureNotNull)(this._colorManager),i=e=>{const n=m.ContextMenuManager.getShown();n&&n.hide(),(0,U.runOrSigninWithFeature)((()=>{o.setColor(e),e!==t&&(0,d.ensureNotNull)(this._service).setSymbolsColor([this._symbol],o.getColor()),this._trackEvent?this._trackEvent("Flag"):te("Flag"),u.LIST_COLORS.forEach((e=>{l[e].update({checked:e===o.getColor()})}))}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},l={},a=u.LIST_COLORS.map((e=>{const n=new r.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{label:(0,A.flaggedSymbolColorName)(e),onExecute:()=>i(e),checkable:!0,checked:e===t}});return l[e]=n,n})),h={doNotCloseOnClick:!0};return[new r.Action({actionId:"Watchlist.FlagSymbol",options:{label:e,shortcutHint:_.actionNames["alt+return"],onExecute:()=>i(o.getColor())}}),new r.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{...h,label:s.t(null,void 0,n(318280)),subItems:a},customActionOptions:{...h,jsxLabel:c.createElement(T.LabelColorSelector,{value:t,onChange:i})}})]}_createFlagAllSelectedAction(){var e;const t=(0,d.ensureNotNull)(this._colorManager),o={},i=Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e))),l=null===(e=this._service)||void 0===e?void 0:e.getSymbolColor(i[0]),h=i.every((e=>{var t;return(null===(t=this._service)||void 0===t?void 0:t.getSymbolColor(e))===l})),p=h?l:null,f=u.LIST_COLORS.map((e=>{const t=new r.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{label:(0,A.flaggedSymbolColorName)(e),onExecute:()=>g(e),checkable:!0,checked:e===p}});return o[e]=t,t})),g=e=>{const n=m.ContextMenuManager.getShown();n&&n.hide(),(0,U.runOrSigninWithFeature)((()=>{var n;t.setColor(e),e!==(null===(n=this._list)||void 0===n?void 0:n.color)&&(0,
d.ensureNotNull)(this._service).setSymbolsColor(Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e))),t.getColor()),u.LIST_COLORS.forEach((e=>{var t;o[e].update({checked:e===(null===(t=this._colorManager)||void 0===t?void 0:t.getColor())})})),ne("Context menu flag")}),{feature:"flaggedSymbolsColors",source:"Set symbol color"})},b={doNotCloseOnClick:!0};return[new r.Action({actionId:"Watchlist.FlagSelectedSymbols",options:{label:s.t(null,void 0,n(330836)),shortcutHint:_.actionNames["alt+return"],onExecute:()=>g(t.getColor())}}),new r.Action({actionId:"Watchlist.ChangeFlaggedGroupColor",options:{...b,label:s.t(null,void 0,n(318280)),subItems:f},customActionOptions:{...b,jsxLabel:c.createElement(T.LabelColorSelector,{onChange:g})}})]}_createUnflagAllSelectedAction(){return new r.Action({actionId:"Watchlist.UnflagSelectedSymbols",options:{label:s.t(null,void 0,n(751485)),shortcutHint:_.actionNames["alt+return"],onExecute:()=>{(0,d.ensureNotNull)(this._service).setSymbolsColor(Array.from(this._selectedSymbols),null),ne("Context menu unflag selected")}}})}_createTextNotesAction(){return this._list&&(0,G.isHotListId)(this._list.id)?null:new r.Action({actionId:"Note.Create",options:{label:s.t(null,{replace:{symbol:this._symbol}},n(878850)),icon:j,onExecute:()=>{window.runOrSignIn((()=>{(0,H.createSymbolNote)(this._symbol,1===this._menuSize),this._trackEvent&&this._trackEvent("Text note")}),{source:"Text note from watchlist"}),te("Add text notes")}}})}_createAddSymbolToCompareAction(){const e=s.t(null,{replace:{symbol:this._shortName}},n(465687));const t={onExecute:()=>{var e;null===(e=this._chartWidgetCollection)||void 0===e||e.activeChartWidget.value().addCompareAsOverlay(this._symbol,this._allowExtendTimeScale)}};return new r.Action({actionId:"Watchlist.AddSymbolToCompare",options:{...t,label:e},customActionOptions:{...t,jsxLabel:c.createElement(M.CompareLabel,{label:e})}})}_createAddSelectionToCompareAction(){const e=s.t(null,void 0,n(695296));const t={onExecute:async()=>{var e;const t=Array.from(this._selectedSymbols).filter((e=>!(0,a.isSeparatorItem)(e)));for(const n of t)await(null===(e=this._chartWidgetCollection)||void 0===e?void 0:e.activeChartWidget.value().addCompareAsOverlay(n,this._allowExtendTimeScale))}};return new r.Action({actionId:"Watchlist.AddSelectedSymbolsToCompare ",options:{...t,label:e},customActionOptions:{...t,jsxLabel:c.createElement(M.CompareLabel,{label:e})}})}_createNewListAction(e,t){return new r.Action({actionId:"Watchlist.Create",options:{label:(0,k.appendEllipsis)(s.t(null,void 0,n(732340))),onExecute:()=>{(0,L.runOrGoPro)(t,P.ProductFeatures.MULTIPLE_WATCHLISTS,{feature:"multipleWatchLists",featureLocation:e})},icon:1===this._menuSize?Z:void 0}})}_getCreateNewListActionByType(e){switch(e){case"add-action":return this._createNewListAction("addSymbolsToNew",(()=>{this._onAddSymbolsToNewList.fire([this._symbol]),te("Add")}));case"add-selected-action":return this._createNewListAction("addSymbolsToNew",(()=>{this._onAddSymbolsToNewList.fire(Array.from(this._selectedSymbols)),
ne("Add")}));case"move-action":return this._createNewListAction("moveSymbolsToNew",(()=>{this._onMoveSymbolsToNewList.fire((0,d.ensureDefined)(this._list).id,[this._symbol]),te("Move")}));case"move-selected-action":return this._createNewListAction("moveSymbolsToNew",(()=>{this._onMoveSymbolsToNewList.fire((0,d.ensureDefined)(this._list).id,Array.from(this._selectedSymbols)),ne("Move")}))}}_createSymbolTransferAction(e,t,n){const s=this._getCreateNewListActionByType(t),o=(async()=>{const e=await(0,d.ensureNotNull)(this._getLists)().catch((()=>[]));if((0,Y.isArray)(e)){const n=e.filter((e=>{var t;return e.id!==(null===(t=this._list)||void 0===t?void 0:t.id)&&!(0,q.isDeletedSymbolsList)(e.id)})).sort(Q.sortComparator);return this._list&&void 0===this._list.color&&!(0,G.isHotListId)(this._list.id)?this._lists=[this._list,...n]:this._lists=n,i=this._mapListsToActions(t),i.length&&i.push(new r.Separator),null!==s&&i.push(s),i}return[]})();let i=[new r.Action({actionId:"Loading",options:{},customActionOptions:{jsxLabel:c.createElement(g.ToolWidgetMenuSpinner,null)}}),new r.Separator];null!==s&&i.push(s);const l=new r.Action({actionId:n,options:{label:e,subItems:i,name:t},optionsLoader:()=>o.then((e=>({subItems:e}))),customActionOptions:{label:e,subItems:i,name:t},customActionOptionsLoader:()=>o.then((e=>({subItems:e})))});return this._transferActions.push(l),l}_createRemoveSymbolAction(){return new r.Action({actionId:"Watchlist.RemoveSymbol",options:{label:s.t(null,void 0,n(366702)),onExecute:()=>{this._onRemoveSymbol.fire(this._widgetId,this._symbol),te("Remove")}}})}_createOpenSymbolAction(){return new r.Action({actionId:"Watchlist.OpenSymbolChart",options:{label:s.t(null,void 0,n(629824)),onExecute:()=>{this._symbol!==x.linking.symbol.value()&&this._symbol!==x.linking.proSymbol.value()&&(x.linking.setSymbolAndLogInitiator(this._symbol,this._params.componentLogName),E.emit(I.CLOSE_POPUPS_AND_DIALOGS_COMMAND))}}})}_createEconomyActions(){const e=[new r.Action({actionId:"Watchlist.OpenSymbolChart",options:{label:(0,k.appendEllipsis)(s.t(null,{replace:{symbol:this._shortName}},n(147980))),onExecute:()=>{(0,V.openNewChart)({symbol:this._symbol})}}})];return this._tickerUrl&&e.push(new r.Action({actionId:"Watchlist.OpenSymbolOverview",options:{label:(0,k.appendEllipsis)(s.t(null,{replace:{symbol:this._shortName}},n(882271))),onExecute:()=>{window.open(this._tickerUrl,"_blank")}}})),e}_createAddSymbolToAction(){return this._createSymbolTransferAction(this._addEconomyActions?s.t(null,{replace:{symbol:this._shortName}},n(617591)):s.t(null,{replace:{symbol:this._shortName}},n(634968)),"add-action","Watchlist.AddSymbol")}_createAddSelectionToAction(){return this._createSymbolTransferAction(s.t(null,void 0,n(978030)),"add-selected-action","Watchlist.AddSelectedSymbols")}}function te(e){(0,b.trackEvent)("Watchlist","Context menu",e)}function ne(e){(0,b.trackEvent)("Watchlist","Multi select",e)}},301852:(e,t,n)=>{"use strict";n.d(t,{watchActiveSymbol:()=>I,watchSelectAllSymbols:()=>T,watchSelectNextAvailableSymbol:()=>k,
watchShowContextMenu:()=>N});var s=n(336349),o=n(254773),r=n(650151),i=n(776324),l=n(189086),a=n(850935),c=n(15814),u=n(456746),d=n(494966),h=n(826939),m=n(583912),_=n(244692),p=n(241303),f=n(783375),g=n(214168),b=n(296890),v=n(77122),y=n(38506),S=n(125226),w=n(776734),C=n(651067),E=n(452528),x=n(958613);function*I(e){const t=(0,o.eventChannel)((t=>{const n=()=>{t((0,_.updateScrollToIdThunk)(e,m.linking.proSymbol.value()))};return m.linking.proSymbol.subscribe(n),()=>m.linking.proSymbol.unsubscribe(n)}));try{for(;;)yield(0,s.put)(yield(0,s.take)(t))}finally{t.close()}}function*k(e){yield(0,s.takeLatest)(l.SELECT_NEXT_AVAILABLE_SYMBOL,(function*(t){const{widgetId:n,currentSymbol:o,keyboardAction:r,cancelSetOnChart:i}=t,l=(0,c.getCurrentViewableListByWidgetId)(yield(0,s.select)(),n);if(null===l)return;const d=(0,S.isFeatureEnabled)("watchlist_collapsible_sections")?(0,E.displaySymbolsSelector)(yield(0,s.select)(),n):l.symbols,h=(0,u.findNextAvailableSymbol)(d.indexOf(o),d,r);h&&(yield(0,s.put)((0,a.updateWidget)(n,{selectedSymbols:[h]})),(0,w.getTracker)().then((e=>{null!==e&&e.trackChangeSymbol(h,"watchlist")})),i||m.linking.setSymbolAndLogInitiator(h,e))}))}function*N(e,t){{let n=null;try{const a=v.enabled("multiple_watchlists"),u=new p.ContextMenuActionsFactory({isMultipleListAllowed:a,componentLogName:t}),m=n=(0,o.eventChannel)((e=>{const t={};return u.onAddSymbols().subscribe(t,((t,n)=>e((0,_.addSymbolsThunk)(h.WATCHLIST_WIDGET_ID,t,n)))),u.onCreateSection().subscribe(t,((t,n)=>e((0,_.insertSymbolBeforeThunk)(h.WATCHLIST_WIDGET_ID,t,n)))),u.onCreateSection().subscribe(t,((t,n)=>e((0,_.findInWatchlistThunk)(h.WATCHLIST_WIDGET_ID,n)))),u.onRemoveSymbol().subscribe(t,((t,n,s)=>e((0,_.removeSymbolsThunk)(t,n,s)))),a&&(u.onAddSymbolsToList().subscribe(t,((t,n,s,o)=>e((0,_.addSymbolsToCustomListThunk)(t,n,s,void 0,o)))),u.onMoveSymbolsToList().subscribe(t,((t,n,s)=>e((0,_.moveSymbolsToCustomListThunk)(t,n,s)))),u.onAddSymbolsToNewList().subscribe(t,(t=>e((0,_.userCreateWatchlistThunk)(null,{symbols:t})))),u.onMoveSymbolsToNewList().subscribe(t,((t,n)=>e((0,_.userCreateWatchlistThunk)(null,{symbols:n},t))))),()=>{u.onAddSymbolsToList().unsubscribeAll(t),u.onMoveSymbolsToList().unsubscribeAll(t),u.onAddSymbolsToNewList().unsubscribeAll(t),u.onMoveSymbolsToNewList().unsubscribeAll(t),u.onCreateSection().unsubscribeAll(t),u.onRemoveSymbol().unsubscribeAll(t)}}));yield(0,s.takeEvery)(m,(function*(e){yield(0,s.put)(e)}));const S=yield(0,s.takeLatest)(l.SHOW_CONTEXT_MENU,(function*(t){const{symbol:n,position:o,widgetId:l,size:a}=t;if(e!==l)return;const{isDeletable:h}=(0,c.widgetOptionsSelector)(yield(0,s.select)(),l),m=(0,c.selectedSymbolsSelector)(yield(0,s.select)(),l),_=(0,r.ensureNotNull)((0,c.widgetSelector)(yield(0,s.select)(),l).listId);let p;p=(0,x.isHotListId)(_)?(0,r.ensure)((0,x.getHotlistById)(yield(0,s.select)(),_)):(0,b.isListColor)(_)?(0,C.getMarkedListByColor)(yield(0,s.select)(),_):(0,c.getCustomListById)(yield(0,s.select)(),_);const v=yield(0,s.fork)((function*(){return yield(0,s.put)((0,g.asAction)((0,
y.getCustomWatchlistsThunk)(null))),yield(0,s.take)(i.setup),(0,c.getCustomLists)(yield(0,s.select)())})),S=v.toPromise();u.setWidgetId(l),u.setListGetter((()=>S)),u.setList((0,r.ensureNotNull)(p)),u.setSelectedSymbols(m),u.setSymbol(n),u.setShortName((0,d.safeShortName)(n)),u.setMenuSize(a),u.setIsAddingSymbolsAllowed(h),yield(0,s.call)(f.ContextMenuManager.showMenu,u.getContextMenuActions(),o,{mode:1===a?"drawer":void 0,returnFocus:!0,takeFocus:!0},void 0,(()=>{u.setListGetter(null),v.cancel()}))}));yield(0,s.join)(S)}finally{null!==n&&n.close()}}}function*T(e){yield(0,s.takeLatest)(l.SELECT_ALL_SYMBOLS,(function*(t){const{widgetId:n}=t;if(e!==n)return;const o=(0,c.getCurrentViewableListByWidgetId)(yield(0,s.select)(),n);null!==o&&(yield(0,s.put)((0,a.updateWidget)(n,{selectedSymbols:o.symbols})))}))}},244692:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addSymbolsThunk:()=>R,addSymbolsToCustomListThunk:()=>U,changeDescriptionThunk:()=>X,clearSymbolListThunk:()=>O,findInWatchlistThunk:()=>H,insertSymbolBeforeThunk:()=>G,markSymbolsThunk:()=>L,moveSymbolsToCustomListThunk:()=>V,openSectionBySymbolThunk:()=>K,removeSelectedSymbolsThunk:()=>M,removeSymbolsThunk:()=>P,renameSymbolListThunk:()=>B,reorderSymbolsThunk:()=>T,saveListAsThunk:()=>Z,selectSymbolListThunk:()=>j,sortSymbolsThunk:()=>A,updateScrollToIdThunk:()=>z,userCreateWatchlistThunk:()=>$});var s=n(650151),o=n(776324),r=n(296890),i=n(125226),l=n(546079),a=n(387506),c=n(651067),u=n(452528),d=n(822714),h=n(440498),m=n(795394),_=n(377953),p=n(934011),f=n(444372),g=n(345848),b=n(850935),v=n(15814),y=n(837657),S=n(456746),w=n(826939),C=n(38506),E=n(266325),x=n(494966),I=n(779923),k=n(436779),N=n(77122);function T(e,t){return(n,s)=>{const o=s(),{isMovable:r}=(0,v.widgetOptionsSelector)(o,e);if(!r)return;const l=(0,v.getCurrentViewableListByWidgetId)(o,e);if(null===l)return;if("hot"===l.type)return;const c=(0,i.isFeatureEnabled)("watchlist_collapsible_sections")?(0,u.displaySymbolsToActualSelector)(o,e,t):t;if("custom"===l.type){const e={...l,symbols:c};n((0,C.replaceWatchlistSymbolsThunk)(null,e,c))}else(0,a.getMarkedSymbolsListServiceInstance)().markMany({color:l.color,symbols:c,separators:!0})}}function A(e,t,n){return(r,i)=>{const l=i(),c=(0,v.getCurrentViewableListByWidgetId)(l,e);if(null===c)return;if("hot"===c.type)return;const{symbolsBeforeSorting:u}=(0,v.widgetSelector)(l,e),d=(0,v.sortingSelector)(l,e),h=c.symbols;let m;if(null===t)m=(0,s.ensureNotNull)(u);else{const{column:s,direction:o}=t;m=(0,S.sortSymbols)(e,h,s,o,n)}"custom"===c.type?(r((0,o.exact)({id:c.id,symbols:m})),r((0,C.replaceWatchlistSymbolsThunk)(null,c,m))):(0,a.getMarkedSymbolsListServiceInstance)().markMany({color:c.color,symbols:m,separators:!0}),r((0,b.updateWidget)(e,{symbolsBeforeSorting:null===d?[...h]:u,sortingListId:c.id,sorting:t}))}}function M(e){return(t,s)=>{const o=s(),i=(0,v.getCurrentViewableListByWidgetId)(o,e);if(null===i)return;if("hot"===i.type)return;const{isDeletable:l}=(0,v.widgetOptionsSelector)(o,e);if(!l)return;const a=(0,v.selectedSymbolsSelector)(o,e)
;if(0===a.length)return;const c=a[a.length-1],u=i.symbols[i.symbols.length-1],d=i.symbols.some((e=>e===c)),m=()=>{if(t(d&&c!==u?(0,b.selectNextAvailableSymbol)(e,c,"next",!0):(0,b.updateWidget)(e,{selectedSymbols:[]})),"custom"===i.type)t(D(a,i));else{{const e=(0,r.remove)({symbols:a,color:i.color});t(e)}}if((0,S.trackRemoveEvent)(a.length>1),!(0,h.isDeletedSymbolsList)(i.id)){const e=(0,v.getCustomListById)(o,h.DELETED_SYMBOLS_LIST_ID),s=a.filter((e=>!(0,y.isSeparatorItem)(e)));t(e?(0,C.addWatchlistSymbolsThunk)(null,e,s):(0,C.createWatchlistThunk)({id:h.DELETED_SYMBOLS_LIST_ID,name:f.t(null,void 0,n(97458)),type:"custom",shared:!1,symbols:s}))}};if(1===a.length)return void m();const _=document.activeElement;(0,I.showConfirm)({text:(0,S.createConfirmRemoveText)(a.length),onConfirm:({dialogClose:e})=>{m(),e()},onClose:()=>{null==_||_.focus()}})}}function D(e,t){return(n,s)=>{if("colored"!==t.type)if("custom"!==t.type);else{const s={...t,symbols:t.symbols.filter((t=>!e.includes(t)))};n((0,C.removeWatchlistSymbolsThunk)(null,s,e))}else{(0,a.getMarkedSymbolsListServiceInstance)().setSymbolsColor(e,null)}}}function L(e,t,n,s){return(o,r)=>{const i=(0,v.selectedSymbolsSelector)(r(),e).filter((e=>!(0,y.isSeparatorItem)(e)));i.length>1&&(!t||i.includes(t))||s?((0,a.getMarkedSymbolsListServiceInstance)().adjustSymbolsColors(i),i.length>1?(0,g.trackEvent)("Watchlist","Multi select","Flag"):(0,g.trackEvent)("Watchlist","Flag")):n&&(n(),(0,g.trackEvent)("Watchlist","Flag"))}}function P(e,t,n,s){return(o,i)=>{const l=i(),a=n?(0,r.isListColor)(n)?(0,c.getMarkedListByColor)(l,n):(0,v.getCustomListById)(l,n):(0,v.getCurrentViewableListByWidgetId)(l,e);if(null===a)return;if("hot"===a.type)return;const u=new Set((0,v.selectedSymbolsSelector)(l,e)),d=u.has(t)&&!s?Array.from(u):[t],h=()=>{if("custom"===a.type)o((0,C.removeWatchlistSymbolsThunk)(null,a,d));else{{const e=(0,r.remove)({symbols:d,color:a.color});o(e)}}(0,S.trackRemoveEvent)(d.length>1),o(q(a.id,d))};if(1===d.length||Boolean(n))return void h();const m=document.activeElement;(0,I.showConfirm)({text:(0,S.createConfirmRemoveText)(d.length),onConfirm:({dialogClose:e})=>{h(),e()},onClose:()=>{null==m||m.focus()}})}}function R(e,t,n){return(s,o)=>{const r=o(),i=(0,v.getCurrentViewableListByWidgetId)(r,e);if(null===i)return;if("hot"===i.type)return;(0,m.resolveSymbolNameForAll)(t).then((t=>{var o,l;let u;if("custom"===i.type)s(W(t,i,n));else{const e=null!==(o=(0,c.getListSymbolsByColor)(r,i.color))&&void 0!==o?o:[],s=n?e.indexOf(n):-1,l=t.filter((e=>(0,a.getMarkedSymbolsListServiceInstance)().getSymbolColor(e)!==i.color));if(l.length){u=l[l.length-1];const t=-1!==s&&s!==e.length-1?e[s+1]:void 0;(0,a.getMarkedSymbolsListServiceInstance)().markMany({symbols:l,color:i.color,separators:!0,before:t})}}u||(u=null!==(l=t[t.length-1])&&void 0!==l?l:null),s(F(e,t,u))}))}}function F(e,t,n,s){return(o,r)=>{t=t.slice(0,10),(0,k.expandWatchlist)(),(e!==w.WATCHLIST_WIDGET_ID||r().widgets[w.WATCHLIST_WIDGET_ID])&&(n&&s&&o(K(n,e)),o((0,b.updateWidget)(e,{highlightedSymbols:[...t],scrollToId:n?{
id:n}:null})),setTimeout((()=>o((0,b.updateWidget)(e,{highlightedSymbols:null}))),500))}}function W(e,t,n,s){return(o,r)=>{const i=new Set(t.symbols),l=e.filter((e=>!i.has(e)&&!i.has((0,x.safeShortName)(e))));if(l.length){const e=[...t.symbols],r=n?t.symbols.indexOf(n):-1;-1===r?e.push(...l):e.splice(r+1,0,...l);const i={...t,symbols:e};o(-1===r?(0,C.addWatchlistSymbolsThunk)(null,i,l,s):(0,C.replaceWatchlistSymbolsThunk)(null,i,e,s))}}}function B(e,t){return(n,o)=>{const i=o();if((0,r.isListColor)(e)){if(null===(0,l.getMarkedListsState)(i))return;n((0,r.rename)({color:e,name:t}))}else{const o=(0,s.ensureNotNull)((0,v.getCustomListById)(i,e));n((0,C.renameWatchlistThunk)(null,o,t))}}}function O(e){return(t,n)=>{const s=n(),o=(0,r.isListColor)(e)?(0,c.getMarkedListByColor)(s,e):(0,v.getCustomListById)(s,e);if(null!==o&&0!==o.symbols.length){if("colored"===o.type){t((0,r.remove)({color:o.color,symbols:o.symbols}))}else t((0,C.replaceWatchlistSymbolsThunk)(null,{...o,symbols:[]},[]));t(q(e,o.symbols))}}}function q(e,t){return(s,o)=>{const r=o();if(!(0,h.isDeletedSymbolsList)(e)){const e=(0,v.getCustomListById)(r,h.DELETED_SYMBOLS_LIST_ID),o=t.filter((e=>!(0,y.isSeparatorItem)(e)));s(e?(0,C.addWatchlistSymbolsThunk)(null,e,o):(0,C.createWatchlistThunk)({id:h.DELETED_SYMBOLS_LIST_ID,name:f.t(null,void 0,n(97458)),type:"custom",shared:!1,symbols:o}))}}}function H(e,t){return F(e,[t],t,!0)}function z(e,t){return(n,s)=>{const o=s(),r=(0,v.getCurrentViewableListByWidgetId)(o,e);if(!r)return;const{symbols:i}=r;i.includes(t)&&n((0,b.updateWidget)(e,{scrollToId:{id:t}}))}}function U(e,t,n,s,o=!0){return(r,i)=>{var l;const a=i(),c=(0,v.getCustomListById)(a,t);if(c){const i=n.filter((e=>!(0,y.isSeparatorItem)(e)));if(r(W(i,c,void 0,s)),(0,v.getGlobalActiveID)(a)===t&&o){const t=null!==(l=i[i.length-1])&&void 0!==l?l:null;r(F(e,i,t))}}}}function V(e,t,n){return async(s,o)=>{const r=o(),i=(0,v.getCustomListById)(r,t),l=n.filter((e=>!(0,y.isSeparatorItem)(e)));i&&s(W(l,i));const a=(0,v.getCustomListById)(r,e);a&&s((0,C.removeWatchlistSymbolsThunk)(null,a,n))}}function G(e,t,n){return(s,o)=>{const r=o(),i=(0,v.getCurrentViewableListByWidgetId)(r,e);if(null===i)return;if("hot"===i.type)return;const{symbols:l}=i;if(!l.includes(n))if("custom"===i.type){const e=l.indexOf(t),o=[...l.slice(0,e),n,...l.slice(e)],r={...i,symbols:o};s((0,C.replaceWatchlistSymbolsThunk)(null,r,o))}else"colored"===i.type&&(0,a.getMarkedSymbolsListServiceInstance)().markMany({color:i.color,before:t,symbols:[n],separators:!0})}}const j=(0,E.respectLatest)((function(e,t){return async(n,i)=>{try{const l=(0,r.isListColor)(t)?(0,s.ensureNotNull)((0,c.getMarkedListByColor)(i(),t)):(0,s.ensureNotNull)((0,v.getCustomListById)(i(),t));if(n((0,C.setActiveWatchlistThunk)(null,"custom"===l.type?l.id:l.color)),!i().widgets[w.WATCHLIST_WIDGET_ID])return void(0,k.expandWatchlist)();n((0,b.updateWidget)(w.WATCHLIST_WIDGET_ID,{isLoading:!1,listId:l.id,sorting:null,symbolsBeforeSorting:null,sortingListId:null,selectedSymbols:[],scrollToId:null})),
"custom"===l.type&&await n(function(e,t){return async(n,r)=>{{const r=(0,S.hasDuplicates)(t.symbols);r&&n((0,b.updateWidget)(w.WATCHLIST_WIDGET_ID,{isLoading:!0}));const i=await(0,E.respectAbort)(e,(0,C.validateWatchListSymbols)((0,s.ensureDefined)(t.symbols)));i.length!==t.symbols.length&&(t={...t,symbols:i}),n((0,o.exact)({id:t.id,symbols:t.symbols})),n((0,b.updateWidget)(w.WATCHLIST_WIDGET_ID,{listId:t.id,selectedSymbols:[]})),r&&n((0,b.updateWidget)(w.WATCHLIST_WIDGET_ID,{isLoading:!1}))}}}(e,l)),(0,k.expandWatchlist)()}catch(e){(0,E.skipAbortError)(e)}}}));const $=(0,E.respectLatest)((function(e,t,o,i){return async(l,a)=>{try{if(!(0,S.canUseMultipleLists)())return;if(!t||void 0===t.name){const s=await(0,E.respectAbort)(e,(0,S.createSaveRenameDialog)(f.t(null,void 0,n(279984)),void 0,i)());t={name:s,symbols:(null==t?void 0:t.symbols)||[]}}t.symbols=[...await(0,C.validateWatchListSymbols)((0,s.ensureDefined)(t.symbols))];const u=(0,C.createWatchlistThunk)(t),d=await(0,E.respectAbort)(e,l(u));if(null===d)return;if(l(j(null,d)),o){const e=(0,r.isListColor)(o)?(0,c.getMarkedListByColor)(a(),o):(0,v.getCustomListById)(a(),o);if(!e)return;await l(D((0,s.ensureDefined)(t.symbols),(0,s.ensureDefined)(e)))}}catch(e){(0,E.skipAbortError)(e)}}}));function Z(e,t,o=!0,r){return async(e,i)=>{if(!(0,S.canUseMultipleLists)())return;const l=await(0,S.createSaveRenameDialog)(f.t(null,void 0,n(799217)),r)();if(!t){const e=(0,s.ensureNotNull)((0,v.getCurrentViewableListByWidgetId)(i(),w.WATCHLIST_WIDGET_ID));t=e.symbols}const a=(0,C.createWatchlistThunk)({name:l,symbols:t}),c=await e(a);null!==c&&o&&e(j(null,c))}}function X(e,t){return async(n,s)=>{(0,r.isListColor)(e)?n((0,r.changeDescription)({color:e,description:t})):(n((0,o.changeDescription)({id:e,description:t})),await(0,d.changeDescription)(e,t))}}function K(e,t){return async(s,o)=>{if(N.enabled("widget")||!(0,i.isFeatureEnabled)("watchlist_collapsible_sections"))return;const r=(0,v.getCurrentViewableWatchListByWidgetId)(o(),t);if(!r)return;let l="";for(let t=0;t<r.symbols.length;t++){const n=r.symbols[t];if((0,y.isSeparatorItem)(n)&&(l=n),n===e)break}if(l&&(0,u.separatorIsCollapsedSelector)(o(),t,l)){if(s((0,p.setSeparatorsCollapse)({listId:r.id,values:{[l]:!1}})),!window.is_authenticated)return;await(0,_.setCollapsedSeparators)({list:r,separators:[l],value:!1}).catch(E.skipAbortError).catch((e=>{(0,I.showWarning)({title:f.t(null,void 0,n(482751)),text:e.message}),s((0,p.setSeparatorsCollapse)({listId:r.id,values:{separator:!0}}))}))}}}},329503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NotesContext:()=>i,NotesProvider:()=>l});var s=n(50959),o=n(386942),r=n(870679);const i=s.createContext({});function l({children:e}){return s.createElement(o.Provider,{store:r.symbolNotesStore,context:i},e)}},576442:(e,t,n)=>{"use strict";n.d(t,{useFeatureToggle:()=>r});var s=n(50959),o=n(125226);function r(e){const[t,n]=(0,s.useState)((()=>(0,o.isFeatureEnabled)(e)));return(0,s.useEffect)((()=>{const s=o.FeatureToggle.onFeaturesStateChanged(),r=()=>{const s=(0,o.isFeatureEnabled)(e);t!==s&&n(s)}
;return r(),s.subscribe(null,r),()=>s.unsubscribe(null,r)}),[t,e]),t}},510119:(e,t,n)=>{"use strict";n.d(t,{useQuotesSnapshot:()=>o});var s=n(50959);function o(e,t,n){const[o,r]=(0,s.useState)((()=>n.getSnapshotSync(e,new Set(t))));return(0,s.useEffect)((()=>{let s=!1;return n.getSnapshot(e,new Set(t)).then((e=>{s||r(e)})),()=>{s=!0}}),[e]),o}},324997:(e,t,n)=>{"use strict";n.d(t,{useResizeObserver:()=>s.useResizeObserver});var s=n(444530)},45219:(e,t,n)=>{"use strict";n.d(t,{PopupMenuItemToggle:()=>a});var s=n(50959),o=n(497754),r=n(634993),i=n(182120),l=n(354583);function a(e){const{isDisabled:t,hint:n,label:a,isChecked:c,checkboxClassName:u,labelClassName:d,indeterminate:h,isActive:m,checkboxTabIndex:_,checkboxReference:p,checkboxDataRole:f,...g}=e;return s.createElement(r.PopupMenuItem,{...g,isDisabled:t,shortcut:n,dontClosePopup:!0,labelRowClassName:d,label:s.createElement(i.Checkbox,{reference:p,disabled:t,label:a,checked:c,indeterminate:h,className:o(l.checkbox,u),tabIndex:_,"data-role":f})})}},93916:(e,t,n)=>{"use strict";n.d(t,{PopupMenuSeparator:()=>l});var s=n(50959),o=n(497754),r=n.n(o),i=n(92910);function l(e){const{size:t="normal",className:n,ariaHidden:o=!1}=e;return s.createElement("div",{className:r()(i.separator,"small"===t&&i.small,"normal"===t&&i.normal,"large"===t&&i.large,n),role:"separator","aria-hidden":o})}},61103:(e,t,n)=>{"use strict";n.d(t,{Renamable:()=>c});var s=n(50959),o=n(497754),r=n(142135),i=n(777466),l=n(470316),a=n(452671);function c(e){const{name:t,maxLength:n,onSubmit:c,onClose:u,isRenaming:d,children:h,inputClassName:m,size:_}=e,[p,f]=(0,s.useState)(t),g=(0,s.useRef)(null);return(0,s.useEffect)((()=>{f(t)}),[t]),(0,s.useEffect)((()=>{d&&null!==g.current&&(g.current.focus(),g.current.setSelectionRange(0,p.length))}),[d]),d?s.createElement(r.InputControl,{value:p,onChange:function(e){f(e.currentTarget.value)},onClick:i.preventDefault,className:o(a.renameInput),inputClassName:m,onKeyDown:function(e){27===(0,l.hashFromEvent)(e)?b():13===(0,l.hashFromEvent)(e)&&v()},reference:function(e){g.current=e},onBlur:v,onDragStart:function(e){e.preventDefault(),e.stopPropagation()},size:_,maxLength:n,draggable:!0,stretch:!0}):h;function b(){f(t),u()}function v(){""!==p?c(p):b()}}},739357:e=>{e.exports={spinnerWrap:"spinnerWrap-cZT0OZe0"}},404214:(e,t,n)=>{"use strict";n.d(t,{getBackendUrl:()=>o});const s=()=>window.SCREENER_HOST||"https://scanner.tradingview.com";function o(e,t=e){return Array.isArray(e)?e.length>1?`${s()}/global/`:`${s()}/${t[0]}/`:`${s()}/${t}/`}},838990:(e,t,n)=>{"use strict";n.d(t,{getBonds:()=>h,getFuturesContracts:()=>d,getSymbolInfo:()=>m});var s=n(125226),o=n(120780),r=n(201089),i=n(149891),l=n(774280),a=n(404214),c=n(893125);const u=(0,r.getLogger)("Screener.Widget");function d(e,t,n){const s={filter:[{left:"expiration",operation:"nempty"},{left:"root",operation:"equal",right:e},{left:"subtype",operation:"nequal",right:"continuous"}],markets:[c.NonStockMarket.Futures],...t};return(0,o.fetch)((0,a.getBackendUrl)(n,"futures")+"scan",{method:"POST",
body:JSON.stringify(s),credentials:"include"}).then((e=>e.json())).catch((e=>{u.logError(`Failed to get futures contracts. ${e.message}`)}))}function h(e,t,n){const s={filter:[{left:"maturity_date",operation:"nempty"},{left:"country_code",operation:"equal",right:e},{left:"typespecs",operation:"has",right:"government"},{left:"market",operation:"equal",right:"bonds"}],symbols:{query:{types:["bond"]}},...t};return(0,o.fetch)((0,a.getBackendUrl)(n)+"scan",{method:"POST",body:JSON.stringify(s),credentials:"include"}).then((e=>e.json())).catch((e=>{u.logError(`Failed to get bonds. ${e.message}`)}))}function m(e,t,n,r,c){const d={columns:t,range:[0,1],symbols:{tickers:[(0,l.getTickerSymbol)(e,n)]},...c?{price_conversion:{disabled:!0}}:{}},h=(0,i.getSymbolScannerMarket)(n),m=new Headers;return(0,s.isFeatureEnabled)("screener_new_auth_request_header")&&m.append("X-UseNewAuth","true"),(0,o.fetch)((0,a.getBackendUrl)(h)+"scan",{signal:r,method:"POST",body:JSON.stringify(d),credentials:"include",headers:m}).then((e=>e.json())).catch((e=>{u.logError(`Failed to get symbol info. ${e.message}`)}))}},774280:(e,t,n)=>{"use strict";function s(e,t){return"forex"===t?function(e){return"FX_IDC:"+e.substring(e.indexOf(":")+1)}(e):e}n.r(t),n.d(t,{getTickerSymbol:()=>s})},103416:(e,t,n)=>{"use strict";n.d(t,{mutateSimpleDate:()=>i});var s=n(150335),o=n(958067),r=n(868305);function i(e){return e&&(0,s.isNumber)(e)?o.dateFormatFunctions["yyyy-MM-dd"]((0,r.iso8601ToDateObj)(e),!0):"—"}},149891:(e,t,n)=>{"use strict";n.d(t,{getSymbolScannerMarket:()=>o});var s=n(893125);const o=e=>"futures"===e?s.NonStockMarket.Futures:s.GlobalMarket.Global},552793:(e,t,n)=>{"use strict";n.d(t,{getImage:()=>r});const s=new Map;function o(e){e.crossOrigin="anonymous"}function r(e,t,n=o){let r=s.get(e);return void 0===r&&(r=new Promise(((e,s)=>{const o=new Image;o.onload=()=>{e(o),o.onload=null,o.onerror=null},o.onerror=()=>{s(),o.onload=null,o.onerror=null},n(o),o.src=t})),s.set(e,r)),r}},59171:(e,t,n)=>{"use strict";var s=n(77122),o=[{d:"E-Mini S&P 500",t:"ES"},{d:"E-Mini Nasdaq 100",t:"NQ"},{d:"Gold",t:"GC"},{d:"Silver",t:"SI"},{d:"Crude Oil WTI",t:"CL"},{d:"Natural Gas",t:"NG"},{d:"Australian Dollar",t:"6A"},{d:"Australian Dollar (Floor)",t:"AD"},{d:"Euro FX",t:"6E"},{d:"Euro FX (Floor)",t:"EC"},{d:"Corn",t:"ZC"},{d:"Corn (Floor)",t:"C"},{d:"Eurodollar",t:"GE"},{d:"Eurodollar (Floor)",t:"ED"}],r=function(){var e=[{pattern:"(",ctor:i},{pattern:")",ctor:l},{pattern:"+",ctor:c},{pattern:"-",ctor:u},{pattern:"*",ctor:d},{pattern:"/",ctor:h},{pattern:"^",ctor:m},{pattern:/\d+(?:\.\d*|(?![a-zA-Z0-9_!:.&]))|\.\d+/,ctor:g},{pattern:/\./,ctor:y},{pattern:s.enabled("charting_library_base")?/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF^][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!:.&]*|'.+?'/:/[a-zA-Z0-9_\u0370-\u1FFF_\u2E80-\uFFFF][a-zA-Z0-9_\u0020\u0370-\u1FFF_\u2E80-\uFFFF_!|:.&]*|'.+?'/,ctor:f},{pattern:/'[^']*/,ctor:v},{pattern:/[\0-\x20\s]+/,ctor:r}];function t(e,t){var n=function(){};return n.prototype=t.prototype,e.prototype=new n,e}function n(){}function r(e){
this.value=e}function i(){}function l(){}function a(){}function c(){}function u(){}function d(){}function h(){}function m(){}n.prototype.toString=function(){return this.value},t(r,n),t(i,n),i.prototype.value="(",t(l,n),l.prototype.value=")",t(a,n),t(c,a),c.prototype.value="+",c.prototype.precedence=0,c.prototype.commutative=!0,t(u,a),u.prototype.value="-",u.prototype.precedence=0,u.prototype.commutative=!1,t(d,a),d.prototype.value="*",d.prototype.precedence=1,d.prototype.commutative=!0,t(h,a),h.prototype.value="/",h.prototype.precedence=1,h.prototype.commutative=!1,t(m,a),m.prototype.value="^",m.prototype.precedence=2,m.prototype.commutative=!1;var _=/^'?(?:([A-Z0-9_]+):)?(.*?)'?$/i,p=/[+\-/*]/;function f(e){this.value=e}function g(e){this.value=e}function b(e){this.value=e}function v(){f.apply(this,arguments)}function y(){g.apply(this,arguments)}t(f,n),f.prototype.toString=function(){if(this.hasOwnProperty("_ticker")){var e=p.test(this._ticker)?"'":"";return e+(this._exchange?this._exchange+":":"")+this._ticker+e}return this.value},f.prototype.parse=function(){var e=_.exec(this.value);e[1]&&(this._exchange=e[1]),this._ticker=e[2]},f.prototype.parseAsFutures=function(){this.hasOwnProperty("_ticker")||this.parse();for(var e=function(e){return o.some((function(t){return t.t===e}))},t=2;t>=1;--t){var n=this._ticker.slice(0,t);if(e(n)){this._root=n,this._contract=this._ticker.slice(t);break}}},f.prototype.exchange=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._exchange;null==e?delete this._exchange:this._exchange=e+""},f.prototype.ticker=function(e){if(this.hasOwnProperty("_ticker")||this.parse(),!(arguments.length>0))return this._ticker;null==e?delete this._ticker:this._ticker=e+"",delete this._root,delete this._contract},f.prototype.root=function(e){if(this.hasOwnProperty("_root")||this.parseAsFutures(),!(arguments.length>0))return this._root;null==e?delete this._root:(this._root=e+"",this._root&&(this._ticker=this._root+(this._contract||"")))},f.prototype.contract=function(e){if(this.hasOwnProperty("_contract")||this.parseAsFutures(),!(arguments.length>0))return this._root;null==e?delete this._contract:(this._contract=e+"",this._root&&(this._ticker=this._root+this._contract))},t(g,n),g.prototype.toString=function(){return this.hasOwnProperty("_normalizedValue")?this._normalizedValue:this.value},g.prototype.parse=function(){this._normalizedValue=this.value.replace(/^0+|\.0*$/g,"").replace(/(\.\d*?)0+$/,"$1").replace(/^(\.|$)/,"0$1")},b.prototype.toString=function(){return this.value},t(v,f),v.prototype.isIncomplete=!0,v.prototype.incompleteSuggest=function(){if("'"!==this.value)return String("'")},t(y,g),y.prototype.isIncomplete=!0;var S=new RegExp(e.map((function(e){return"("+("string"==typeof e.pattern?e.pattern.replace(/[\^$()[\]{}*+?|\\]/g,"\\$&"):e.pattern.source)+")"})).concat(".").join("|"),"g");function w(t,n){var s,o=[];e:for(;s=S.exec(t);){for(var i=e.length;i--;)if(s[i+1]){if(e[i].ctor){var l=new e[i].ctor(s[i+1]);l._offset=s.index,o.push(l)}continue e}
var a=new b(s[0]);a._offset=s.index,o.push(a)}if(n&&n.recover){var c;for(i=o.length;i--;){var u=o[i];if(u instanceof g||u instanceof f){if(void 0!==c){var d=new f(""),h=o.splice(i,c-i+1,d);d.value=h.map((function(e){return e.value})).join("")}c=i}else u instanceof r||(c=void 0)}}return o}function C(e){for(var t=[],n=0;n<e.length;n++)e[n]instanceof r||t.push(e[n]);return t}function E(e){e=C(e);for(var t,n=[],s=[],o=0;o<e.length;o++){var r=e[o];if(r instanceof a)s.length&&s[s.length-1].minPrecedence>r.precedence&&(s[s.length-1].minPrecedence=r.precedence);else if(r instanceof i)s.push(t={minPrecedence:1/0,openBraceIndex:o});else if(r instanceof l){var c=e[(t=s.pop()).openBraceIndex-1],u=e[o+1];u instanceof a&&!(u.precedence<=t.minPrecedence)||!(!(c instanceof a)||c.precedence<t.minPrecedence||c.precedence===t.minPrecedence&&c.commutative)||(n.unshift(t.openBraceIndex),n.push(o),s.length&&s[s.length-1].minPrecedence>t.minPrecedence&&(s[s.length-1].minPrecedence=t.minPrecedence))}}for(o=n.length;o--;)e.splice(n[o],1);return e}function x(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return(e=w(e)).filter((function(e){return e instanceof f})).map((function(e){return e.exchange()})).filter((function(e){return e}))}function I(e){return 1!==(e=x(e)).length?null:e[0]}function k(e,t){return(e=x(e)).some((function(e){return t.includes((e||"").toUpperCase())}))}function N(e){return e.join("")}return{tokenize:w,validate:function(e){if(s.enabled("charting_library_base"))return{currentState:"var"};for(var t="init",n="var",o=t,c={warnings:[],errors:[],isEmpty:!0},u=[],d=0;d<e.length;d++){if(!((m=e[d])instanceof r)){if(delete c.isEmpty,m.isIncomplete){var h={status:"incomplete",reason:"incomplete_token",offset:m._offset,token:m};if(m.incompleteSuggest&&(h.recover={append:m.incompleteSuggest()}),c.warnings.push(h),d!==e.length-1){h.status="error";continue}}if(m instanceof f||m instanceof g){if(o===n){c.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}o=n}else if(m instanceof a){if(o!==n){c.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}o="operator"}else if(m instanceof i){if(o===n){c.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}u.push(m),o=t}else if(m instanceof l){if(o!==n){c.errors.push({status:"error",reason:"unexpected_token",offset:m._offset,token:m});continue}u.pop()||c.errors.push({status:"error",reason:"unbalanced_brace",offset:m._offset,token:m,recover:{prepend:new i}}),o=n}else m instanceof b&&c.errors.push({status:"error",reason:"unparsed_entity",offset:m._offset,token:m})}}for(c.braceBalance=u.length,o!==n&&c.warnings.push({status:"incomplete"});u.length;){var m;h={status:"incomplete",reason:"unbalanced_brace",offset:(m=u.pop())._offset,token:m};o===n&&(h.recover={append:new l}),c.warnings.push(h)}return c.currentState=o,0===c.warnings.length&&delete c.warnings,0===c.errors.length&&delete c.errors,c},factorOutBraces:E,normalizeTokens:function(e){
for(var t=0;t<e.length;t++)e[t].parse&&e[t].parse();return e},flip:function(e){var t=function(e){for(var t,n=0,s=1,o=2,c=3,u=n,d=0,m=0;m<e.length;m++){var _=e[m];if(!(_ instanceof r))switch(u){case n:if(!(_ instanceof g&&1==+_.value))return!1;u=s;break;case s:if(!(u===s&&_ instanceof h))return!1;u=o,t=m+1;break;case o:if(_ instanceof i)u=c,d=1;else if(_ instanceof a)return!1;break;case c:_ instanceof i?d++:_ instanceof l&&--d<=0&&(u=o)}}return e.slice(t)}(e);return E(t||[new g("1"),new h,new i].concat(e).concat(new l))},hasBatsSymbols:function(e){return k(e,["BATS"])},hasEodSymbols:function(e){return(e=I(e))&&-1!==e.toUpperCase().indexOf("_EOD")},hasChxjpySymbols:function(e){return k(e,["CHXJPY"])},hasFreeDelaySymbols:function(e){return k(e,pro.getProductsByType(pro.PRODUCT_TYPES.exchange).map((function(e){return e.exchange.toUpperCase()+"_DLY"})))},getExchange:I,getExchanges:x,isExchange:function(e,t){return!!(e=I(e))&&e.substring(0,t.length)===t},SymbolToken:f,IncompleteSymbolToken:v,NumberToken:g,BinaryOperatorToken:a,OpenBraceToken:i,CloseBraceToken:l,ticker:function(e){return new f(e).ticker()},shortName:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");var t=E(C(w(e)));return t.forEach((function(e){e instanceof f&&e.exchange(null)})),N(t)},normalize:function(e){if("string"!=typeof e)throw new TypeError("expression must be a string");return N(E(C(w(e))))}}}();e.exports=r},267578:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetMenuSpinner:()=>a});var s=n(50959),o=n(497754),r=n.n(o),i=n(265005),l=n(739357);function a(e){const{className:t}=e;return s.createElement("div",{className:r()(l.spinnerWrap,t)},s.createElement(i.Loader,null))}},111393:(e,t,n)=>{"use strict";n.d(t,{DialogRenderer:()=>o});var s=n(129025);class o{constructor(){this._container=document.createElement("div"),this._visibility=new s.WatchedValue(!1)}visible(){return this._visibility.readonly()}_setVisibility(e){this._visibility.setValue(e)}}},270294:(e,t,n)=>{"use strict";n.d(t,{CHART_WIDGET_COLLECTION_SERVICE:()=>o,CollectionViewMode:()=>i,chartWidgetCollectionService:()=>r});var s=n(564894);const o={id:"ChartWidgetCollectionService"};function r(){return(0,s.hasService)(o)?(0,s.service)(o):null}var i;!function(e){e.Multichart="multichart",e.ForceFullscreen="force-fullscreen"}(i||(i={}))},34831:(e,t,n)=>{"use strict";function s(){return Promise.all([n.e(18809),n.e(11165),n.e(93054),n.e(31410),n.e(22666),n.e(5993),n.e(62253),n.e(92191),n.e(34465),n.e(32109),n.e(72639),n.e(9817),n.e(69121),n.e(53842),n.e(4015),n.e(92108),n.e(66639),n.e(88194),n.e(89842),n.e(76592),n.e(35649),n.e(5145),n.e(38669),n.e(30006),n.e(25190),n.e(91033),n.e(58056),n.e(26855),n.e(40866),n.e(43610),n.e(21625),n.e(90684),n.e(61631),n.e(96899),n.e(99916),n.e(36956),n.e(77807),n.e(9227),n.e(56388),n.e(35542),n.e(43445),n.e(58289),n.e(16579),n.e(55480),n.e(33444),n.e(962),n.e(26300),n.e(30979),n.e(29594),n.e(87506),n.e(71286),n.e(46551),n.e(60111),n.e(74703),n.e(18552),n.e(3780),n.e(21754)]).then(n.bind(n,837490))}n.d(t,{loadNewSymbolSearch:()=>s})},
195269:(e,t,n)=>{"use strict";n.d(t,{WebviewControllerBase:()=>r,WebviewPageName:()=>s});var s,o=n(583912);!function(e){e.Financials="financials",e.Forecast="forecast",e.Details="details",e.Technicals="technicals"}(s||(s={}));class r{_createOpenRequest(e,t=new URLSearchParams){var n;const s=null!==(n=t.get("symbol"))&&void 0!==n?n:o.linking.symbol.value();return t.set("symbol",s),{execute(){const n=new URL(`webview/${e}/`,location.origin);return n.search=t.toString(),window.open(n,"_blank")},symbol:()=>s}}}},949590:(e,t,n)=>{"use strict";n.d(t,{LastChangeFormatter:()=>r});var s=n(402084),o=n(943994);class r{constructor(e){const{pricescale:t,minmov:n,fractional:r,minmove2:i,variableMinTick:l,precision:a,format:c}=e;this._formatter="volume"===c?new o.VolumeFormatter(null!=a?a:2):new s.PriceFormatter(t,n,r,i,l||void 0)}format(e,t,n,s=!0,o=!0){return"price"===this._formatter.type?this._formatter.format(e,t,n,s,o):this._formatter.format(e,t)}formatChange(e,t,n){return"price"===this._formatter.type?this._formatter.formatChange(e,t,n):this._formatter.format(e-t,n)}hasForexAdditionalPrecision(){return"hasForexAdditionalPrecision"in this._formatter&&this._formatter.hasForexAdditionalPrecision()}}},430159:(e,t,n)=>{"use strict";n.d(t,{runOrSigninWithFeature:()=>r});var s=n(392896);var o=n(314802);const r=(e,t)=>{{if((0,o.isOnMobileAppPage)("any"))return void window.runOrSignIn(e,t);const r=[];if(t.paidAccountCheck&&r.push((()=>(0,s.paidAccountCheck)({successButtonText:t.paidAccountSuccessButtonText}))),window.is_authenticated)r.reduce(((e,t)=>e.then(t)),Promise.resolve()).then(e).catch((()=>{}));else{!async function(e){(await Promise.all([n.e(62741),n.e(11675),n.e(97455),n.e(62253),n.e(92191),n.e(32109),n.e(68992),n.e(81643),n.e(73151),n.e(33199),n.e(36953),n.e(967),n.e(27781),n.e(61298),n.e(6209),n.e(93496),n.e(37121),n.e(61633),n.e(8954),n.e(962),n.e(42198),n.e(597),n.e(8e3),n.e(38805),n.e(94913)]).then(n.bind(n,577594))).renderRunOrSigninWithFeatureDialog(e)}({signInSuccess:e,options:{source:t.source,sourceMeta:t.sourceMeta,feature:t.feature,mode:t.mode,startTrial:t.startTrial}})}}}},526698:(e,t,n)=>{"use strict";n.d(t,{AggregateError:()=>v,ApiError:()=>b,accumulateErrors:()=>r,changePassword:()=>g,changePasswordUrl:()=>f,checkPhoneCode:()=>c,fetchPost:()=>i,firstLoginData:()=>l,firstLoginDataUrl:()=>o,recoverPassword:()=>S,recoverPasswordUrl:()=>y,recoveryPassword:()=>u,resendLink:()=>a,resetPassword:()=>w,signin:()=>m,signinUrl:()=>d,signup:()=>p,signupUrl:()=>_});var s=n(120780);const o="/accounts/first_login_data/";function r(e,t){return Object.entries(e).map((e=>new b(e[1].join("\n"),t,e[0])))}function i(e,t){return(0,s.fetch)(e,{method:"POST",credentials:"include",mode:"same-origin",body:t})}function l(e){return i(o,e).then((e=>e.ok?e.json():e.json().then((t=>{throw new v(r(t.errors,e.status))}))))}function a(){return i("/api/v1/users/anon/change-email/resend/").then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function c(e){
return i("/api/v1/recover_password/check_phone_code/",e).then((e=>e.ok?e.json():e.json().then((e=>{throw Error(e.error)}))))}function u(e){return i("/api/v1/recover_password/",e).then((e=>e))}const d="/accounts/signin/";function h(e){return e.json().then((t=>{if("error"in t&&""!==t.error||"code"in t||!e.ok)throw new b(t.error||t.detail,e.status,t.code,t.two_factor_types);return t}))}function m(e){return i(d,e).then(h)}const _="/accounts/signup/";function p(e){return i(_,e).then((e=>e.json().then((t=>{if("errors"in t&&""!==t.errors)throw new v(r(t.errors,e.status))}))))}const f="/api/v1/user/profile/settings/change_password/";function g(e){return i(f,e).then((e=>e))}class b extends Error{constructor(e,t,n,s){super(e),this.type=n,this.status=t,this.secondFactorTypes=s}}class v extends Error{constructor(e){super(e.map((e=>e.message)).join("\n")),this.errors=[],this.errors=e}}const y="/api/v1/recover_password/search/";function S(e){return i(y,e).then(h)}function w(e){return i("/accounts/reset_password/",e).then((e=>400===e.status?e.json().then((t=>{if("errors"in t)throw new v(r(t.errors,e.status));throw new b(t.detail,e.status,t.code)})):h(e)))}},647677:(e,t,n)=>{"use strict";n.d(t,{openNewChart:()=>m});var s=n(120780),o=n(656130),r=n(552279),i=n(229534),l=n(503595),a=n(314802),c=n(444372);const u=c.t(null,void 0,n(873088)),d=c.t(null,void 0,n(589117)),h=c.t(null,void 0,n(552988));function m(e={}){window.is_authenticated?(0,l.asyncWindowOpen)(async function(e){let t,n;try{n=await(0,s.fetch)("/charts/",{method:"POST",body:JSON.stringify(e),credentials:"include"});const o=n.headers.get("location");if(n.ok&&o)return(0,a.urlWithMobileAppParams)(o);t=(await n.json()).code}catch(e){}"count_limit"===t||"login_required"===t?(0,r.reloginOrGoPro)({feature:"savedChartsLimit"}):n||!1!==navigator.onLine?n&&n.status>=500||"feature_disabled"===t?(0,i.showErrorDialog)({content:d}):(0,i.showErrorDialog)({content:u}):(0,i.showErrorDialog)({content:h});return}(e)):window.open((0,o.generateChartUrl)(e),"_blank")}},290576:(e,t,n)=>{"use strict";n.d(t,{getProPlanDetailsForUser:()=>m,isExpertFeature:()=>h});var s=n(822122),o=n(740254),r=n(255453),i=n(120780),l=n(526698);function a(e){return window.pro?e===s.ProPlans.Free?-1:window.pro.getProduct((0,r.getProductForTrial)(e)).upgrade_weight:0}function c(e){return window.pro?window.pro.getProduct((0,r.getProductForTrial)(e)).upgrade_weight:0}function u(e){return function(e){return e.sort(((e,t)=>a(e)-a(t)))}((0,o.getProPlansWithFeature)(e).filter((e=>!(0,r.isTrialProduct)(e))))[0]||null}function d(e){return function(e){return e.sort(((e,t)=>c(e)-c(t)))}((0,o.getExpertPlansWithFeature)(e))[0]||null}function h(e){const t=d(e),n=u(e);return Boolean(t)&&!Boolean(n)}async function m(){const e=await(0,i.fetch)("/pro-plans/profile/"),t=await e.json();if(e.ok)return t;if(403===e.status){const n=t;throw new l.ApiError(n.detail,e.status,n.code)}throw new Error(`Unable to handle unexpected response: ${String(e.text())}`)}},913042:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M8.5 3.84l.34.28 4 3.5-.66.76L9.01 5.6V14H8V5.6L4.84 8.38l-.66-.76 4-3.5.33-.28z"/></svg>'},347531:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="m4.67 7.38.66-.76L9 9.84l3.67-3.22.66.76L9 11.16 4.67 7.38Z"/></svg>'},615309:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9.84 9 6.62 5.33l.76-.66L11.16 9l-3.78 4.33-.76-.66L9.84 9Z"/></svg>'},672197:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M10 6.13V8L6 5.5 10 3v2.1A5 5 0 1 1 4 10a.5.5 0 0 1 1 0 4 4 0 1 0 5-3.87Z"/></svg>'},926561:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.2 3.5a1 1 0 0 0-1.4 0l-1.65 1.65L7.29 8a1 1 0 0 0-.29.7V11h2.3a1 1 0 0 0 .7-.3l2.85-2.85 1.65-1.64a1 1 0 0 0 0-1.42L13.2 3.5zm-.7 3.3l-1.3-1.3 1.3-1.3 1.3 1.3-1.3 1.3zm-2-.6l1.3 1.3L9.3 10H8V8.7l2.5-2.5zM5 5.5c0-.28.22-.5.5-.5h1a.5.5 0 1 0 0-1h-1C4.67 4 4 4.67 4 5.5v7c0 .83.67 1.5 1.5 1.5h7c.83 0 1.5-.67 1.5-1.5v-1a.5.5 0 0 0-1 0v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7z"/></svg>'},388140:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M4 10h5V9H4v1zM11 10h6V9h-6v1zM24 10h-5V9h5v1zM6.5 14c-.83 0-1.5.67-1.5 1.5v3c0 .83.67 1.5 1.5 1.5h15c.83 0 1.5-.67 1.5-1.5v-3c0-.83-.67-1.5-1.5-1.5h-15zM6 15.5c0-.28.22-.5.5-.5h15c.28 0 .5.22.5.5v3a.5.5 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-3z"/></svg>'},205939:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8 7v12.15L4.69 16l-.69.73L8.5 21l4.5-4.27-.69-.73L9 19.15V7H8ZM16 9h8V8h-8v1ZM22 14h-6v-1h6v1ZM16 19h4v-1h-4v1Z"/></svg>'},7304:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8 21V8.85L4.69 12 4 11.27 8.5 7l4.5 4.27-.69.73L9 8.85V21H8ZM16 8v1h8V8h-8ZM22 14h-6v-1h6v1ZM16 19h4v-1h-4v1Z"/></svg>'},324020:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M15 5H6.5C5.67 5 5 5.67 5 6.5v15c0 .83.67 1.5 1.5 1.5h15c.83 0 1.5-.67 1.5-1.5V16h1v5.5a2.5 2.5 0 0 1-2.5 2.5h-15A2.5 2.5 0 0 1 4 21.5v-15A2.5 2.5 0 0 1 6.5 4H15v1Zm7.41-.3a2 2 0 0 0-2.82 0l-.94.95-7.5 7.5-1 1-.15.14V19h4.7l.15-.15 1-1 7.5-7.5.94-.94a2 2 0 0 0 0-2.82L22.41 4.7Zm-2.12.71a1 1 0 0 1 1.42 0l1.88 1.88a1 1 0 0 1 0 1.42l-.59.58-1.65-1.64L19.71 6l.58-.59Zm.36 2.94L22.29 10l-6.79 6.8-1.65-1.65-1.64-1.65L19 6.7l1.65 1.65Zm-7.5 7.5 1.64 1.65-.5.5H11v-3.3l.5-.5 1.65 1.65Z"/></svg>'},465890:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},845437:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd"><path stroke="currentColor" d="M13 22.5H5.5a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2V14"/><path stroke="currentColor" stroke-linecap="square" d="M18.5 15.5v8m-4-4h8"/><path fill="currentColor" d="M7 8h11v1H7zm0 4h11v1H7zm0 4h5v1H7z"/></g></svg>'},428026:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.5 7H17v6h-3v-3H9v6H5v6h17V7h-4.5zm.5 14h3V8h-3v13zm-1 0v-7h-3v7h3zm-4-7.5V21h-3V11h3v2.5zM9 21v-4H6v4h3z"/></svg>'},437924:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><g fill="none" fill-rule="evenodd" transform="translate(4 5)"><circle stroke="currentColor" cx="9.5" cy="9.5" r="9"/><path stroke="currentColor" d="M7 14.5h2.5v-5H7"/><path stroke="currentColor" stroke-linecap="square" d="M9.5 14.5h2"/><path fill="currentColor" d="M9.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></g></svg>'},535149:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M11.5 6a.5.5 0 0 0-.5.5V8h6V6.5a.5.5 0 0 0-.5-.5h-5zM18 8V6.5c0-.83-.67-1.5-1.5-1.5h-5c-.83 0-1.5.67-1.5 1.5V8H5.5a.5.5 0 0 0 0 1H7v12.5A2.5 2.5 0 0 0 9.5 24h9a2.5 2.5 0 0 0 2.5-2.5V9h1.5a.5.5 0 0 0 0-1H18zm2 1H8v12.5c0 .83.67 1.5 1.5 1.5h9c.83 0 1.5-.67 1.5-1.5V9zm-8.5 3c.28 0 .5.22.5.5v7a.5.5 0 0 1-1 0v-7c0-.28.22-.5.5-.5zm5.5.5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/></svg>'},72952:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M9 4.5l4.39 3.61a.5.5 0 0 1-.32.89h-1.18v4.5H6.11V9H4.93a.5.5 0 0 1-.32-.89L9 4.5z"/></svg>'},833366:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" d="M7 13h7V6h1v7h7v1h-7v7h-1v-7H7v-1z"/></svg>'},119850:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 9" width="7" height="9" fill="none"><path stroke="currentColor" d="M6 5L3.5 7.5L1 5M3.5 7.5V0"/></svg>'},975361:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 9" width="7" height="9" fill="none"><path stroke="currentColor" d="M6 4L3.5 1.5L1 4M3.5 9V2"/></svg>'},715336:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="20" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M5.5 14a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm0-5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM7 5.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/></svg>'},563140:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><circle stroke="currentColor" cx="6" cy="6" r="5.5"/><path fill="currentColor" d="M4.5 8.523V2.8h.928v4.826H8.5v.897h-4z"/></svg>'},531340:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="none"><circle stroke="#F44336" cx="6" cy="6" r="5.5"/><path fill="#F44336" d="M4.267 8.636l.31-.73c.159.11.355.2.59.274.238.071.45.107.638.107.33 0 .597-.084.798-.253a.806.806 0 0 0 .302-.646.945.945 0 0 0-.17-.542c-.11-.17-.391-.353-.841-.551l-.501-.218c-.425-.185-.722-.404-.892-.657-.167-.254-.251-.559-.251-.915 0-.433.164-.792.493-1.077C5.07 3.143 5.493 3 6.008 3c.689 0 1.167.104 1.436.313l-.25.689a2.019 2.019 0 0 0-.519-.222 2.21 2.21 0 0 0-.645-.107c-.29 0-.517.077-.684.23a.77.77 0 0 0-.246.59c0 .148.03.283.089.404.06.121.141.223.246.305.108.082.326.197.654.345l.51.225c.425.188.722.412.892.674.173.258.259.588.259.99 0 .435-.188.805-.565 1.109C6.811 8.848 6.31 9 5.681 9c-.552 0-1.023-.121-1.414-.364z"/></svg>'}}]);